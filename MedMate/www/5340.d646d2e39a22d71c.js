"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5340],{5340:(A,u,a)=>{a.r(u),a.d(u,{RdoctorPageModule:()=>q});var p=a(6895),o=a(433),i=a(2078),d=a(2435),m=a(655),e=a(4650),h=a(7556),Z=a(1343);function f(t,s){if(1&t&&(e.TgZ(0,"ion-select-option",17),e._uU(1),e.qZA()),2&t){const r=s.$implicit;e.Q6J("value",r.especialidad),e.xp6(1),e.Oqu(r.especialidad)}}const b=[{path:"",component:(()=>{class t{constructor(r,n,l,c,g){this.fb=r,this.alertController=n,this.auth=l,this.store=c,this.router=g,this.especialidades=[],this.newdoctor={uid:"",nombre:"",apellido:"",cedula:"",especialidad:"",correo:"",contrase\u00f1a:"",rol:"Doctor"},this.formularioregistrod=this.fb.group({nombre:new o.NI("",o.kI.required),apellido:new o.NI("",o.kI.required),cedula:new o.NI("",o.kI.required),correo:new o.NI("",o.kI.required),especialidad:new o.NI("",o.kI.required),contrase\u00f1a:new o.NI("",o.kI.required)})}ngOnInit(){this.getespecialidad()}getespecialidad(){this.store.consultar("Especialidades").subscribe(n=>{n&&(this.especialidades=n)})}registrarse(){return(0,m.mG)(this,void 0,void 0,function*(){const r=this.formularioregistrod.value;if(this.formularioregistrod.invalid)yield(yield this.alertController.create({header:"Datos incompletos",message:"Debe de ingresar todos los campos o asegurarse que su contrase\xf1a tenga minimo 6 caracteres",buttons:["Aceptar"]})).present();else{this.newdoctor.nombre=r.nombre,this.newdoctor.apellido=r.apellido,this.newdoctor.cedula=r.cedula,this.newdoctor.especialidad=r.especialidad,this.newdoctor.correo=r.correo,this.newdoctor.contrase\u00f1a=r.contrase\u00f1a,this.newdoctor.rol="Doctor";const n=yield this.auth.registrar(this.newdoctor.correo,this.newdoctor.contrase\u00f1a).catch(l=>{console.log("error")});if(n){console.log("Usuario creado");const l="Doctores",c=n.user.uid;this.newdoctor.uid=c,this.newdoctor.contrase\u00f1a="",yield this.store.createDoc(this.newdoctor,l,c),yield(yield this.alertController.create({header:"Usuario creado",buttons:["INICIO"]})).present(),this.router.navigate(["../login"])}}})}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(o.qu),e.Y36(i.Br),e.Y36(h.e),e.Y36(Z.C),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-rdoctor"]],decls:69,vars:2,consts:[["color","primary"],["fill","clear","slot","start"],["color","light"],[1,"ion-padding"],[3,"formGroup","ngSubmit"],["fill","solid"],["position","floating"],["color","danger"],["placeholder","Ingrese su Nombre","required","","formControlName","nombre","type","text"],[1,"solid"],["placeholder","Ingrese su Apellido","required","","formControlName","apellido","type","text"],["placeholder","Ingrese su Numero de C\xe9dula","required","","formControlName","cedula","type","text"],["formControlName","especialidad","interface","popover","placeholder","Selecciona especialidad"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Ingrese su Correo electronico","required","","formControlName","correo","type","text"],["placeholder","Ingrese su Contrase\xf1a","required","","formControlName","contrase\xf1a","type","password","minlength","6"],["block","","position","Centered","color","primary","type","submit"],[3,"value"]],template:function(r,n){1&r&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0),e._UZ(2,"ion-title"),e.TgZ(3,"ion-button",1),e._UZ(4,"ion-back-button",2),e.qZA()()(),e.TgZ(5,"ion-content",3)(6,"ion-card")(7,"ion-card-header")(8,"ion-card-title"),e._uU(9,"Registro"),e.qZA()(),e.TgZ(10,"ion-card-content")(11,"form",4),e.NdJ("ngSubmit",function(){return n.registrarse()}),e.TgZ(12,"ion-item",5)(13,"ion-label",6),e._uU(14,"Nombre "),e.TgZ(15,"ion-text",7),e._uU(16,"*"),e.qZA()(),e._UZ(17,"ion-input",8),e.qZA(),e.TgZ(18,"ion-item")(19,"ion-label"),e._UZ(20,"hr",9),e.qZA()(),e.TgZ(21,"ion-item",5)(22,"ion-label",6),e._uU(23,"Apellido "),e.TgZ(24,"ion-text",7),e._uU(25,"*"),e.qZA()(),e._UZ(26,"ion-input",10),e.qZA(),e.TgZ(27,"ion-item")(28,"ion-label"),e._UZ(29,"hr",9),e.qZA()(),e.TgZ(30,"ion-item",5)(31,"ion-label",6),e._uU(32,"C\xe9dula"),e.TgZ(33,"ion-text",7),e._uU(34,"*"),e.qZA()(),e._UZ(35,"ion-input",11),e.qZA(),e.TgZ(36,"ion-item")(37,"ion-label"),e._UZ(38,"hr",9),e.qZA()(),e.TgZ(39,"ion-item",5)(40,"ion-label",6),e._uU(41,"Especialidad"),e.TgZ(42,"ion-text",7),e._uU(43,"*"),e.qZA()(),e.TgZ(44,"ion-select",12),e.YNc(45,f,2,2,"ion-select-option",13),e.qZA()(),e.TgZ(46,"ion-item")(47,"ion-label"),e._UZ(48,"hr",9),e.qZA()(),e.TgZ(49,"ion-item",5)(50,"ion-label",6),e._uU(51,"Correo electronico "),e.TgZ(52,"ion-text",7),e._uU(53,"*"),e.qZA()(),e._UZ(54,"ion-input",14),e.qZA(),e.TgZ(55,"ion-item")(56,"ion-label"),e._UZ(57,"hr",9),e.qZA()(),e.TgZ(58,"ion-item",5)(59,"ion-label",6),e._uU(60,"Contrase\xf1a "),e.TgZ(61,"ion-text",7),e._uU(62,"*"),e.qZA()(),e._UZ(63,"ion-input",15),e.qZA(),e.TgZ(64,"ion-item")(65,"ion-label"),e._UZ(66,"hr",9),e.qZA()(),e.TgZ(67,"ion-button",16),e._uU(68," Aceptar "),e.qZA()()()()()),2&r&&(e.xp6(11),e.Q6J("formGroup",n.formularioregistrod),e.xp6(34),e.Q6J("ngForOf",n.especialidades))},dependencies:[p.sg,o._Y,o.JJ,o.JL,o.Q7,o.wO,o.sg,o.u,i.oU,i.YG,i.PM,i.FN,i.Zi,i.Dq,i.W2,i.Gu,i.pK,i.Ie,i.Q$,i.t9,i.n0,i.yW,i.wd,i.sr,i.QI,i.j9,i.cs],styles:["ion-card[_ngcontent-%COMP%]{margin:20px;border-radius:10px;box-shadow:0 0 10px #0003}ion-card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}ion-item[_ngcontent-%COMP%]{margin-bottom:15px}ion-label[_ngcontent-%COMP%]{font-size:18px}ion-input[_ngcontent-%COMP%]{font-size:18px;border-radius:5px;padding:10px}ion-button[_ngcontent-%COMP%]{margin-top:20px}"]}),t})()}];let U=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(b),d.Bz]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,o.u5,o.UX,i.Pc,U]}),t})()}}]);