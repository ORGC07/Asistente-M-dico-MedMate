(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6217:(zt,rt,P)=>{"use strict";P.d(rt,{nm:()=>_r});var a=P(2122);P(4650),P(259);var Ke=P(5861),je=P(9681),Ve=P(4859),_e=P(2090),De=P(1877);const z=new Map,Be={activated:!1,tokenObservers:[]},X={initialized:!1,enabled:!1};function Ce(qe){return z.get(qe)||Object.assign({},Be)}function xe(){return X}const Se="https://content-firebaseappcheck.googleapis.com/v1",fe="exchangeDebugToken",me={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ze{constructor(He,ot,At,Ht,sn){if(this.operation=He,this.retryPolicy=ot,this.getWaitDuration=At,this.lowerBound=Ht,this.upperBound=sn,this.pending=null,this.nextErrorWaitInterval=Ht,Ht>sn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(He){var ot=this;return(0,Ke.Z)(function*(){ot.stop();try{ot.pending=new _e.BH,yield function Re(qe){return new Promise(He=>{setTimeout(He,qe)})}(ot.getNextRun(He)),ot.pending.resolve(),yield ot.pending.promise,ot.pending=new _e.BH,yield ot.operation(),ot.pending.resolve(),yield ot.pending.promise,ot.process(!0).catch(()=>{})}catch(At){ot.retryPolicy(At)?ot.process(!1).catch(()=>{}):ot.stop()}})()}getNextRun(He){if(He)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ot=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ot}}}const Fe=new _e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _t(qe,He){return hn.apply(this,arguments)}function hn(){return(hn=(0,Ke.Z)(function*({url:qe,body:He},ot){const At={"Content-Type":"application/json"},Ht=ot.getImmediate({optional:!0});if(Ht){const ai=yield Ht.getHeartbeatsHeader();ai&&(At["X-Firebase-Client"]=ai)}const sn={method:"POST",body:JSON.stringify(He),headers:At};let Vn,ur;try{Vn=yield fetch(qe,sn)}catch(ai){throw Fe.create("fetch-network-error",{originalErrorMessage:ai?.message})}if(200!==Vn.status)throw Fe.create("fetch-status-error",{httpStatus:Vn.status});try{ur=yield Vn.json()}catch(ai){throw Fe.create("fetch-parse-error",{originalErrorMessage:ai?.message})}const qn=ur.ttl.match(/^([\d.]+)(s)$/);if(!qn||!qn[2]||isNaN(Number(qn[1])))throw Fe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ur.ttl}`});const xi=1e3*Number(qn[1]),Ri=Date.now();return{token:ur.token,expireTimeMillis:Ri+xi,issuedAtTimeMillis:Ri}})).apply(this,arguments)}const jn="firebase-app-check-database",er=1,hr="firebase-app-check-store";let Hn=null;function sr(qe,He){return fn.apply(this,arguments)}function fn(){return(fn=(0,Ke.Z)(function*(qe,He){const At=(yield function Lt(){return Hn||(Hn=new Promise((qe,He)=>{try{const ot=indexedDB.open(jn,er);ot.onsuccess=At=>{qe(At.target.result)},ot.onerror=At=>{var Ht;He(Fe.create("storage-open",{originalErrorMessage:null===(Ht=At.target.error)||void 0===Ht?void 0:Ht.message}))},ot.onupgradeneeded=At=>{0===At.oldVersion&&At.target.result.createObjectStore(hr,{keyPath:"compositeKey"})}}catch(ot){He(Fe.create("storage-open",{originalErrorMessage:ot?.message}))}}),Hn)}()).transaction(hr,"readwrite"),sn=At.objectStore(hr).put({compositeKey:qe,value:He});return new Promise((Vn,ur)=>{sn.onsuccess=qn=>{Vn()},At.onerror=qn=>{var xi;ur(Fe.create("storage-set",{originalErrorMessage:null===(xi=qn.target.error)||void 0===xi?void 0:xi.message}))}})})).apply(this,arguments)}const ln=new De.Yd("@firebase/app-check");function Vr(qe,He){return(0,_e.hl)()?function gr(qe,He){return sr(function Xr(qe){return`${qe.options.appId}-${qe.name}`}(qe),He)}(qe,He).catch(ot=>{ln.warn(`Failed to write token to IndexedDB. Error: ${ot}`)}):Promise.resolve()}function $n(){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,Ke.Z)(function*(){const qe=xe();if(qe.enabled&&qe.token)return qe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Gt={error:"UNKNOWN_ERROR"};function Ct(qe){return _e.US.encodeString(JSON.stringify(qe),!1)}function Jt(qe){return gn.apply(this,arguments)}function gn(){return(gn=(0,Ke.Z)(function*(qe,He=!1){const ot=qe.app;!function vt(qe){if(!Ce(qe).activated)throw Fe.create("use-before-activation",{appName:qe.name})}(ot);const At=Ce(ot);let sn,Ht=At.token;if(Ht&&!$e(Ht)&&(At.token=void 0,Ht=void 0),!Ht){const qn=yield At.cachedTokenPromise;qn&&($e(qn)?Ht=qn:yield Vr(ot,void 0))}if(!He&&Ht&&$e(Ht))return{token:Ht.token};let ur,Vn=!1;if(function Ur(){return xe().enabled}()){At.exchangeTokenPromise||(At.exchangeTokenPromise=_t(function Kt(qe,He){const{projectId:ot,appId:At,apiKey:Ht}=qe.options;return{url:`${Se}/projects/${ot}/apps/${At}:${fe}?key=${Ht}`,body:{debug_token:He}}}(ot,yield $n()),qe.heartbeatServiceProvider).finally(()=>{At.exchangeTokenPromise=void 0}),Vn=!0);const qn=yield At.exchangeTokenPromise;return yield Vr(ot,qn),At.token=qn,{token:qn.token}}try{At.exchangeTokenPromise||(At.exchangeTokenPromise=At.provider.getToken().finally(()=>{At.exchangeTokenPromise=void 0}),Vn=!0),Ht=yield Ce(ot).exchangeTokenPromise}catch(qn){"appCheck/throttled"===qn.code?ln.warn(qn.message):ln.error(qn),sn=qn}return Ht?sn?ur=$e(Ht)?{token:Ht.token,internalError:sn}:Et(sn):(ur={token:Ht.token},At.token=Ht,yield Vr(ot,Ht)):ur=Et(sn),Vn&&function ge(qe,He){const ot=Ce(qe).tokenObservers;for(const At of ot)try{"EXTERNAL"===At.type&&null!=He.error?At.error(He.error):At.next(He)}catch{}}(ot,ur),ur})).apply(this,arguments)}function bn(qe,He){const ot=Ce(qe),At=ot.tokenObservers.filter(Ht=>Ht.next!==He);0===At.length&&ot.tokenRefresher&&ot.tokenRefresher.isRunning()&&ot.tokenRefresher.stop(),ot.tokenObservers=At}function ar(qe){const{app:He}=qe,ot=Ce(He);let At=ot.tokenRefresher;At||(At=function Ae(qe){const{app:He}=qe;return new ze((0,Ke.Z)(function*(){let At;if(At=Ce(He).token?yield Jt(qe,!0):yield Jt(qe),At.error)throw At.error;if(At.internalError)throw At.internalError}),()=>!0,()=>{const ot=Ce(He);if(ot.token){let At=ot.token.issuedAtTimeMillis+.5*(ot.token.expireTimeMillis-ot.token.issuedAtTimeMillis)+3e5;return At=Math.min(At,ot.token.expireTimeMillis-3e5),Math.max(0,At-Date.now())}return 0},me.RETRIAL_MIN_WAIT,me.RETRIAL_MAX_WAIT)}(qe),ot.tokenRefresher=At),!At.isRunning()&&ot.isTokenAutoRefreshEnabled&&At.start()}function $e(qe){return qe.expireTimeMillis-Date.now()>0}function Et(qe){return{token:Ct(Gt),error:qe}}class lt{constructor(He,ot){this.app=He,this.heartbeatServiceProvider=ot}_delete(){const{tokenObservers:He}=Ce(this.app);for(const ot of He)bn(this.app,ot.next);return Promise.resolve()}}const Sr="app-check-internal";!function ei(){(0,je._registerComponent)(new Ve.wA("app-check",qe=>function Zt(qe,He){return new lt(qe,He)}(qe.getProvider("app").getImmediate(),qe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((qe,He,ot)=>{qe.getProvider(Sr).initialize()})),(0,je._registerComponent)(new Ve.wA(Sr,qe=>function Pe(qe){return{getToken:He=>Jt(qe,He),addTokenListener:He=>function Dn(qe,He,ot,At){const{app:Ht}=qe,sn=Ce(Ht);if(sn.tokenObservers=[...sn.tokenObservers,{next:ot,error:At,type:He}],sn.token&&$e(sn.token)){const ur=sn.token;Promise.resolve().then(()=>{ot({token:ur.token}),ar(qe)}).catch(()=>{})}sn.cachedTokenPromise.then(()=>ar(qe))}(qe,"INTERNAL",He),removeTokenListener:He=>bn(qe.app,He)}}(qe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,je.registerVersion)("@firebase/app-check","0.6.4")}();class _r{constructor(){return(0,a.vb)("app-check")}}typeof window<"u"&&window},1205:(zt,rt,P)=>{"use strict";P.d(rt,{zQ:()=>Se,ww:()=>We,rT:()=>X,f7:()=>se,L6:()=>z,_Q:()=>Be,lh:()=>Ce,Qv:()=>De,nw:()=>xe});var a=P(4650),k=P(7579),x=P(9646),ie=P(9751),Ie=P(8996),pe=P(6451),ne=P(5363),he=P(3900),Te=P(4004),ae=P(6063);class le extends k.x{constructor(fe=1/0,me=1/0,ye=ae.l){super(),this._bufferSize=fe,this._windowTime=me,this._timestampProvider=ye,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=me===1/0,this._bufferSize=Math.max(1,fe),this._windowTime=Math.max(1,me)}next(fe){const{isStopped:me,_buffer:ye,_infiniteTimeWindow:ze,_timestampProvider:Re,_windowTime:Ye}=this;me||(ye.push(fe),!ze&&ye.push(Re.now()+Ye)),this._trimBuffer(),super.next(fe)}_subscribe(fe){this._throwIfClosed(),this._trimBuffer();const me=this._innerSubscribe(fe),{_infiniteTimeWindow:ye,_buffer:ze}=this,Re=ze.slice();for(let Ye=0;Ye<Re.length&&!fe.closed;Ye+=ye?1:2)fe.next(Re[Ye]);return this._checkFinalizedStatuses(fe),me}_trimBuffer(){const{_bufferSize:fe,_timestampProvider:me,_buffer:ye,_infiniteTimeWindow:ze}=this,Re=(ze?1:2)*fe;if(fe<1/0&&Re<ye.length&&ye.splice(0,ye.length-Re),!ze){const Ye=me.now();let Fe=0;for(let Dt=1;Dt<ye.length&&ye[Dt]<=Ye;Dt+=2)Fe=Dt;Fe&&ye.splice(0,Fe+1)}}}var ue=P(3099);function Oe(Ge,fe,me){let ye,ze=!1;return Ge&&"object"==typeof Ge?({bufferSize:ye=1/0,windowTime:fe=1/0,refCount:ze=!1,scheduler:me}=Ge):ye=Ge??1/0,(0,ue.B)({connector:()=>new le(ye,fe,me),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ze})}var ke=P(590),Xe=P(576);function ht(Ge,fe){return(0,Xe.m)(fe)?(0,he.w)(()=>Ge,fe):(0,he.w)(()=>Ge)}var we=P(9468),de=P(9300),ee=P(2122),Ze=P(2011),Ke=P(6895),je=P(6217),Ve=P(9260);const De=new a.OlP("angularfire2.auth.use-emulator"),z=new a.OlP("angularfire2.auth.settings"),Be=new a.OlP("angularfire2.auth.tenant-id"),X=new a.OlP("angularfire2.auth.langugage-code"),Ce=new a.OlP("angularfire2.auth.use-device-language"),se=new a.OlP("angularfire.auth.persistence"),xe=(Ge,fe,me,ye,ze,Re,Ye,Fe)=>(0,Ze.cc)(`${Ge.name}.auth`,"AngularFireAuth",Ge.name,()=>{const Dt=fe.runOutsideAngular(()=>Ge.auth());if(me&&Dt.useEmulator(...me),ye&&(Dt.tenantId=ye),Dt.languageCode=ze,Re&&Dt.useDeviceLanguage(),Ye)for(const[vt,bt]of Object.entries(Ye))Dt.settings[vt]=bt;return Fe&&Dt.setPersistence(Fe),Dt},[me,ye,ze,Re,Ye,Fe]);let Se=(()=>{class Ge{constructor(me,ye,ze,Re,Ye,Fe,Dt,vt,bt,Yt,_t,hn){const In=new k.x,Cn=(0,x.of)(void 0).pipe((0,ne.Q)(Ye.outsideAngular),(0,he.w)(()=>Re.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,4217)))),(0,Te.U)(()=>(0,Ze.on)(me,Re,ye)),(0,Te.U)(Kt=>xe(Kt,Re,Fe,vt,bt,Yt,Dt,_t)),Oe({bufferSize:1,refCount:!1}));if((0,Ke.PM)(ze))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,x.of)(null);else{Cn.pipe((0,ke.P)()).subscribe();const jn=Cn.pipe((0,he.w)(pn=>pn.getRedirectResult().then(Hn=>Hn,()=>null)),ee.iC,Oe({bufferSize:1,refCount:!1})),er=Cn.pipe((0,he.w)(pn=>new ie.y(Hn=>({unsubscribe:Re.runOutsideAngular(()=>pn.onAuthStateChanged(Lt=>Hn.next(Lt),Lt=>Hn.error(Lt),()=>Hn.complete()))})))),hr=Cn.pipe((0,he.w)(pn=>new ie.y(Hn=>({unsubscribe:Re.runOutsideAngular(()=>pn.onIdTokenChanged(Lt=>Hn.next(Lt),Lt=>Hn.error(Lt),()=>Hn.complete()))}))));this.authState=jn.pipe(ht(er),(0,we.R)(Ye.outsideAngular),(0,ne.Q)(Ye.insideAngular)),this.user=jn.pipe(ht(hr),(0,we.R)(Ye.outsideAngular),(0,ne.Q)(Ye.insideAngular)),this.idToken=this.user.pipe((0,he.w)(pn=>pn?(0,Ie.D)(pn.getIdToken()):(0,x.of)(null))),this.idTokenResult=this.user.pipe((0,he.w)(pn=>pn?(0,Ie.D)(pn.getIdTokenResult()):(0,x.of)(null))),this.credential=(0,pe.T)(jn,In,this.authState.pipe((0,de.h)(pn=>!pn))).pipe((0,Te.U)(pn=>pn?.user?pn:null),(0,we.R)(Ye.outsideAngular),(0,ne.Q)(Ye.insideAngular))}return(0,Ze.pX)(this,Cn,Re,{spy:{apply:(Kt,jn,er)=>{(Kt.startsWith("signIn")||Kt.startsWith("createUser"))&&er.then(hr=>In.next(hr))}}})}}return Ge.\u0275fac=function(me){return new(me||Ge)(a.LFG(Ze.Dh),a.LFG(Ze.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ee.HU),a.LFG(De,8),a.LFG(z,8),a.LFG(Be,8),a.LFG(X,8),a.LFG(Ce,8),a.LFG(se,8),a.LFG(je.nm,8))},Ge.\u0275prov=a.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"any"}),Ge})(),We=(()=>{class Ge{constructor(){Ve.Z.registerVersion("angularfire",ee.q4.full,"auth-compat")}}return Ge.\u0275fac=function(me){return new(me||Ge)},Ge.\u0275mod=a.oAB({type:Ge}),Ge.\u0275inj=a.cJS({providers:[Se]}),Ge})()},3101:(zt,rt,P)=>{"use strict";P.d(rt,{ST:()=>Vy,yb:()=>O_});var a=P(4650),k=P(4986),x=P(9751),ie=P(8996),Ie=P(9646),pe=P(2122),ne=P(8675),he=P(4482),Te=P(5403);function ae(){return(0,he.e)((i,e)=>{let t,o=!1;i.subscribe((0,Te.x)(e,u=>{const f=t;t=u,o&&e.next([f,u]),o=!0}))})}var z,le=P(4004),ue=P(5026),Oe=P(1884),ke=P(9300),Xe=P(2011),ht=P(6895),de=(P(4217),P(3942)),ee=P(5861),Ze=P(9681),Ke=P(4859),je=P(1877),Ve=P(2090),_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De={},Be=Be||{},X=_e||self;function Ce(){}function se(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function xe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var We="closure_uid_"+(1e9*Math.random()>>>0),Ge=0;function fe(i,e,t){return i.call.apply(i.bind,arguments)}function me(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function ye(i,e,t){return(ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fe:me).apply(null,arguments)}function ze(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Re(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,f){for(var v=Array(arguments.length-2),C=2;C<arguments.length;C++)v[C-2]=arguments[C];return e.prototype[u].apply(o,v)}}function Ye(){this.s=this.s,this.o=this.o}Ye.prototype.s=!1,Ye.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Se(i){Object.prototype.hasOwnProperty.call(i,We)&&i[We]||(i[We]=++Ge)}(this)},Ye.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function vt(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function bt(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(se(o)){const u=i.length||0,f=o.length||0;i.length=u+f;for(let v=0;v<f;v++)i[u+v]=o[v]}else i.push(o)}}function Yt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Yt.prototype.h=function(){this.defaultPrevented=!0};var _t=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{X.addEventListener("test",Ce,e),X.removeEventListener("test",Ce,e)}catch{}return i}();function hn(i){return/^[\s\xa0]*$/.test(i)}var In=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Cn(i,e){return i<e?-1:i>e?1:0}function Kt(){var i=X.navigator;return i&&(i=i.userAgent)?i:""}function jn(i){return-1!=Kt().indexOf(i)}function er(i){return er[" "](i),i}er[" "]=Ce;var sr,i,pn=jn("Opera"),Hn=jn("Trident")||jn("MSIE"),Lt=jn("Edge"),Tr=Lt||Hn,gr=jn("Gecko")&&!(-1!=Kt().toLowerCase().indexOf("webkit")&&!jn("Edge"))&&!(jn("Trident")||jn("MSIE"))&&!jn("Edge"),mr=-1!=Kt().toLowerCase().indexOf("webkit")&&!jn("Edge");function $r(){var i=X.document;return i?i.documentMode:void 0}e:{var fn="",on=(i=Kt(),gr?/rv:([^\);]+)(\)|;)/.exec(i):Lt?/Edge\/([\d\.]+)/.exec(i):Hn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):mr?/WebKit\/(\S+)/.exec(i):pn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(on&&(fn=on?on[1]:""),Hn){var un=$r();if(null!=un&&un>parseFloat(fn)){sr=String(un);break e}}sr=fn}var Xr={};var Vr=X.document&&Hn&&($r()||parseInt(sr,10))||void 0;function fi(i,e){if(Yt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(gr){e:{try{er(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:tr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&fi.X.h.call(this)}}Re(fi,Yt);var tr={2:"touch",3:"pen",4:"mouse"};fi.prototype.h=function(){fi.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ur="closure_listenable_"+(1e6*Math.random()|0),$n=0;function Sn(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++$n,this.ba=this.ea=!1}function Fr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Gt(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Ct(i){const e={};for(const t in i)e[t]=i[t];return e}const Jt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gn(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let f=0;f<Jt.length;f++)t=Jt[f],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Dn(i){this.src=i,this.g={},this.h=0}function bn(i,e){var t=e.type;if(t in i.g){var f,o=i.g[t],u=Dt(o,e);(f=0<=u)&&Array.prototype.splice.call(o,u,1),f&&(Fr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function ar(i,e,t,o){for(var u=0;u<i.length;++u){var f=i[u];if(!f.ba&&f.listener==e&&f.capture==!!t&&f.ha==o)return u}return-1}Dn.prototype.add=function(i,e,t,o,u){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var v=ar(i,e,o,u);return-1<v?(e=i[v],t||(e.ea=!1)):((e=new Sn(e,this.src,f,!!o,u)).ea=t,i.push(e)),e};var Ae="closure_lm_"+(1e6*Math.random()|0),ge={};function $e(i,e,t,o,u){if(o&&o.once)return Zt(i,e,t,o,u);if(Array.isArray(e)){for(var f=0;f<e.length;f++)$e(i,e[f],t,o,u);return null}return t=Tn(t),i&&i[Ur]?i.N(e,t,xe(o)?!!o.capture:!!o,u):Et(i,e,t,!1,o,u)}function Et(i,e,t,o,u,f){if(!e)throw Error("Invalid event type");var v=xe(u)?!!u.capture:!!u,C=It(i);if(C||(i[Ae]=C=new Dn(i)),(t=C.add(e,t,o,v,f)).proxy)return t;if(o=function lt(){const e=st;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)_t||(u=v),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(ce(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Zt(i,e,t,o,u){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Zt(i,e[f],t,o,u);return null}return t=Tn(t),i&&i[Ur]?i.O(e,t,xe(o)?!!o.capture:!!o,u):Et(i,e,t,!0,o,u)}function Pe(i,e,t,o,u){if(Array.isArray(e))for(var f=0;f<e.length;f++)Pe(i,e[f],t,o,u);else o=xe(o)?!!o.capture:!!o,t=Tn(t),i&&i[Ur]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=ar(f=i.g[e],t,o,u))&&(Fr(f[t]),Array.prototype.splice.call(f,t,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=It(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ar(e,t,o,u)),(t=-1<i?e[i]:null)&&Le(t))}function Le(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Ur])bn(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(ce(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=It(e))?(bn(t,i),0==t.h&&(t.src=null,e[Ae]=null)):Fr(i)}}}function ce(i){return i in ge?ge[i]:ge[i]="on"+i}function st(i,e){if(i.ba)i=!0;else{e=new fi(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Le(i),i=t.call(o,e)}return i}function It(i){return(i=i[Ae])instanceof Dn?i:null}var Rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(i){return"function"==typeof i?i:(i[Rt]||(i[Rt]=function(e){return i.handleEvent(e)}),i[Rt])}function An(){Ye.call(this),this.i=new Dn(this),this.P=this,this.I=null}function Yn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Yt(e,i);else if(e instanceof Yt)e.target=e.target||i;else{var u=e;gn(e=new Yt(o,i),u)}if(u=!0,t)for(var f=t.length-1;0<=f;f--){var v=e.g=t[f];u=si(v,o,!0,e)&&u}if(u=si(v=e.g=i,o,!0,e)&&u,u=si(v,o,!1,e)&&u,t)for(f=0;f<t.length;f++)u=si(v=e.g=t[f],o,!1,e)&&u}function si(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,f=0;f<e.length;++f){var v=e[f];if(v&&!v.ba&&v.capture==t){var C=v.listener,$=v.ha||v.src;v.ea&&bn(i.i,v),u=!1!==C.call($,o)&&u}}return u&&!o.defaultPrevented}Re(An,Ye),An.prototype[Ur]=!0,An.prototype.removeEventListener=function(i,e,t,o){Pe(this,i,e,t,o)},An.prototype.M=function(){if(An.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Fr(t[o]);delete i.g[e],i.h--}}this.I=null},An.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},An.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Qr=X.JSON.stringify;function vi(){var i=jr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var On,Jr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ir,i=>i.reset());class ir{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Mi(i){X.setTimeout(()=>{throw i},0)}function pi(i,e){On||function xr(){var i=X.Promise.resolve(void 0);On=function(){i.then(Rr)}}(),lr||(On(),lr=!0),jr.add(i,e)}var lr=!1,jr=new class Lr{constructor(){this.h=this.g=null}add(e,t){const o=Jr.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Rr(){for(var i;i=vi();){try{i.h.call(i.g)}catch(t){Mi(t)}var e=Jr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}lr=!1}function nr(i,e){An.call(this),this.h=i||1,this.g=e||X,this.j=ye(this.lb,this),this.l=Date.now()}function Xt(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Pn(i,e,t){if("function"==typeof i)t&&(i=ye(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ye(i.handleEvent,i)}return 2147483647<Number(e)?-1:X.setTimeout(i,e||0)}function fr(i){i.g=Pn(()=>{i.g=null,i.i&&(i.i=!1,fr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Re(nr,An),(z=nr.prototype).ca=!1,z.R=null,z.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Yn(this,"tick"),this.ca&&(Xt(this),this.start()))}},z.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},z.M=function(){nr.X.M.call(this),Xt(this),delete this.g};class Sr extends Ye{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fr(this)}M(){super.M(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(i){Ye.call(this),this.h=i,this.g={}}Re(ei,Ye);var Pr=[];function ti(i,e,t,o){Array.isArray(t)||(t&&(Pr[0]=t.toString()),t=Pr);for(var u=0;u<t.length;u++){var f=$e(e,t[u],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function _r(i){Gt(i.g,function(e,t){this.g.hasOwnProperty(t)&&Le(e)},i),i.g={}}function Y(){this.g=!0}function Je(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function re(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var f=u[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var v=1;v<u.length;v++)u[v]=""}}}return Qr(t)}catch{return e}}(i,t)+(o?" "+o:"")})}ei.prototype.M=function(){ei.X.M.call(this),_r(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Y.prototype.Aa=function(){this.g=!1},Y.prototype.info=function(){};var Ue={},et=null;function ft(){return et=et||new An}function wt(i){Yt.call(this,Ue.Pa,i)}function jt(i){const e=ft();Yn(e,new wt(e))}function cn(i,e){Yt.call(this,Ue.STAT_EVENT,i),this.stat=e}function mn(i){const e=ft();Yn(e,new cn(e,i))}function Mn(i,e){Yt.call(this,Ue.Qa,i),this.size=e}function Hr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){i()},e)}Ue.Pa="serverreachability",Re(wt,Yt),Ue.STAT_EVENT="statevent",Re(cn,Yt),Ue.Qa="timingevent",Re(Mn,Yt);var qe={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},He={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ot(){}function Ht(){}ot.prototype.h=null;var qn,sn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Vn(){Yt.call(this,"d")}function ur(){Yt.call(this,"c")}function xi(){}function Ri(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new ei(this),this.O=hi,this.T=new nr(i=Tr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}Re(Vn,Yt),Re(ur,Yt),Re(xi,ot),xi.prototype.g=function(){return new XMLHttpRequest},xi.prototype.i=function(){return{}},qn=new xi;var hi=45e3,Ws={},Qo={};function To(i,e,t){i.K=1,i.v=gi(Pi(e)),i.s=t,i.P=!0,Jo(i,null)}function Jo(i,e){i.F=Date.now(),bi(i),i.A=Pi(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Eo(t.i,"t",o),i.C=0,t=i.l.H,i.h=new ai,i.g=Po(i.l,t?e:null,!i.s),0<i.N&&(i.L=new Sr(ye(i.La,i,i.g),i.N)),ti(i.S,i.g,"readystatechange",i.ib),e=i.H?Ct(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),jt(),function oe(i,e,t,o,u,f){i.info(function(){if(i.g)if(f)for(var v="",C=f.split("&"),$=0;$<C.length;$++){var H=C[$].split("=");if(1<H.length){var te=H[0];H=H[1];var Ne=te.split("_");v=2<=Ne.length&&"type"==Ne[1]?v+(te+"=")+H+"&":v+(te+"=redacted&")}}else v=null;else v=f;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+v})}(i.j,i.u,i.A,i.m,i.U,i.s)}function jo(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Wi(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=Di(i,t),u==Qo){4==e&&(i.o=4,mn(14),o=!1),Je(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ws){i.o=4,mn(15),Je(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Je(i.j,i.m,u,null),Ki(i,u)}jo(i)&&u!=Qo&&u!=Ws&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,mn(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Na(e),e.K=!0,mn(11))):(Je(i.j,i.m,t,"[Invalid Chunked Response]"),Ui(i),mo(i))}function Di(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Qo:(t=Number(e.substring(t,o)),isNaN(t)?Ws:(o+=1)+t>e.length?Qo:(e=e.substr(o,t),i.C=o+t,e))}function bi(i){i.V=Date.now()+i.O,So(i,i.O)}function So(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Hr(ye(i.gb,i),e)}function cs(i){i.B&&(X.clearTimeout(i.B),i.B=null)}function mo(i){0==i.l.G||i.I||Wl(i.l,i)}function Ui(i){cs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Xt(i.T),_r(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ki(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||ao(t.h,i)))if(!i.J&&ao(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Ea(t),oa(t)}fs(t),mn(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=Hr(ye(t.cb,t),6e3));if(1>=Io(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ps(t,11)}else if((i.J||t.g==i)&&Ea(t),!hn(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let H=u[e];if(t.T=H[0],H=H[1],2==t.G)if("c"==H[0]){t.I=H[1],t.ka=H[2];const te=H[3];null!=te&&(t.ma=te,t.j.info("VER="+t.ma));const Ne=H[4];null!=Ne&&(t.Ca=Ne,t.j.info("SVER="+t.Ca));const ut=H[5];null!=ut&&"number"==typeof ut&&0<ut&&(t.J=o=1.5*ut,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Pt=i.g;if(Pt){const $t=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($t){var f=o.h;f.g||-1==$t.indexOf("spdy")&&-1==$t.indexOf("quic")&&-1==$t.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Kr(f,f.h),f.h=null))}if(o.D){const _n=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;_n&&(o.za=_n,br(o.F,o.D,_n))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var v=i;if((o=t).sa=Bi(o,o.H?o.ka:null,o.V),v.J){ds(o.h,v);var C=v,$=o.J;$&&C.setTimeout($),C.B&&(cs(C),bi(C)),o.g=v}else aa(o);0<t.i.length&&Ps(t)}else"stop"!=H[0]&&"close"!=H[0]||ps(t,7);else 3==t.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?ps(t,7):Oo(t):"noop"!=H[0]&&t.l&&t.l.wa(H),t.A=0)}jt()}catch{}}function Es(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(se(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Oi(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(se(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function yo(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(se(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,f=0;f<u;f++)e.call(void 0,o[f],t&&t[f],i)}(z=Ri.prototype).setTimeout=function(i){this.O=i},z.ib=function(i){i=i.target;const e=this.L;e&&3==kn(i)?e.l():this.La(i)},z.La=function(i){try{if(i==this.g)e:{const te=kn(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>te)&&(3!=te||Tr||this.g&&(this.h.h||this.g.fa()||pr(this.g)))){this.I||4!=te||7==e||jt(),cs(this);var t=this.g.aa();this.Y=t;t:if(jo(this)){var o=pr(this.g);i="";var u=o.length,f=4==kn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ui(this),mo(this);var v="";break t}this.h.i=new X.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.fa();if(this.i=200==t,function Me(i,e,t,o,u,f,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+f+" "+v})}(this.j,this.u,this.A,this.m,this.U,te,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var C,$=this.g;if((C=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hn(C)){var H=C;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,mn(12),Ui(this),mo(this);break e}Je(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ki(this,t)}this.P?(Wi(this,te,v),Tr&&this.i&&3==te&&(ti(this.S,this.T,"tick",this.hb),this.T.start())):(Je(this.j,this.m,v,null),Ki(this,v)),4==te&&Ui(this),this.i&&!this.I&&(4==te?Wl(this.l,this):(this.i=!1,bi(this)))}else 400==t&&0<v.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),Ui(this),mo(this)}}}catch{}},z.hb=function(){if(this.g){var i=kn(this.g),e=this.g.fa();this.C<e.length&&(cs(this),Wi(this,i,e),this.i&&4!=i&&bi(this))}},z.cancel=function(){this.I=!0,Ui(this)},z.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function yt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(jt(),mn(17)),Ui(this),this.o=2,mo(this)):So(this,this.V-i)};var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ni(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ni){this.h=void 0!==e?e:i.h,Ho(this,i.j),this.s=i.s,this.g=i.g,wi(this,i.m),this.l=i.l,e=i.i;var t=new Fi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),es(this,t),this.o=i.o}else i&&(t=String(i).match(Ao))?(this.h=!!e,Ho(this,t[1]||"",!0),this.s=vo(t[2]||""),this.g=vo(t[3]||"",!0),wi(this,t[4]),this.l=vo(t[5]||"",!0),es(this,t[6]||"",!0),this.o=vo(t[7]||"")):(this.h=!!e,this.i=new Fi(null,this.h))}function Pi(i){return new ni(i)}function Ho(i,e,t){i.j=t?vo(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function wi(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function es(i,e,t){e instanceof Fi?(i.i=e,function Is(i,e){e&&!i.j&&(so(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Jn(this,o),Eo(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Yi(e,Go)),i.i=new Fi(e,i.h))}function br(i,e,t){i.i.set(e,t)}function gi(i){return br(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function vo(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Yi(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,xo),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function xo(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ni.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Yi(e,Ni,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Yi(e,Ni,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Yi(t,"/"==t.charAt(0)?qi:ji,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Yi(t,_i)),i.join("")};var Ni=/[#\/\?@]/g,ji=/[#\?:]/g,qi=/[#\?]/g,Go=/[#\?@]/g,_i=/#/g;function Fi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function so(i){i.g||(i.g=new Map,i.h=0,i.i&&function Mo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var f=i[t].substring(0,o);u=i[t].substring(o+1)}else f=i[t];e(f,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Jn(i,e){so(i),e=Wr(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function _o(i,e){return so(i),e=Wr(i,e),i.g.has(e)}function Eo(i,e,t){Jn(i,e),0<t.length&&(i.i=null,i.g.set(Wr(i,e),vt(t)),i.h+=t.length)}function Wr(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Li(i){this.l=i||ri,i=X.PerformanceNavigationTiming?0<(i=X.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(X.g&&X.g.Ga&&X.g.Ga()&&X.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(z=Fi.prototype).add=function(i,e){so(this),this.i=null,i=Wr(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},z.forEach=function(i,e){so(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},z.oa=function(){so(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let f=0;f<u.length;f++)t.push(e[o])}return t},z.W=function(i){so(this);let e=[];if("string"==typeof i)_o(this,i)&&(e=e.concat(this.g.get(Wr(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},z.set=function(i,e){return so(this),this.i=null,_o(this,i=Wr(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},z.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const f=encodeURIComponent(String(o)),v=this.W(o);for(o=0;o<v.length;o++){var u=f;""!==v[o]&&(u+="="+encodeURIComponent(String(v[o]))),i.push(u)}}return this.i=i.join("&")};var ri=10;function Ds(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Io(i){return i.h?1:i.g?i.g.size:0}function ao(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Kr(i,e){i.g?i.g.add(e):i.h=e}function ds(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Do(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return vt(i.i)}function Ln(){}function hs(){this.g=new Ln}function Ks(i,e,t){const o=t||"";try{Es(i,function(u,f){let v=u;xe(u)&&(v=Qr(u)),e.push(o+f+"="+encodeURIComponent(v))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ts(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Wo(i){this.l=i.ac||null,this.j=i.jb||!1}function lo(i,e){An.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Ro,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Li.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Ln.prototype.stringify=function(i){return X.JSON.stringify(i,void 0)},Ln.prototype.parse=function(i){return X.JSON.parse(i,void 0)},Re(Wo,ot),Wo.prototype.g=function(){return new lo(this.l,this.j)},Wo.prototype.i=function(i){return function(){return i}}({}),Re(lo,An);var Ro=0;function Os(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Ft(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Zn(i)}function Zn(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(z=lo.prototype).open=function(i,e){if(this.readyState!=Ro)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Zn(this)},z.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||X).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ft(this)),this.readyState=Ro},z.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Os(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},z.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ft(this):Zn(this),3==this.readyState&&Os(this)}},z.Va=function(i){this.g&&(this.response=this.responseText=i,Ft(this))},z.Ua=function(i){this.g&&(this.response=i,Ft(this))},z.ga=function(){this.g&&Ft(this)},z.setRequestHeader=function(i,e){this.v.append(i,e)},z.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},z.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(lo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var F=X.JSON.parse;function d(i){An.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=y,this.K=this.L=!1}Re(d,An);var y="",p=/^https?$/i,S=["POST","PUT"];function at(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ut(i),xn(i)}function Ut(i){i.D||(i.D=!0,Yn(i,"complete"),Yn(i,"error"))}function rn(i){if(i.h&&typeof Be<"u"&&(!i.C[1]||4!=kn(i)||2!=i.aa()))if(i.v&&4==kn(i))Pn(i.Ha,0,i);else if(Yn(i,"readystatechange"),4==kn(i)){i.h=!1;try{const C=i.aa();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===C){var u=String(i.H).match(Ao)[1]||null;if(!u&&X.self&&X.self.location){var f=X.self.location.protocol;u=f.substr(0,f.length-1)}o=!p.test(u?u.toLowerCase():"")}t=o}if(t)Yn(i,"complete"),Yn(i,"success");else{i.m=6;try{var v=2<kn(i)?i.g.statusText:""}catch{v=""}i.j=v+" ["+i.aa()+"]",Ut(i)}}finally{xn(i)}}}function xn(i,e){if(i.g){or(i);const t=i.g,o=i.C[0]?Ce:null;i.g=null,i.C=null,e||Yn(i,"ready");try{t.onreadystatechange=o}catch{}}}function or(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(X.clearTimeout(i.A),i.A=null)}function kn(i){return i.g?i.g.readyState:0}function pr(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case y:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Ei(i){let e="";return Gt(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function ci(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Ei(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):br(i,e,t))}function Nr(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function ws(i){this.Ca=0,this.i=[],this.j=new Y,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Nr("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Nr("baseRetryDelayMs",5e3,i),this.bb=Nr("retryDelaySeedMs",1e4,i),this.$a=Nr("forwardChannelMaxRetries",2,i),this.ta=Nr("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Li(i&&i.concurrentRequestLimit),this.Fa=new hs,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Oo(i){if(sa(i),3==i.G){var e=i.U++,t=Pi(i.F);br(t,"SID",i.I),br(t,"RID",e),br(t,"TYPE","terminate"),Zi(i,t),(e=new Ri(i,i.j,e,void 0)).K=2,e.v=gi(Pi(t)),t=!1,X.navigator&&X.navigator.sendBeacon&&(t=X.navigator.sendBeacon(e.v.toString(),"")),!t&&X.Image&&((new Image).src=e.v,t=!0),t||(e.g=Po(e.l,null),e.g.da(e.v)),e.F=Date.now(),bi(e)}Kl(i)}function oa(i){i.g&&(Na(i),i.g.cancel(),i.g=null)}function sa(i){oa(i),i.u&&(X.clearTimeout(i.u),i.u=null),Ea(i),i.h.cancel(),i.m&&("number"==typeof i.m&&X.clearTimeout(i.m),i.m=null)}function Ps(i){Ds(i.h)||i.m||(i.m=!0,pi(i.Ja,i),i.C=0)}function Oa(i,e){var t;t=e?e.m:i.U++;const o=Pi(i.F);br(o,"SID",i.I),br(o,"RID",t),br(o,"AID",i.T),Zi(i,o),i.o&&i.s&&ci(o,i.o,i.s),t=new Ri(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Pa(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Kr(i.h,t),To(t,o,e)}function Zi(i,e){i.ia&&Gt(i.ia,function(t,o){br(e,o,t)}),i.l&&Es({},function(t,o){br(e,o,t)})}function Pa(i,e,t){t=Math.min(i.i.length,t);var o=i.l?ye(i.l.Ra,i.l,i):null;e:{var u=i.i;let f=-1;for(;;){const v=["count="+t];-1==f?0<t?(f=u[0].h,v.push("ofs="+f)):f=0:v.push("ofs="+f);let C=!0;for(let $=0;$<t;$++){let H=u[$].h;const te=u[$].g;if(H-=f,0>H)f=Math.max(0,u[$].h-100),C=!1;else try{Ks(te,v,"req"+H+"_")}catch{o&&o(te)}}if(C){o=v.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function aa(i){i.g||i.u||(i.Z=1,pi(i.Ia,i),i.A=0)}function fs(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Hr(ye(i.Ia,i),la(i,i.A)),i.A++,0))}function Na(i){null!=i.B&&(X.clearTimeout(i.B),i.B=null)}function _a(i){i.g=new Ri(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Pi(i.sa);br(e,"RID","rpc"),br(e,"SID",i.I),br(e,"CI",i.L?"0":"1"),br(e,"AID",i.T),br(e,"TYPE","xmlhttp"),Zi(i,e),i.o&&i.s&&ci(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=gi(Pi(e)),t.s=null,t.P=!0,Jo(t,i)}function Ea(i){null!=i.v&&(X.clearTimeout(i.v),i.v=null)}function Wl(i,e){var t=null;if(i.g==e){Ea(i),Na(i),i.g=null;var o=2}else{if(!ao(i.h,e))return;t=e.D,ds(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Yn(o=ft(),new Mn(o,t)),Ps(i)}else aa(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Ys(i,e){return!(Io(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Hr(ye(i.Ja,i,e),la(i,i.C)),i.C++,0)))}(i,e)||2==o&&fs(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:ps(i,5);break;case 4:ps(i,10);break;case 3:ps(i,6);break;default:ps(i,2)}}function la(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function ps(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=ye(i.kb,i);t||(t=new ni("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||Ho(t,"https"),gi(t)),function bs(i,e){const t=new Y;if(X.Image){const o=new Image;o.onload=ze(ts,t,o,"TestLoadImage: loaded",!0,e),o.onerror=ze(ts,t,o,"TestLoadImage: error",!1,e),o.onabort=ze(ts,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=ze(ts,t,o,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else mn(2);i.G=0,i.l&&i.l.va(e),Kl(i),sa(i)}function Kl(i){if(i.G=0,i.la=[],i.l){const e=Do(i.h);(0!=e.length||0!=i.i.length)&&(bt(i.la,e),bt(i.la,i.i),i.h.i.length=0,vt(i.i),i.i.length=0),i.l.ua()}}function Bi(i,e,t){var o=t instanceof ni?Pi(t):new ni(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),wi(o,o.m);else{var u=X.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var f=new ni(null,void 0);o&&Ho(f,o),e&&(f.g=e),u&&wi(f,u),t&&(f.l=t),o=f}return e=i.za,(t=i.D)&&e&&br(o,t,e),br(o,"VER",i.ma),Zi(i,o),o}function Po(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new d(t&&i.Da&&!i.ra?new Wo({jb:!0}):i.ra)).Ka(i.H),e}function li(){}function Ns(){if(Hn&&!(10<=Number(Vr)))throw Error("Environmental error: no available transport.")}function Xi(i,e){An.call(this),this.g=new ws(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!hn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new mi(this)}function ks(i){Vn.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ia(){ur.call(this),this.status=1}function mi(i){this.g=i}(z=d.prototype).Ka=function(i){this.L=i},z.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qn.g(),this.C=function At(i){return i.h||(i.h=i.i())}(this.u?this.u:qn),this.g.onreadystatechange=ye(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void at(this,f)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const f of o.keys())t.set(f,o.get(f))}o=Array.from(t.keys()).find(f=>"content-type"==f.toLowerCase()),u=X.FormData&&i instanceof X.FormData,!(0<=Dt(S,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,v]of t)this.g.setRequestHeader(f,v);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{or(this),0<this.B&&((this.K=function G(i){return Hn&&function ln(){return function hr(i){var e=Xr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=In(String(sr)).split("."),t=In("9").split("."),o=Math.max(e.length,t.length);for(let v=0;0==i&&v<o;v++){var u=e[v]||"",f=t[v]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==u[0].length&&0==f[0].length)break;i=Cn(0==u[1].length?0:parseInt(u[1],10),0==f[1].length?0:parseInt(f[1],10))||Cn(0==u[2].length,0==f[2].length)||Cn(u[2],f[2]),u=u[3],f=f[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ye(this.qa,this)):this.A=Pn(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){at(this,f)}},z.qa=function(){typeof Be<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yn(this,"timeout"),this.abort(8))},z.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Yn(this,"complete"),Yn(this,"abort"),xn(this))},z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xn(this,!0)),d.X.M.call(this)},z.Ha=function(){this.s||(this.F||this.v||this.l?rn(this):this.fb())},z.fb=function(){rn(this)},z.aa=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},z.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},z.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),F(e)}},z.Ea=function(){return this.m},z.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(z=ws.prototype).ma=8,z.G=1,z.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new Ri(this,this.j,i,void 0);let f=this.s;if(this.S&&(f?(f=Ct(f),gn(f,this.S)):f=this.S),null!==this.o||this.N||(u.H=f,f=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Pa(this,u,e),br(t=Pi(this.F),"RID",i),br(t,"CVER",22),this.D&&br(t,"X-HTTP-Session-Id",this.D),Zi(this,t),f&&(this.N?e="headers="+encodeURIComponent(String(Ei(f)))+"&"+e:this.o&&ci(t,this.o,f)),Kr(this.h,u),this.Ya&&br(t,"TYPE","init"),this.O?(br(t,"$req",e),br(t,"SID","null"),u.Z=!0,To(u,t,null)):To(u,t,e),this.G=2}}else 3==this.G&&(i?Oa(this,i):0==this.i.length||Ds(this.h)||Oa(this))},z.Ia=function(){if(this.u=null,_a(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Hr(ye(this.eb,this),i)}},z.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mn(10),oa(this),_a(this))},z.cb=function(){null!=this.v&&(this.v=null,oa(this),fs(this),mn(19))},z.kb=function(i){i?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))},(z=li.prototype).xa=function(){},z.wa=function(){},z.va=function(){},z.ua=function(){},z.Ra=function(){},Ns.prototype.g=function(i,e){return new Xi(i,e)},Re(Xi,An),Xi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;mn(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Bi(i,null,i.V),Ps(i)},Xi.prototype.close=function(){Oo(this.g)},Xi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Qr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Ps(e)},Xi.prototype.M=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,Xi.X.M.call(this)},Re(ks,Vn),Re(Ia,ur),Re(mi,li),mi.prototype.xa=function(){Yn(this.g,"a")},mi.prototype.wa=function(i){Yn(this.g,new ks(i))},mi.prototype.va=function(i){Yn(this.g,new Ia)},mi.prototype.ua=function(){Yn(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,Xi.prototype.send=Xi.prototype.u,Xi.prototype.open=Xi.prototype.m,Xi.prototype.close=Xi.prototype.close,qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,He.COMPLETE="complete",Ht.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",An.prototype.listen=An.prototype.N,d.prototype.listenOnce=d.prototype.O,d.prototype.getLastError=d.prototype.Oa,d.prototype.getLastErrorCode=d.prototype.Ea,d.prototype.getStatus=d.prototype.aa,d.prototype.getResponseJson=d.prototype.Sa,d.prototype.getResponseText=d.prototype.fa,d.prototype.send=d.prototype.da,d.prototype.setWithCredentials=d.prototype.Ka;var _l=De.createWebChannelTransport=function(){return new Ns},ka=De.getStatEventTarget=function(){return ft()},qs=De.ErrorCode=qe,ua=De.EventType=He,Zs=De.Event=Ue,Za=De.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},M=De.FetchXmlHttpFactory=Wo,V=De.WebChannel=Ht,N=De.XhrIo=d;const q="@firebase/firestore";class be{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");let ct="9.17.2";const Mt=new je.Yd("@firebase/firestore");function wn(){return Mt.logLevel}function Tt(i,...e){if(Mt.logLevel<=je.in.DEBUG){const t=e.map(ui);Mt.debug(`Firestore (${ct}): ${i}`,...t)}}function zn(i,...e){if(Mt.logLevel<=je.in.ERROR){const t=e.map(ui);Mt.error(`Firestore (${ct}): ${i}`,...t)}}function Xn(i,...e){if(Mt.logLevel<=je.in.WARN){const t=e.map(ui);Mt.warn(`Firestore (${ct}): ${i}`,...t)}}function ui(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Bt(i="Unexpected state"){const e=`FIRESTORE (${ct}) INTERNAL ASSERTION FAILED: `+i;throw zn(e),new Error(e)}function tn(i,e){i||Bt()}function qt(i,e){return i}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends Ve.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ns{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(be.UNAUTHENTICATED))}shutdown(){}}class ca{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class El{constructor(e){this.t=e,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const f=H=>this.i!==u?(u=this.i,t(H)):Promise.resolve();let v=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new ii,e.enqueueRetryable(()=>f(this.currentUser))};const C=()=>{const H=v;e.enqueueRetryable((0,ee.Z)(function*(){yield H.promise,yield f(o.currentUser)}))},$=H=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(H=>$(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?$(H):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new ii)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(tn("string"==typeof o.accessToken),new ns(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tn(null===e||"string"==typeof e),new be(e)}}class Fs{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=be.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(tn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class da{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new Fs(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xa{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=f=>{null!=f.error&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const v=f.token!==this.A;return this.A=f.token,Tt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const u=f=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.T.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.T.getImmediate({optional:!0});f?u(f):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tn("string"==typeof t.token),this.A=t.token,new uo(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fa(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Da{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Fa(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<t&&(o+=e.charAt(u[f]%e.length))}return o}}function Wn(i,e){return i<e?-1:i>e?1:0}function Cs(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function Il(i){return i+"\0"}class Yr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yr.fromMillis(Date.now())}static fromDate(e){return Yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Yr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wn(this.nanoseconds,e.nanoseconds):Wn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new Yr(0,0))}static max(){return new Nn(new Yr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gs{constructor(e,t,o){void 0===t?t=0:t>e.length&&Bt(),void 0===o?o=e.length-t:o>e.length-t&&Bt(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===gs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gs?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const f=e.get(u),v=t.get(u);if(f<v)return-1;if(f>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yr extends gs{construct(e,t,o){return new yr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Nt(pt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new yr(t)}static emptyPath(){return new yr([])}}const Au=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends gs{construct(e,t,o){return new Or(e,t,o)}static isValidIdentifier(e){return Au.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Or(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const f=()=>{if(0===o.length)throw new Nt(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let v=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new Nt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[u+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new Nt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,u+=2}else"`"===C?(v=!v,u++):"."!==C||v?(o+=C,u++):(f(),u++)}if(f(),v)throw new Nt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Or(t)}static emptyPath(){return new Or([])}}class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(yr.fromString(e))}static fromName(e){return new Qt(yr.fromString(e).popFirst(5))}static empty(){return new Qt(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new yr(e.slice()))}}class La{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function Ci(i){return i.fields.find(e=>2===e.kind)}function Ts(i){return i.fields.filter(e=>2!==e.kind)}La.UNKNOWN_ID=-1;class is{constructor(e,t){this.fieldPath=e,this.kind=t}}class pa{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new pa(0,co.min())}}function Yl(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Nn.fromTimestamp(1e9===o?new Yr(t+1,0):new Yr(t,o));return new co(u,Qt.empty(),e)}function ql(i){return new co(i.readTime,i.key,-1)}class co{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new co(Nn.min(),Qt.empty(),-1)}static max(){return new co(Nn.max(),Qt.empty(),-1)}}function As(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qt.comparator(i.documentKey,e.documentKey),0!==t?t:Wn(i.largestBatchId,e.largestBatchId))}const Xs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ti{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Qs(i){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,ee.Z)(function*(i){if(i.code!==pt.FAILED_PRECONDITION||i.message!==Xs)throw i;Tt("LocalStore","Unexpectedly lost primary lease")}),Ls.apply(this,arguments)}class mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new mt((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(t,f).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof mt?t:mt.resolve(t)}catch(t){return mt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):mt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):mt.reject(t)}static resolve(e){return new mt((t,o)=>{t(e)})}static reject(e){return new mt((t,o)=>{o(e)})}static waitFor(e){return new mt((t,o)=>{let u=0,f=0,v=!1;e.forEach(C=>{++u,C.next(()=>{++f,v&&f===u&&t()},$=>o($))}),v=!0,f===u&&t()})}static or(e){let t=mt.resolve(!1);for(const o of e)t=t.next(u=>u?mt.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,f)=>{o.push(t.call(this,u,f))}),this.waitFor(o)}static mapArray(e,t){return new mt((o,u)=>{const f=e.length,v=new Array(f);let C=0;for(let $=0;$<f;$++){const H=$;t(e[H]).next(te=>{v[H]=te,++C,C===f&&o(v)},te=>u(te))}})}static doWhile(e,t){return new mt((o,u)=>{const f=()=>{!0===e()?t().next(()=>{f()},u):o()};f()})}}class Dl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ii,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ba(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const u=Ja(o.target.error);this.v.reject(new Ba(e,u))}}static open(e,t,o,u){try{return new Dl(t,e.transaction(u,o))}catch(f){throw new Ba(t,f)}}get P(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Zl(t)}}class Qi{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Qi.D((0,Ve.z$)())&&zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Tt("SimpleDb","Removing database:",e),ma(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Ve.hl)())return!1;if(Qi.N())return!0;const e=(0,Ve.z$)(),t=Qi.D(e),o=0<t&&t<10,u=Qi.k(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,ee.Z)(function*(){return t.db||(Tt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const f=indexedDB.open(t.name,t.version);f.onsuccess=v=>{o(v.target.result)},f.onblocked=()=>{u(new Ba(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const C=v.target.error;u("VersionError"===C.name?new Nt(pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Nt(pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new Ba(e,C))},f.onupgradeneeded=v=>{Tt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.S.$(v.target.result,f.transaction,v.oldVersion,t.version).next(()=>{Tt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var f=this;return(0,ee.Z)(function*(){const v="readonly"===t;let C=0;for(;;){++C;try{f.db=yield f.F(e);const $=Dl.open(f.db,e,v?"readonly":"readwrite",o),H=u($).next(te=>($.V(),te)).catch(te=>($.abort(te),mt.reject(te))).toPromise();return H.catch(()=>{}),yield $.P,H}catch($){const H=$,te="FirebaseError"!==H.name&&C<3;if(Tt("SimpleDb","Transaction failed with error:",H.message,"Retrying:",te),f.close(),!te)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qr{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return ma(this.q.delete())}}class Ba extends Nt{constructor(e,t){super(pt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ga(i){return"IndexedDbTransactionError"===i.name}class Zl{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Tt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ma(o)}add(e){return Tt("SimpleDb","ADD",this.store.name,e,e),ma(this.store.add(e))}get(e){return ma(this.store.get(e)).next(t=>(void 0===t&&(t=null),Tt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Tt("SimpleDb","DELETE",this.store.name,e),ma(this.store.delete(e))}count(){return Tt("SimpleDb","COUNT",this.store.name),ma(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),f=[];return this.H(u,(v,C)=>{f.push(C)}).next(()=>f)}{const u=this.store.getAll(o.range);return new mt((f,v)=>{u.onerror=C=>{v(C.target.error)},u.onsuccess=C=>{f(C.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new mt((u,f)=>{o.onerror=v=>{f(v.target.error)},o.onsuccess=v=>{u(v.target.result)}})}Y(e,t){Tt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Z=!1;const u=this.cursor(o);return this.H(u,(f,v,C)=>C.delete())}X(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.H(u,t)}tt(e){const t=this.cursor({});return new mt((o,u)=>{t.onerror=f=>{const v=Ja(f.target.error);u(v)},t.onsuccess=f=>{const v=f.target.result;v?e(v.primaryKey,v.value).next(C=>{C?v.continue():o()}):o()}})}H(e,t){const o=[];return new mt((u,f)=>{e.onerror=v=>{f(v.target.error)},e.onsuccess=v=>{const C=v.target.result;if(!C)return void u();const $=new qr(C),H=t(C.primaryKey,C.value,$);if(H instanceof mt){const te=H.catch(Ne=>($.done(),mt.reject(Ne)));o.push(te)}$.isDone?u():null===$.G?C.continue():C.continue($.G)}}).next(()=>mt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Z?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ma(i){return new mt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Ja(o.target.error);t(u)}})}let Qa=!1;function Ja(i){const e=Qi.D((0,Ve.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qa||(Qa=!0,setTimeout(()=>{throw o},0)),o}}return i}class Xl{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Tt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ee.Z)(function*(){t.task=null;try{Tt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){ga(o)?Tt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Qs(o)}yield t.nt(6e4)}))}}class Js{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let u=t,f=!0;return mt.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!o.has(v))return Tt("IndexBackiller",`Processing collection: ${v}`),this.rt(e,v,u).next(C=>{u-=C,o.add(v)});f=!1})).next(()=>t-u)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(f=>{const v=f.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.ot(u,f)).next(C=>(Tt("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,t,C))).next(()=>v.size)}))}ot(e,t){let o=e;return t.changes.forEach((u,f)=>{const v=ql(f);As(v,o)>0&&(o=v)}),new co(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let No=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=u=>this.ut(u),this.ct=u=>o.writeSequenceNumber(u))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class Ms{constructor(e,t,o,u,f,v,C,$){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=C,this.useFetchStreams=$}}class Bs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bs&&e.projectId===this.projectId&&e.database===this.database}}function Ji(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ko(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function wa(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function os(i){return null==i}function ss(i){return 0===i&&1/i==-1/0}function el(i){return"number"==typeof i&&Number.isInteger(i)&&!ss(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Ql extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class eo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw u instanceof DOMException?new Ql("Invalid base64 string: "+u):u}}(e);return new eo(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new eo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}eo.EMPTY_BYTE_STRING=new eo("");const Fo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(i){if(tn(!!i),"string"==typeof i){let e=0;const t=Fo.exec(i);if(tn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Gr(i.seconds),nanos:Gr(i.nanos)}}function Gr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ea(i){return"string"==typeof i?eo.fromBase64String(i):eo.fromUint8Array(i)}function ta(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function D(i){const e=i.mapValue.fields.__previous_value__;return ta(e)?D(e):e}function w(i){const e=$s(i.mapValue.fields.__local_write_time__.timestampValue);return new Yr(e.seconds,e.nanos)}const _={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},A={nullValue:"NULL_VALUE"};function L(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ta(i)?4:Vt(i)?9007199254740991:10:Bt()}function W(i,e){if(i===e)return!0;const t=L(i);if(t!==L(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return w(i).isEqual(w(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=$s(o.timestampValue),v=$s(u.timestampValue);return f.seconds===v.seconds&&f.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ea(i.bytesValue).isEqual(ea(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Gr(o.geoPointValue.latitude)===Gr(u.geoPointValue.latitude)&&Gr(o.geoPointValue.longitude)===Gr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Gr(o.integerValue)===Gr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Gr(o.doubleValue),v=Gr(u.doubleValue);return f===v?ss(f)===ss(v):isNaN(f)&&isNaN(v)}return!1}(i,e);case 9:return Cs(i.arrayValue.values||[],e.arrayValue.values||[],W);case 10:return function(o,u){const f=o.mapValue.fields||{},v=u.mapValue.fields||{};if(Ji(f)!==Ji(v))return!1;for(const C in f)if(f.hasOwnProperty(C)&&(void 0===v[C]||!W(f[C],v[C])))return!1;return!0}(i,e);default:return Bt()}var u}function J(i,e){return void 0!==(i.values||[]).find(t=>W(t,e))}function Qe(i,e){if(i===e)return 0;const t=L(i),o=L(e);if(t!==o)return Wn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wn(i.booleanValue,e.booleanValue);case 2:return function(u,f){const v=Gr(u.integerValue||u.doubleValue),C=Gr(f.integerValue||f.doubleValue);return v<C?-1:v>C?1:v===C?0:isNaN(v)?isNaN(C)?0:-1:1}(i,e);case 3:return xt(i.timestampValue,e.timestampValue);case 4:return xt(w(i),w(e));case 5:return Wn(i.stringValue,e.stringValue);case 6:return function(u,f){const v=ea(u),C=ea(f);return v.compareTo(C)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const v=u.split("/"),C=f.split("/");for(let $=0;$<v.length&&$<C.length;$++){const H=Wn(v[$],C[$]);if(0!==H)return H}return Wn(v.length,C.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const v=Wn(Gr(u.latitude),Gr(f.latitude));return 0!==v?v:Wn(Gr(u.longitude),Gr(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,f){const v=u.values||[],C=f.values||[];for(let $=0;$<v.length&&$<C.length;++$){const H=Qe(v[$],C[$]);if(H)return H}return Wn(v.length,C.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,f){if(u===_.mapValue&&f===_.mapValue)return 0;if(u===_.mapValue)return 1;if(f===_.mapValue)return-1;const v=u.fields||{},C=Object.keys(v),$=f.fields||{},H=Object.keys($);C.sort(),H.sort();for(let te=0;te<C.length&&te<H.length;++te){const Ne=Wn(C[te],H[te]);if(0!==Ne)return Ne;const ut=Qe(v[C[te]],$[H[te]]);if(0!==ut)return ut}return Wn(C.length,H.length)}(i.mapValue,e.mapValue);default:throw Bt()}}function xt(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Wn(i,e);const t=$s(i),o=$s(e),u=Wn(t.seconds,o.seconds);return 0!==u?u:Wn(t.nanos,o.nanos)}function en(i){return dn(i)}function dn(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=$s(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ea(i.bytesValue).toBase64():"referenceValue"in i?Qt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",f=!0;for(const v of o.values||[])f?f=!1:u+=",",u+=dn(v);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let f="{",v=!0;for(const C of u)v?v=!1:f+=",",f+=`${C}:${dn(o.fields[C])}`;return f+"}"}(i.mapValue):Bt();var e}function cr(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function O(i){return!!i&&"integerValue"in i}function B(i){return!!i&&"arrayValue"in i}function K(i){return!!i&&"nullValue"in i}function Ee(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nt(i){return!!i&&"mapValue"in i}function gt(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ko(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=gt(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gt(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Vt(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function yn(i){return"nullValue"in i?A:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?cr(Bs.empty(),Qt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Bt()}function Rn(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?cr(Bs.empty(),Qt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?_:Bt()}function Un(i,e){const t=Qe(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Ar(i,e){const t=Qe(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Gn{constructor(e,t){this.position=e,this.inclusive=t}}function Yo(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const f=e[u],v=i.position[u];if(o=f.field.isKeyField()?Qt.comparator(Qt.fromName(v.referenceValue),t.key):Qe(v,t.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function bo(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!W(i.position[t],e.position[t]))return!1;return!0}class tl{}class wr extends tl{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Yf(e,t,o):"array-contains"===t?new gd(e,o):"in"===t?new qf(e,o):"not-in"===t?new Ag(e,o):"array-contains-any"===t?new Mg(e,o):new wr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Dc(e,o):new Sg(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Qe(t,this.value)):null!==t&&L(this.value)===L(t)&&this.matchesComparison(Qe(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class kr extends tl{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new kr(e,t)}matches(e){return to(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function to(i){return"and"===i.op}function xs(i){return"or"===i.op}function nl(i){return hd(i)&&to(i)}function hd(i){for(const e of i.filters)if(e instanceof kr)return!1;return!0}function bh(i){if(i instanceof wr)return i.field.canonicalString()+i.op.toString()+en(i.value);if(nl(i))return i.filters.map(e=>bh(e)).join(",");{const e=i.filters.map(t=>bh(t)).join(",");return`${i.op}(${e})`}}function fd(i,e){return i instanceof wr?(t=i,(o=e)instanceof wr&&t.op===o.op&&t.field.isEqual(o.field)&&W(t.value,o.value)):i instanceof kr?function(t,o){return o instanceof kr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((u,f,v)=>u&&fd(f,o.filters[v]),!0)}(i,e):void Bt();var t,o}function pd(i,e){const t=i.filters.concat(e);return kr.create(t,i.op)}function wh(i){return i instanceof wr?`${(e=i).field.canonicalString()} ${e.op} ${en(e.value)}`:i instanceof kr?function(e){return e.op.toString()+" {"+e.getFilters().map(wh).join(" ,")+"}"}(i):"Filter";var e}class Yf extends wr{constructor(e,t,o){super(e,t,o),this.key=Qt.fromName(o.referenceValue)}matches(e){const t=Qt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Dc extends wr{constructor(e,t){super(e,"in",t),this.keys=bc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sg extends wr{constructor(e,t){super(e,"not-in",t),this.keys=bc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Qt.fromName(o.referenceValue))}class gd extends wr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return B(t)&&J(t.arrayValue,this.value)}}class qf extends wr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&J(this.value.arrayValue,t)}}class Ag extends wr{constructor(e,t){super(e,"not-in",t)}matches(e){if(J(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!J(this.value.arrayValue,t)}}class Mg extends wr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!B(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>J(this.value.arrayValue,o))}}class Mu{constructor(e,t="asc"){this.field=e,this.dir=t}}function xg(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Hi{constructor(e,t){this.comparator=e,this.root=t||no.EMPTY}insert(e,t){return new Hi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,no.BLACK,null,null))}remove(e){return new Hi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,no.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=t?o(e.key,t):1,t&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class no{constructor(e,t,o,u,f){this.key=e,this.value=t,this.color=o??no.RED,this.left=u??no.EMPTY,this.right=f??no.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,f){return new no(e??this.key,t??this.value,o??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===f?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return no.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return no.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,no.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,no.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}}no.EMPTY=null,no.RED=!0,no.BLACK=!1,no.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(i,e,t,o,u){return this}insert(i,e,t){return new no(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(e){this.comparator=e,this.data=new Hi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new md(this.data.getIterator())}getIteratorFrom(e){return new md(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof di)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new di(this.comparator);return t.data=e,t}}class md{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bl(i){return i.hasNext()?i.getNext():void 0}class $i{constructor(e){this.fields=e,e.sort(Or.comparator)}static empty(){return new $i([])}unionWith(e){let t=new di(Or.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new $i(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cs(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Lo{constructor(e){this.value=e}static empty(){return new Lo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!nt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gt(t)}setAll(e){let t=Or.emptyPath(),o={},u=[];e.forEach((v,C)=>{if(!t.isImmediateParentOf(C)){const $=this.getFieldsMap(t);this.applyChanges($,o,u),o={},u=[],t=C.popLast()}v?o[C.lastSegment()]=gt(v):u.push(C.lastSegment())});const f=this.getFieldsMap(t);this.applyChanges(f,o,u)}delete(e){const t=this.field(e.popLast());nt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return W(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];nt(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){ko(t,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new Lo(gt(this.value))}}function yd(i){const e=[];return ko(i.fields,(t,o)=>{const u=new Or([t]);if(nt(o)){const f=yd(o.mapValue).fields;if(0===f.length)e.push(u);else for(const v of f)e.push(u.child(v))}else e.push(u)}),new $i(e)}class Si{constructor(e,t,o,u,f,v,C){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.createTime=f,this.data=v,this.documentState=C}static newInvalidDocument(e){return new Si(e,0,Nn.min(),Nn.min(),Nn.min(),Lo.empty(),0)}static newFoundDocument(e,t,o,u){return new Si(e,1,t,Nn.min(),o,u,0)}static newNoDocument(e,t){return new Si(e,2,t,Nn.min(),Nn.min(),Lo.empty(),0)}static newUnknownDocument(e,t){return new Si(e,3,t,Nn.min(),Nn.min(),Lo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ch{constructor(e,t=null,o=[],u=[],f=null,v=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=v,this.endAt=C,this._t=null}}function Ru(i,e=null,t=[],o=[],u=null,f=null,v=null){return new Ch(i,e,t,o,u,f,v)}function wl(i){const e=qt(i);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>bh(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),os(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>en(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>en(o)).join(",")),e._t=t}return e._t}function Cl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!xg(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!fd(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!bo(i.startAt,e.startAt)&&bo(i.endAt,e.endAt)}function wc(i){return Qt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Tl(i,e){return i.filters.filter(t=>t instanceof wr&&t.field.isEqual(e))}function Th(i,e,t){let o=A,u=!0;for(const f of Tl(i,e)){let v=A,C=!0;switch(f.op){case"<":case"<=":v=yn(f.value);break;case"==":case"in":case">=":v=f.value;break;case">":v=f.value,C=!1;break;case"!=":case"not-in":v=A}Un({value:o,inclusive:u},{value:v,inclusive:C})<0&&(o=v,u=C)}if(null!==t)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const v=t.position[f];Un({value:o,inclusive:u},{value:v,inclusive:t.inclusive})<0&&(o=v,u=t.inclusive);break}return{value:o,inclusive:u}}function vd(i,e,t){let o=_,u=!0;for(const f of Tl(i,e)){let v=_,C=!0;switch(f.op){case">=":case">":v=Rn(f.value),C=!1;break;case"==":case"in":case"<=":v=f.value;break;case"<":v=f.value,C=!1;break;case"!=":case"not-in":v=_}Ar({value:o,inclusive:u},{value:v,inclusive:C})>0&&(o=v,u=C)}if(null!==t)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const v=t.position[f];Ar({value:o,inclusive:u},{value:v,inclusive:t.inclusive})>0&&(o=v,u=t.inclusive);break}return{value:o,inclusive:u}}class Gi{constructor(e,t=null,o=[],u=[],f=null,v="F",C=null,$=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=v,this.startAt=C,this.endAt=$,this.wt=null,this.gt=null}}function Jl(i,e,t,o,u,f,v,C){return new Gi(i,e,t,o,u,f,v,C)}function Sl(i){return new Gi(i)}function Ou(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function wo(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function rl(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Cc(i){return null!==i.collectionGroup}function il(i){const e=qt(i);if(null===e.wt){e.wt=[];const t=rl(e),o=wo(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new Mu(t)),e.wt.push(new Mu(Or.keyField(),"asc"));else{let u=!1;for(const f of e.explicitOrderBy)e.wt.push(f),f.field.isKeyField()&&(u=!0);if(!u){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Mu(Or.keyField(),f))}}}return e.wt}function ms(i){const e=qt(i);if(!e.gt)if("F"===e.limitType)e.gt=Ru(e.path,e.collectionGroup,il(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const f of il(e))t.push(new Mu(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new Gn(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Gn(e.startAt.position,e.startAt.inclusive):null;e.gt=Ru(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.gt}function Tc(i,e){e.getFirstInequalityField(),rl(i);const t=i.filters.concat([e]);return new Gi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Pu(i,e,t){return new Gi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function eu(i,e){return Cl(ms(i),ms(e))&&i.limitType===e.limitType}function Zf(i){return`${wl(ms(i))}|lt:${i.limitType}`}function Ca(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>wh(o)).join(", ")}]`),os(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>en(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>en(o)).join(",")),`Target(${t})`}(ms(i))}; limitType=${i.limitType})`}function Nu(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Qt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of il(t))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,f,v){const C=Yo(u,f,v);return u.inclusive?C<=0:C<0}(t.startAt,il(t),o)||t.endAt&&!function(u,f,v){const C=Yo(u,f,v);return u.inclusive?C>=0:C>0}(t.endAt,il(t),o)));var t,o}function Sh(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function tu(i){return(e,t)=>{let o=!1;for(const u of il(i)){const f=_d(u,e,t);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function _d(i,e,t){const o=i.field.isKeyField()?Qt.comparator(e.key,t.key):function(u,f,v){const C=f.data.field(u),$=v.data.field(u);return null!==C&&null!==$?Qe(C,$):Bt()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Bt()}}function Sc(i,e){if(i.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ss(e)?"-0":e}}function nu(i){return{integerValue:""+i}}function Ah(i,e){return el(e)?nu(e):Sc(i,e)}class ru{constructor(){this._=void 0}}function Ed(i,e,t){return i instanceof ya?function(o,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(f.fields.__previous_value__=u),{mapValue:f}}(t,e):i instanceof Va?Dd(i,e):i instanceof Al?Ac(i,e):function(o,u){const f=ku(o,u),v=Mc(f)+Mc(o.It);return O(f)&&O(o.It)?nu(v):Sc(o.Tt,v)}(i,e)}function Id(i,e,t){return i instanceof Va?Dd(i,e):i instanceof Al?Ac(i,e):t}function ku(i,e){return i instanceof Ml?O(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class ya extends ru{}class Va extends ru{constructor(e){super(),this.elements=e}}function Dd(i,e){const t=Mh(e);for(const o of i.elements)t.some(u=>W(u,o))||t.push(o);return{arrayValue:{values:t}}}class Al extends ru{constructor(e){super(),this.elements=e}}function Ac(i,e){let t=Mh(e);for(const o of i.elements)t=t.filter(u=>!W(u,o));return{arrayValue:{values:t}}}class Ml extends ru{constructor(e,t){super(),this.Tt=e,this.It=t}}function Mc(i){return Gr(i.integerValue||i.doubleValue)}function Mh(i){return B(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Fu{constructor(e,t){this.field=e,this.transform=t}}class wd{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ol{}function xc(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Sa(i.key,Ai.none()):new na(i.key,i.data,Ai.none());{const t=i.data,o=Lo.empty();let u=new di(Or.comparator);for(let f of e.fields)if(!u.has(f)){let v=t.field(f);null===v&&f.length>1&&(f=f.popLast(),v=t.field(f)),null===v?o.delete(f):o.set(f,v),u=u.add(f)}return new Ta(i.key,o,new $i(u.toArray()),Ai.none())}}function Xf(i,e,t){i instanceof na?function(o,u,f){const v=o.value.clone(),C=ou(o.fieldTransforms,u,f.transformResults);v.setAll(C),u.convertToFoundDocument(f.version,v).setHasCommittedMutations()}(i,e,t):i instanceof Ta?function(o,u,f){if(!iu(o.precondition,u))return void u.convertToUnknownDocument(f.version);const v=ou(o.fieldTransforms,u,f.transformResults),C=u.data;C.setAll(Sd(o)),C.setAll(v),u.convertToFoundDocument(f.version,C).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Lu(i,e,t,o){return i instanceof na?function(u,f,v,C){if(!iu(u.precondition,f))return v;const $=u.value.clone(),H=Qf(u.fieldTransforms,C,f);return $.setAll(H),f.convertToFoundDocument(f.version,$).setHasLocalMutations(),null}(i,e,t,o):i instanceof Ta?function(u,f,v,C){if(!iu(u.precondition,f))return v;const $=Qf(u.fieldTransforms,C,f),H=f.data;return H.setAll(Sd(u)),H.setAll($),f.convertToFoundDocument(f.version,H).setHasLocalMutations(),null===v?null:v.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(te=>te.field))}(i,e,t,o):(v=t,iu(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):v);var f,v}function Cd(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),f=ku(o.transform,u||null);null!=f&&(null===t&&(t=Lo.empty()),t.set(o.field,f))}return t||null}function Td(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Cs(t,o,(u,f)=>function bd(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Va&&o instanceof Va||t instanceof Al&&o instanceof Al?Cs(t.elements,o.elements,W):t instanceof Ml&&o instanceof Ml?W(t.It,o.It):t instanceof ya&&o instanceof ya);var t,o}(u,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class na extends ol{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ta extends ol{constructor(e,t,o,u,f=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Sd(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function ou(i,e,t){const o=new Map;tn(i.length===t.length);for(let u=0;u<t.length;u++){const f=i[u],v=f.transform,C=e.data.field(f.field);o.set(f.field,Id(v,C,t[u]))}return o}function Qf(i,e,t){const o=new Map;for(const u of i){const f=u.transform,v=t.data.field(u.field);o.set(u.field,Ed(f,v,e))}return o}class Sa extends ol{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ad extends ol{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xh{constructor(e){this.count=e}}var ro,Br;function Bu(i){switch(i){default:return Bt();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function $u(i){if(void 0===i)return zn("GRPC error has no .code"),pt.UNKNOWN;switch(i){case ro.OK:return pt.OK;case ro.CANCELLED:return pt.CANCELLED;case ro.UNKNOWN:return pt.UNKNOWN;case ro.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case ro.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case ro.INTERNAL:return pt.INTERNAL;case ro.UNAVAILABLE:return pt.UNAVAILABLE;case ro.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case ro.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case ro.NOT_FOUND:return pt.NOT_FOUND;case ro.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case ro.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case ro.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case ro.ABORTED:return pt.ABORTED;case ro.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case ro.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case ro.DATA_LOSS:return pt.DATA_LOSS;default:return Bt()}}(Br=ro||(ro={}))[Br.OK=0]="OK",Br[Br.CANCELLED=1]="CANCELLED",Br[Br.UNKNOWN=2]="UNKNOWN",Br[Br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Br[Br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Br[Br.NOT_FOUND=5]="NOT_FOUND",Br[Br.ALREADY_EXISTS=6]="ALREADY_EXISTS",Br[Br.PERMISSION_DENIED=7]="PERMISSION_DENIED",Br[Br.UNAUTHENTICATED=16]="UNAUTHENTICATED",Br[Br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Br[Br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Br[Br.ABORTED=10]="ABORTED",Br[Br.OUT_OF_RANGE=11]="OUT_OF_RANGE",Br[Br.UNIMPLEMENTED=12]="UNIMPLEMENTED",Br[Br.INTERNAL=13]="INTERNAL",Br[Br.UNAVAILABLE=14]="UNAVAILABLE",Br[Br.DATA_LOSS=15]="DATA_LOSS";class Vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(t,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return wa(this.inner)}size(){return this.innerSize}}const Vu=new Hi(Qt.comparator);function ys(){return Vu}const su=new Hi(Qt.comparator);function xl(...i){let e=su;for(const t of i)e=e.insert(t.key,t);return e}function as(i){let e=su;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Bo(){return au()}function Md(){return au()}function au(){return new Vs(i=>i.toString(),(i,e)=>i.isEqual(e))}const xd=new Hi(Qt.comparator),Rd=new di(Qt.comparator);function Ir(...i){let e=Rd;for(const t of i)e=e.add(t);return e}const Od=new di(Wn);function Uu(){return Od}class vs{constructor(e,t,o,u,f){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,sl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new vs(Nn.min(),u,Uu(),ys(),Ir())}}class sl{constructor(e,t,o,u,f){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new sl(o,t,Ir(),Ir(),Ir())}}class Ua{constructor(e,t,o,u){this.Et=e,this.removedTargetIds=t,this.key=o,this.At=u}}class Rh{constructor(e,t){this.targetId=e,this.Rt=t}}class Oh{constructor(e,t,o=eo.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Ph{constructor(){this.bt=0,this.vt=Rc(),this.Pt=eo.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return 0!==this.bt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}Nt(){let e=Ir(),t=Ir(),o=Ir();return this.vt.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Bt()}}),new sl(this.Pt,this.Vt,e,t,o)}kt(){this.St=!1,this.vt=Rc()}Ot(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class Rs{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=ys(),this.Kt=lu(),this.Gt=new di(Wn)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const o=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&o.xt(e.resumeToken);break;case 1:o.$t(),o.Dt||o.kt(),o.xt(e.resumeToken);break;case 2:o.$t(),o.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(o.Bt(),o.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),o.xt(e.resumeToken));break;default:Bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((o,u)=>{this.Jt(u)&&t(u)})}Zt(e){const t=e.targetId,o=e.Rt.count,u=this.Xt(t);if(u){const f=u.target;if(wc(f))if(0===o){const v=new Qt(f.path);this.zt(t,v,Si.newNoDocument(v,Nn.min()))}else tn(1===o);else this.te(t)!==o&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((f,v)=>{const C=this.Xt(v);if(C){if(f.current&&wc(C.target)){const $=new Qt(C.target.path);null!==this.Ut.get($)||this.ne(v,$)||this.zt(v,$,Si.newNoDocument($,e))}f.Ct&&(t.set(v,f.Nt()),f.kt())}});let o=Ir();this.Kt.forEach((f,v)=>{let C=!0;v.forEachWhile($=>{const H=this.Xt($);return!H||2===H.purpose||(C=!1,!1)}),C&&(o=o.add(f))}),this.Ut.forEach((f,v)=>v.setReadTime(e));const u=new vs(e,t,this.Gt,this.Ut,o);return this.Ut=ys(),this.Kt=lu(),this.Gt=new di(Wn),u}jt(e,t){if(!this.Jt(e))return;const o=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,o){if(!this.Jt(e))return;const u=this.Ht(e);this.ne(e,t)?u.Ot(t,1):u.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ft(e){this.Ht(e).Ft()}Ht(e){let t=this.qt.get(e);return t||(t=new Ph,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new di(Wn),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||Tt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new Ph),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function lu(){return new Hi(Qt.comparator)}function Rc(){return new Hi(Qt.comparator)}const Nh={asc:"ASCENDING",desc:"DESCENDING"},ra={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rl={and:"AND",or:"OR"};class Pd{constructor(e,t){this.databaseId=e,this.yt=t}}function al(i,e){return i.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nd(i,e){return i.yt?e.toBase64():e.toUint8Array()}function Oc(i,e){return al(i,e.toTimestamp())}function io(i){return tn(!!i),Nn.fromTimestamp(function(e){const t=$s(e);return new Yr(t.seconds,t.nanos)}(i))}function kd(i,e){return(t=i,new yr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function kh(i){const e=yr.fromString(i);return tn(kc(e)),e}function ju(i,e){return kd(i.databaseId,e.path)}function E(i,e){const t=kh(e);if(t.get(1)!==i.databaseId.projectId)throw new Nt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Nt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Qt(j(t))}function h(i,e){return kd(i.databaseId,e)}function m(i){const e=kh(i);return 4===e.length?yr.emptyPath():j(e)}function b(i){return new yr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function j(i){return tn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Q(i,e,t){return{name:ju(i,e),fields:t.value.mapValue.fields}}function it(i,e,t){const o=E(i,e.name),u=io(e.updateTime),f=e.createTime?io(e.createTime):Nn.min(),v=new Lo({mapValue:{fields:e.fields}}),C=Si.newFoundDocument(o,u,f,v);return t&&C.setHasCommittedMutations(),t?C.setHasCommittedMutations():C}function vn(i,e){let t;if(e instanceof na)t={update:Q(i,e.key,e.value)};else if(e instanceof Sa)t={delete:ju(i,e.key)};else if(e instanceof Ta)t={update:Q(i,e.key,e.data),updateMask:Nc(e.fieldMask)};else{if(!(e instanceof Ad))return Bt();t={verify:ju(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,f){const v=f.transform;if(v instanceof ya)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Va)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Al)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Ml)return{fieldPath:f.field.canonicalString(),increment:v.It};throw Bt()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Oc(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Bt()),t;var u}function Qn(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Ai.updateTime(io(u.updateTime)):void 0!==u.exists?Ai.exists(u.exists):Ai.none():Ai.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(f,v){let C=null;"setToServerValue"in v?(tn("REQUEST_TIME"===v.setToServerValue),C=new ya):"appendMissingElements"in v?C=new Va(v.appendMissingElements.values||[]):"removeAllFromArray"in v?C=new Al(v.removeAllFromArray.values||[]):"increment"in v?C=new Ml(f,v.increment):Bt();const $=Or.fromServerFormat(v.fieldPath);return new Fu($,C)}(i,u)):[];var u;if(e.update){const u=E(i,e.update.name),f=new Lo({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new $i((e.updateMask.fieldPaths||[]).map(H=>Or.fromServerFormat(H)));return new Ta(u,f,v,t,o)}return new na(u,f,t,o)}if(e.delete){const u=E(i,e.delete);return new Sa(u,t)}if(e.verify){const u=E(i,e.verify);return new Ad(u,t)}return Bt()}function ho(i,e){return{documents:[h(i,e.path)]}}function Us(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=h(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=h(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function($){if(0!==$.length)return Bd(kr.create($,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function($){if(0!==$.length)return $.map(H=>{return{field:ul((te=H).field),direction:Fd(te.dir)};var te})}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const v=(H=e.limit,i.yt||os(H)?H:{value:H});var H,C,$;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),t}function Ol(i){let e=m(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){tn(1===o);const te=t.from[0];te.allDescendants?u=te.collectionId:e=e.child(te.collectionId)}let f=[];t.where&&(f=function(te){const Ne=ll(te);return Ne instanceof kr&&nl(Ne)?Ne.getFilters():[Ne]}(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(te=>{return new Mu(uu((Ne=te).field),function(ut){switch(ut){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ne.direction));var Ne}));let C=null;t.limit&&(C=function(te){let Ne;return Ne="object"==typeof te?te.value:te,os(Ne)?null:Ne}(t.limit));let $=null;var te;t.startAt&&($=new Gn((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new Gn(te.values||[],!te.before)}(t.endAt)),Jl(e,u,v,f,C,"F",$,H)}function ll(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=uu(e.unaryFilter.field);return wr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=uu(e.unaryFilter.field);return wr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uu(e.unaryFilter.field);return wr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=uu(e.unaryFilter.field);return wr.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}(i):void 0!==i.fieldFilter?wr.create(uu((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return kr.create(e.compositeFilter.filters.map(t=>ll(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Bt()}}(e.compositeFilter.op))}(i):Bt();var e}function Fd(i){return Nh[i]}function Ld(i){return ra[i]}function Pc(i){return Rl[i]}function ul(i){return{fieldPath:i.canonicalString()}}function uu(i){return Or.fromServerFormat(i.fieldPath)}function Bd(i){return i instanceof wr?function(e){if("=="===e.op){if(Ee(e.value))return{unaryFilter:{field:ul(e.field),op:"IS_NAN"}};if(K(e.value))return{unaryFilter:{field:ul(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ee(e.value))return{unaryFilter:{field:ul(e.field),op:"IS_NOT_NAN"}};if(K(e.value))return{unaryFilter:{field:ul(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ul(e.field),op:Ld(e.op),value:e.value}}}(i):i instanceof kr?function(e){const t=e.getFilters().map(o=>Bd(o));return 1===t.length?t[0]:{compositeFilter:{op:Pc(e.op),filters:t}}}(i):Bt()}function Nc(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ls(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Jf(e)),e=Rg(i.get(t),e);return Jf(e)}function Rg(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const f=i.charAt(u);switch(f){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=f}}return t}function Jf(i){return i+"\x01\x01"}function cl(i){const e=i.length;if(tn(e>=2),2===e)return tn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),yr.emptyPath();const t=e-2,o=[];let u="";for(let f=0;f<e;){const v=i.indexOf("\x01",f);switch((v<0||v>t)&&Bt(),i.charAt(v+1)){case"\x01":const C=i.substring(f,v);let $;0===u.length?$=C:(u+=C,$=u,u=""),o.push($);break;case"\x10":u+=i.substring(f,v),u+="\0";break;case"\x11":u+=i.substring(f,v+1);break;default:Bt()}f=v+2}return new yr(o)}const Og=["userId","batchId"];function Fh(i,e){return[i,ls(e)]}function Pg(i,e,t){return[i,ls(e),t]}const Ng={},Lh=["prefixPath","collectionGroup","readTime","documentId"],Xy=["prefixPath","collectionGroup","documentId"],ep=["collectionGroup","readTime","prefixPath","documentId"],Qy=["canonicalId","targetId"],$o=["targetId","path"],Jy=["path","targetId"],ev=["collectionId","parent"],kg=["indexId","uid"],Fg=["uid","sequenceNumber"],tv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nv=["indexId","uid","orderedDocumentKey"],rv=["userId","collectionPath","documentId"],iv=["userId","collectionPath","largestBatchId"],Lg=["userId","collectionGroup","largestBatchId"],ov=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],s0=[...ov,"documentOverlays"],Fc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bh=Fc,Bg=[...Bh,"indexConfiguration","indexState","indexEntries"];class $h extends Ti{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function qo(i,e){const t=qt(i);return Qi.M(t.re,e)}class $g{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&Xf(f,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Lu(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Lu(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Md();return this.mutations.forEach(u=>{const f=e.get(u.key),v=f.overlayedDocument;let C=this.applyToLocalView(v,f.mutatedFields);C=t.has(u.key)?null:C;const $=xc(v,C);null!==$&&o.set(u.key,$),v.isValidDocument()||v.convertToNoDocument(Nn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ir())}isEqual(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,(t,o)=>Td(t,o))&&Cs(this.baseMutations,e.baseMutations,(t,o)=>Td(t,o))}}class tp{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){tn(e.mutations.length===o.length);let u=xd;const f=e.mutations;for(let v=0;v<f.length;v++)u=u.insert(f[v].key,o[v].version);return new tp(e,t,o,u)}}class Vh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pl{constructor(e,t,o,u,f=Nn.min(),v=Nn.min(),C=eo.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=C}withSequenceNumber(e){return new Pl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Uh{constructor(e){this.oe=e}}function jh(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Hh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:ju(u=i.oe,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:al(u,f.version.toTimestamp()),createTime:al(u,f.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Nl(e.version)};else{if(!e.isUnknownDocument())return Bt();o.unknownDocument={path:t.path.toArray(),version:Nl(e.version)}}var u,f;return o}function Hh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Nl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cu(i){const e=new Yr(i.seconds,i.nanoseconds);return Nn.fromTimestamp(e)}function du(i,e){const t=(e.baseMutations||[]).map(f=>Qn(i.oe,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const o=e.mutations.map(f=>Qn(i.oe,f)),u=Yr.fromMillis(e.localWriteTimeMs);return new $g(e.batchId,u,t,o)}function ja(i){const e=cu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?cu(i.lastLimboFreeSnapshotVersion):Nn.min();let o;var u;return void 0!==i.query.documents?(tn(1===(u=i.query).documents.length),o=ms(Sl(m(u.documents[0])))):o=ms(Ol(i.query)),new Pl(o,i.targetId,0,i.lastListenSequenceNumber,e,t,eo.fromBase64String(i.resumeToken))}function Vg(i,e){const t=Nl(e.snapshotVersion),o=Nl(e.lastLimboFreeSnapshotVersion);let u;u=wc(e.target)?ho(i.oe,e.target):Us(i.oe,e.target);const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wl(e.target),readTime:t,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function $d(i){const e=Ol({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Pu(e,e.limit,"L"):e}function Lc(i,e){return new Vh(e.largestBatchId,Qn(i.oe,e.overlayMutation))}function Ug(i,e){const t=e.path.lastSegment();return[i,ls(e.path.popLast()),t]}function Gh(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Nl(o.readTime),documentKey:ls(o.documentKey.path),largestBatchId:o.largestBatchId}}class zh{getBundleMetadata(e,t){return hu(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:cu(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return hu(e).put({bundleId:(o=t).id,createTime:Nl(io(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return np(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:$d(u.bundledQuery),readTime:cu(u.readTime)};var u})}saveNamedQuery(e,t){return np(e).put({name:(o=t).name,readTime:Nl(io(o.readTime)),bundledQuery:o.bundledQuery});var o}}function hu(i){return qo(i,"bundles")}function np(i){return qo(i,"namedQueries")}class Bc{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new Bc(e,t.uid||"")}getOverlay(e,t){return Vd(e).get(Ug(this.userId,t)).next(o=>o?Lc(this.Tt,o):null)}getOverlays(e,t){const o=Bo();return mt.forEach(t,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((f,v)=>{const C=new Vh(t,v);u.push(this.ce(e,C))}),mt.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(v=>u.add(ls(v.getCollectionPath())));const f=[];return u.forEach(v=>{const C=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);f.push(Vd(e).Y("collectionPathOverlayIndex",C))}),mt.waitFor(f)}getOverlaysForCollection(e,t,o){const u=Bo(),f=ls(t),v=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return Vd(e).W("collectionPathOverlayIndex",v).next(C=>{for(const $ of C){const H=Lc(this.Tt,$);u.set(H.getKey(),H)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const f=Bo();let v;const C=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vd(e).X({index:"collectionGroupOverlayIndex",range:C},($,H,te)=>{const Ne=Lc(this.Tt,H);f.size()<u||Ne.largestBatchId===v?(f.set(Ne.getKey(),Ne),v=Ne.largestBatchId):te.done()}).next(()=>f)}ce(e,t){return Vd(e).put(function(o,u,f){const[v,C,$]=Ug(u,f.mutation.key);return{userId:u,collectionPath:C,documentId:$,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:vn(o.oe,f.mutation)}}(this.Tt,this.userId,t))}}function Vd(i){return qo(i,"documentOverlays")}class Hu{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Gr(e.integerValue));else if("doubleValue"in e){const o=Gr(e.doubleValue);isNaN(o)?this.fe(t,13):(this.fe(t,15),ss(o)?t.de(0):t.de(o))}else if("timestampValue"in e){const o=e.timestampValue;this.fe(t,20),"string"==typeof o?t._e(o):(t._e(`${o.seconds||""}`),t.de(o.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(ea(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.fe(t,45),t.de(o.latitude||0),t.de(o.longitude||0)}else"mapValue"in e?Vt(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):Bt()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const o=e.fields||{};this.fe(t,55);for(const u of Object.keys(o))this.we(u,t),this.he(o[u],t)}Ie(e,t){const o=e.values||[];this.fe(t,50);for(const u of o)this.he(u,t)}ye(e,t){this.fe(t,37),Qt.fromName(e).path.forEach(o=>{this.fe(t,60),this.Te(o,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function jg(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Gu(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const f=jg(255&t[u]);if(o+=f,8!==f)break}return o}(i);return Math.ceil(e/8)}Hu.Ee=new Hu;class sv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Re(o.value),o=t.next();this.be()}ve(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.Ve()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Re(o);else if(o<2048)this.Re(960|o>>>6),this.Re(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Re(480|o>>>12),this.Re(128|63&o>>>6),this.Re(128|63&o);else{const u=t.codePointAt(0);this.Re(240|u>>>18),this.Re(128|63&u>>>12),this.Re(128|63&u>>>6),this.Re(128|63&u)}}this.be()}De(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=t.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.Ve()}Ce(e){const t=this.xe(e),o=Gu(t);this.Ne(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}ke(e){const t=this.xe(e),o=Gu(t);this.Ne(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Oe(){this.Me(255),this.Me(255)}Fe(){this.$e(255),this.$e(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(u){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,u,!1),new Uint8Array(f.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.$e(0),this.$e(255)):255===t?(this.$e(255),this.$e(0)):this.$e(e)}be(){this.Me(0),this.Me(1)}Ve(){this.$e(0),this.$e(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}$e(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class av{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.Oe()}}class lv{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Fe()}}class zu{constructor(){this.Le=new sv,this.qe=new av(this.Le),this.Ue=new lv(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class Wu{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Wu(this.indexId,this.documentKey,this.arrayValue,o)}}function kl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Hg(i.arrayValue,e.arrayValue),0!==t?t:(t=Hg(i.directionalValue,e.directionalValue),0!==t?t:Qt.comparator(i.documentKey,e.documentKey)))}function Hg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Gg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const o=t;o.isInequality()?this.ze=o:this.je.push(o)}}We(e){tn(e.collectionGroup===this.collectionId);const t=Ci(e);if(void 0!==t&&!this.He(t))return!1;const o=Ts(e);let u=0,f=0;for(;u<o.length&&this.He(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.ze){const v=o[u];if(!this.Je(this.ze,v)||!this.Ye(this.Qe[f++],v))return!1;++u}for(;u<o.length;++u)if(f>=this.Qe.length||!this.Ye(this.Qe[f++],o[u]))return!1;return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function uv(i){var e,t;if(tn(i instanceof wr||i instanceof kr),i instanceof wr){if(i instanceof qf){const u=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(f=>wr.create(i.field,"==",f)))||[];return kr.create(u,"or")}return i}const o=i.filters.map(u=>uv(u));return kr.create(o,i.op)}function cv(i){if(0===i.getFilters().length)return[];const e=qu(uv(i));return tn(Yu(e)),Ku(e)||rp(e)?[e]:e.getFilters()}function Ku(i){return i instanceof wr}function rp(i){return i instanceof kr&&nl(i)}function Yu(i){return Ku(i)||rp(i)||function(e){if(e instanceof kr&&xs(e)){for(const t of e.getFilters())if(!Ku(t)&&!rp(t))return!1;return!0}return!1}(i)}function qu(i){if(tn(i instanceof wr||i instanceof kr),i instanceof wr)return i;if(1===i.filters.length)return qu(i.filters[0]);const e=i.filters.map(o=>qu(o));let t=kr.create(e,i.op);return t=Wh(t),Yu(t)?t:(tn(t instanceof kr),tn(to(t)),tn(t.filters.length>1),t.filters.reduce((o,u)=>ip(o,u)))}function ip(i,e){let t;return tn(i instanceof wr||i instanceof kr),tn(e instanceof wr||e instanceof kr),t=i instanceof wr?e instanceof wr?kr.create([i,e],"and"):op(i,e):e instanceof wr?op(e,i):function(o,u){if(tn(o.filters.length>0&&u.filters.length>0),to(o)&&to(u))return pd(o,u.getFilters());const f=xs(o)?o:u,v=xs(o)?u:o,C=f.filters.map($=>ip($,v));return kr.create(C,"or")}(i,e),Wh(t)}function op(i,e){if(to(e))return pd(e,i.getFilters());{const t=e.filters.map(o=>ip(i,o));return kr.create(t,"or")}}function Wh(i){if(tn(i instanceof wr||i instanceof kr),i instanceof wr)return i;const e=i.getFilters();if(1===e.length)return Wh(e[0]);if(hd(i))return i;const t=e.map(u=>Wh(u)),o=[];return t.forEach(u=>{u instanceof wr?o.push(u):u instanceof kr&&(u.op===i.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:kr.create(o,i.op)}class dv{constructor(){this.Ze=new sp}addToCollectionParentIndex(e,t){return this.Ze.add(t),mt.resolve()}getCollectionParents(e,t){return mt.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return mt.resolve()}deleteFieldIndex(e,t){return mt.resolve()}getDocumentsMatchingTarget(e,t){return mt.resolve(null)}getIndexType(e,t){return mt.resolve(0)}getFieldIndexes(e,t){return mt.resolve([])}getNextCollectionGroupToUpdate(e){return mt.resolve(null)}getMinOffset(e,t){return mt.resolve(co.min())}getMinOffsetFromCollectionGroup(e,t){return mt.resolve(co.min())}updateCollectionGroup(e,t,o){return mt.resolve()}updateIndexEntries(e,t){return mt.resolve()}}class sp{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new di(yr.comparator),f=!u.has(o);return this.index[t]=u.add(o),f}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new di(yr.comparator)).toArray()}}const Ud=new Uint8Array(0);class zg{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new sp,this.tn=new Vs(o=>wl(o),(o,u)=>Cl(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const f={collectionId:o,parent:ls(u)};return Kh(e).put(f)}return mt.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[Il(t),""],!1,!0);return Kh(e).W(u).next(f=>{for(const v of f){if(v.collectionId!==t)break;o.push(cl(v.parent))}return o})}addFieldIndex(e,t){const o=Yh(e),u={indexId:(v=t).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var v;delete u.indexId;const f=o.add(u);if(t.indexState){const v=Xu(e);return f.next(C=>{v.put(Gh(C,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return f.next()}deleteFieldIndex(e,t){const o=Yh(e),u=Xu(e),f=Zu(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Zu(e);let u=!0;const f=new Map;return mt.forEach(this.en(t),v=>this.nn(e,v).next(C=>{u&&(u=!!C),f.set(v,C)})).next(()=>{if(u){let v=Ir();const C=[];return mt.forEach(f,($,H)=>{var te;Tt("IndexedDbIndexManager",`Using index ${te=$,`id=${te.indexId}|cg=${te.collectionGroup}|f=${te.fields.map(zr=>`${zr.fieldPath}:${zr.kind}`).join(",")}`} to execute ${wl(t)}`);const Ne=function(zr,oo){const Zr=Ci(oo);if(void 0===Zr)return null;for(const oi of Tl(zr,Zr.fieldPath))switch(oi.op){case"array-contains-any":return oi.value.arrayValue.values||[];case"array-contains":return[oi.value]}return null}(H,$),ut=function(zr,oo){const Zr=new Map;for(const oi of Ts(oo))for(const Uo of Tl(zr,oi.fieldPath))switch(Uo.op){case"==":case"in":Zr.set(oi.fieldPath.canonicalString(),Uo.value);break;case"not-in":case"!=":return Zr.set(oi.fieldPath.canonicalString(),Uo.value),Array.from(Zr.values())}return null}(H,$),Pt=function(zr,oo){const Zr=[];let oi=!0;for(const Uo of Ts(oo)){const Ih=0===Uo.kind?Th(zr,Uo.fieldPath,zr.startAt):vd(zr,Uo.fieldPath,zr.startAt);Zr.push(Ih.value),oi&&(oi=Ih.inclusive)}return new Gn(Zr,oi)}(H,$),$t=function(zr,oo){const Zr=[];let oi=!0;for(const Uo of Ts(oo)){const Ih=0===Uo.kind?vd(zr,Uo.fieldPath,zr.endAt):Th(zr,Uo.fieldPath,zr.endAt);Zr.push(Ih.value),oi&&(oi=Ih.inclusive)}return new Gn(Zr,oi)}(H,$),_n=this.sn($,H,Pt),Bn=this.sn($,H,$t),Ii=this.rn($,H,ut),Vi=this.on($.indexId,Ne,_n,Pt.inclusive,Bn,$t.inclusive,Ii);return mt.forEach(Vi,zr=>o.J(zr,t.limit).next(oo=>{oo.forEach(Zr=>{const oi=Qt.fromSegments(Zr.documentKey);v.has(oi)||(v=v.add(oi),C.push(oi))})}))}).next(()=>C)}return mt.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:cv(kr.create(e.filters,"and")).map(o=>Ru(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,o,u,f,v,C){const $=(null!=t?t.length:1)*Math.max(o.length,f.length),H=$/(null!=t?t.length:1),te=[];for(let Ne=0;Ne<$;++Ne){const ut=t?this.un(t[Ne/H]):Ud,Pt=this.cn(e,ut,o[Ne%H],u),$t=this.an(e,ut,f[Ne%H],v),_n=C.map(Bn=>this.cn(e,ut,Bn,!0));te.push(...this.createRange(Pt,$t,_n))}return te}cn(e,t,o,u){const f=new Wu(e,Qt.empty(),t,o);return u?f:f.Ge()}an(e,t,o,u){const f=new Wu(e,Qt.empty(),t,o);return u?f.Ge():f}nn(e,t){const o=new Gg(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(f=>{let v=null;for(const C of f)o.We(C)&&(!v||C.fields.length>v.fields.length)&&(v=C);return v})}getIndexType(e,t){let o=2;const u=this.en(t);return mt.forEach(u,f=>this.nn(e,f).next(v=>{v?0!==o&&v.fields.length<function(C){let $=new di(Or.comparator),H=!1;for(const te of C.filters)for(const Ne of te.getFlattenedFilters())Ne.field.isKeyField()||("array-contains"===Ne.op||"array-contains-any"===Ne.op?H=!0:$=$.add(Ne.field));for(const te of C.orderBy)te.field.isKeyField()||($=$.add(te.field));return $.size+(H?1:0)}(f)&&(o=1):o=0})).next(()=>null!==t.limit&&u.length>1&&2===o?1:o)}hn(e,t){const o=new zu;for(const u of Ts(e)){const f=t.data.field(u.fieldPath);if(null==f)return null;const v=o.Ke(u.kind);Hu.Ee.ae(f,v)}return o.Be()}un(e){const t=new zu;return Hu.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const o=new zu;return Hu.Ee.ae(cr(this.databaseId,t),o.Ke(function(u){const f=Ts(u);return 0===f.length?0:f[f.length-1].kind}(e))),o.Be()}rn(e,t,o){if(null===o)return[];let u=[];u.push(new zu);let f=0;for(const v of Ts(e)){const C=o[f++];for(const $ of u)if(this.fn(t,v.fieldPath)&&B(C))u=this.dn(u,v,C);else{const H=$.Ke(v.kind);Hu.Ee.ae(C,H)}}return this._n(u)}sn(e,t,o){return this.rn(e,t,o.position)}_n(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Be();return t}dn(e,t,o){const u=[...e],f=[];for(const v of o.arrayValue.values||[])for(const C of u){const $=new zu;$.seed(C.Be()),Hu.Ee.ae(v,$.Ke(t.kind)),f.push($)}return f}fn(e,t){return!!e.filters.find(o=>o instanceof wr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Yh(e),u=Xu(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(f=>{const v=[];return mt.forEach(f,C=>u.get([C.indexId,this.uid]).next($=>{v.push(function(H,te){const Ne=te?new pa(te.sequenceNumber,new co(cu(te.readTime),new Qt(cl(te.documentKey)),te.largestBatchId)):pa.empty(),ut=H.fields.map(([Pt,$t])=>new is(Or.fromServerFormat(Pt),$t));return new La(H.indexId,H.collectionGroup,ut,Ne)}(C,$))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const f=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:Wn(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=Yh(e),f=Xu(e);return this.wn(e).next(v=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(C=>mt.forEach(C,$=>f.put(Gh($.indexId,this.user,v,o)))))}updateIndexEntries(e,t){const o=new Map;return mt.forEach(t,(u,f)=>{const v=o.get(u.collectionGroup);return(v?mt.resolve(v):this.getFieldIndexes(e,u.collectionGroup)).next(C=>(o.set(u.collectionGroup,C),mt.forEach(C,$=>this.mn(e,u,$).next(H=>{const te=this.gn(f,$);return H.isEqual(te)?mt.resolve():this.yn(e,f,$,H,te)}))))})}pn(e,t,o,u){return Zu(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.ln(o,t.key),documentKey:t.key.path.toArray()})}In(e,t,o,u){return Zu(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.ln(o,t.key),t.key.path.toArray()])}mn(e,t,o){const u=Zu(e);let f=new di(kl);return u.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.ln(o,t)])},(v,C)=>{f=f.add(new Wu(o.indexId,t,C.arrayValue,C.directionalValue))}).next(()=>f)}gn(e,t){let o=new di(kl);const u=this.hn(t,e);if(null==u)return o;const f=Ci(t);if(null!=f){const v=e.data.field(f.fieldPath);if(B(v))for(const C of v.arrayValue.values||[])o=o.add(new Wu(t.indexId,e.key,this.un(C),u))}else o=o.add(new Wu(t.indexId,e.key,Ud,u));return o}yn(e,t,o,u,f){Tt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const v=[];return function(C,$,H,te,Ne){const ut=C.getIterator(),Pt=$.getIterator();let $t=bl(ut),_n=bl(Pt);for(;$t||_n;){let Bn=!1,Ii=!1;if($t&&_n){const Vi=H($t,_n);Vi<0?Ii=!0:Vi>0&&(Bn=!0)}else null!=$t?Ii=!0:Bn=!0;Bn?(te(_n),_n=bl(Pt)):Ii?(Ne($t),$t=bl(ut)):($t=bl(ut),_n=bl(Pt))}}(u,f,kl,C=>{v.push(this.pn(e,t,o,C))},C=>{v.push(this.In(e,t,o,C))}),mt.waitFor(v)}wn(e){let t=1;return Xu(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,f)=>{f.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((v,C)=>kl(v,C)).filter((v,C,$)=>!C||0!==kl(v,$[C-1]));const u=[];u.push(e);for(const v of o){const C=kl(v,e),$=kl(v,t);if(0===C)u[0]=e.Ge();else if(C>0&&$<0)u.push(v),u.push(v.Ge());else if($>0)break}u.push(t);const f=[];for(let v=0;v<u.length;v+=2){if(this.Tn(u[v],u[v+1]))return[];f.push(IDBKeyRange.bound([u[v].indexId,this.uid,u[v].arrayValue,u[v].directionalValue,Ud,[]],[u[v+1].indexId,this.uid,u[v+1].arrayValue,u[v+1].directionalValue,Ud,[]]))}return f}Tn(e,t){return kl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($c)}getMinOffset(e,t){return mt.mapArray(this.en(t),o=>this.nn(e,o).next(u=>u||Bt())).next($c)}}function Kh(i){return qo(i,"collectionParents")}function Zu(i){return qo(i,"indexEntries")}function Yh(i){return qo(i,"indexConfiguration")}function Xu(i){return qo(i,"indexState")}function $c(i){tn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;As(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new co(e.readTime,e.documentKey,t)}const Wg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ia{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ia(e,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Kg(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),f=[],v=IDBKeyRange.only(t.batchId);let C=0;const $=o.X({range:v},(te,Ne,ut)=>(C++,ut.delete()));f.push($.next(()=>{tn(1===C)}));const H=[];for(const te of t.mutations){const Ne=Pg(e,te.key.path,t.batchId);f.push(u.delete(Ne)),H.push(te.key)}return mt.waitFor(f).next(()=>H)}function qh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Bt();e=i.noDocument}return JSON.stringify(e).length}ia.DEFAULT_COLLECTION_PERCENTILE=10,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ia.DEFAULT=new ia(41943040,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ia.DISABLED=new ia(-1,0,0);class Zh{constructor(e,t,o,u){this.userId=e,this.Tt=t,this.indexManager=o,this.referenceDelegate=u,this.En={}}static ue(e,t,o,u){tn(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new Zh(f,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fu(e).X({index:"userMutationsIndex",range:o},(u,f,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const f=Ha(e),v=fu(e);return v.add({}).next(C=>{tn("number"==typeof C);const $=new $g(C,t,o,u),H=function(ut,Pt,$t){const _n=$t.baseMutations.map(Ii=>vn(ut.oe,Ii)),Bn=$t.mutations.map(Ii=>vn(ut.oe,Ii));return{userId:Pt,batchId:$t.batchId,localWriteTimeMs:$t.localWriteTime.toMillis(),baseMutations:_n,mutations:Bn}}(this.Tt,this.userId,$),te=[];let Ne=new di((ut,Pt)=>Wn(ut.canonicalString(),Pt.canonicalString()));for(const ut of u){const Pt=Pg(this.userId,ut.key.path,C);Ne=Ne.add(ut.key.path.popLast()),te.push(v.put(H)),te.push(f.put(Pt,Ng))}return Ne.forEach(ut=>{te.push(this.indexManager.addToCollectionParentIndex(e,ut))}),e.addOnCommittedListener(()=>{this.En[C]=$.keys()}),mt.waitFor(te).next(()=>$)})}lookupMutationBatch(e,t){return fu(e).get(t).next(o=>o?(tn(o.userId===this.userId),du(this.Tt,o)):null)}An(e,t){return this.En[t]?mt.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.En[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return fu(e).X({index:"userMutationsIndex",range:u},(v,C,$)=>{C.userId===this.userId&&(tn(C.batchId>=o),f=du(this.Tt,C)),$.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return fu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(u,f,v)=>{o=f.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fu(e).W("userMutationsIndex",t).next(o=>o.map(u=>du(this.Tt,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Fh(this.userId,t.path),u=IDBKeyRange.lowerBound(o),f=[];return Ha(e).X({range:u},(v,C,$)=>{const[H,te,Ne]=v,ut=cl(te);if(H===this.userId&&t.path.isEqual(ut))return fu(e).get(Ne).next(Pt=>{if(!Pt)throw Bt();tn(Pt.userId===this.userId),f.push(du(this.Tt,Pt))});$.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new di(Wn);const u=[];return t.forEach(f=>{const v=Fh(this.userId,f.path),C=IDBKeyRange.lowerBound(v),$=Ha(e).X({range:C},(H,te,Ne)=>{const[ut,Pt,$t]=H,_n=cl(Pt);ut===this.userId&&f.path.isEqual(_n)?o=o.add($t):Ne.done()});u.push($)}),mt.waitFor(u).next(()=>this.Rn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,f=Fh(this.userId,o),v=IDBKeyRange.lowerBound(f);let C=new di(Wn);return Ha(e).X({range:v},($,H,te)=>{const[Ne,ut,Pt]=$,$t=cl(ut);Ne===this.userId&&o.isPrefixOf($t)?$t.length===u&&(C=C.add(Pt)):te.done()}).next(()=>this.Rn(e,C))}Rn(e,t){const o=[],u=[];return t.forEach(f=>{u.push(fu(e).get(f).next(v=>{if(null===v)throw Bt();tn(v.userId===this.userId),o.push(du(this.Tt,v))}))}),mt.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return Kg(e.re,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.bn(t.batchId)}),mt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}bn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return mt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Ha(e).X({range:o},(f,v,C)=>{if(f[0]===this.userId){const $=cl(f[1]);u.push($)}else C.done()}).next(()=>{tn(0===u.length)})})}containsKey(e,t){return Yg(e,this.userId,t)}vn(e){return dl(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Yg(i,e,t){const o=Fh(e,t.path),u=o[1],f=IDBKeyRange.lowerBound(o);let v=!1;return Ha(i).X({range:f,Z:!0},(C,$,H)=>{const[te,Ne,ut]=C;te===e&&Ne===u&&(v=!0),H.done()}).next(()=>v)}function fu(i){return qo(i,"mutations")}function Ha(i){return qo(i,"documentMutations")}function dl(i){return qo(i,"mutationQueues")}class Qu{constructor(e){this.Pn=e}next(){return this.Pn+=2,this.Pn}static Vn(){return new Qu(0)}static Sn(){return new Qu(-1)}}class hv{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const o=new Qu(t.highestTargetId);return t.highestTargetId=o.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>Nn.fromTimestamp(new Yr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Dn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Cn(e,u)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(o=>(o.targetCount+=1,this.Nn(t,o),this.Cn(e,o))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>jd(e).delete(t.targetId)).next(()=>this.Dn(e)).next(o=>(tn(o.targetCount>0),o.targetCount-=1,this.Cn(e,o)))}removeTargets(e,t,o){let u=0;const f=[];return jd(e).X((v,C)=>{const $=ja(C);$.sequenceNumber<=t&&null===o.get($.targetId)&&(u++,f.push(this.removeTargetData(e,$)))}).next(()=>mt.waitFor(f)).next(()=>u)}forEachTarget(e,t){return jd(e).X((o,u)=>{const f=ja(u);t(f)})}Dn(e){return fv(e).get("targetGlobalKey").next(t=>(tn(null!==t),t))}Cn(e,t){return fv(e).put("targetGlobalKey",t)}xn(e,t){return jd(e).put(Vg(this.Tt,t))}Nn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=wl(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return jd(e).X({range:u,index:"queryTargetsIndex"},(v,C,$)=>{const H=ja(C);Cl(t,H.target)&&(f=H,$.done())}).next(()=>f)}addMatchingKeys(e,t,o){const u=[],f=Fl(e);return t.forEach(v=>{const C=ls(v.path);u.push(f.put({targetId:o,path:C})),u.push(this.referenceDelegate.addReference(e,o,v))}),mt.waitFor(u)}removeMatchingKeys(e,t,o){const u=Fl(e);return mt.forEach(t,f=>{const v=ls(f.path);return mt.waitFor([u.delete([o,v]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,t){const o=Fl(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=Fl(e);let f=Ir();return u.X({range:o,Z:!0},(v,C,$)=>{const H=cl(v[1]),te=new Qt(H);f=f.add(te)}).next(()=>f)}containsKey(e,t){const o=ls(t.path),u=IDBKeyRange.bound([o],[Il(o)],!1,!0);let f=0;return Fl(e).X({index:"documentTargetsIndex",Z:!0,range:u},([v,C],$,H)=>{0!==v&&(f++,H.done())}).next(()=>f>0)}ie(e,t){return jd(e).get(t).next(o=>o?ja(o):null)}}function jd(i){return qo(i,"targets")}function fv(i){return qo(i,"targetGlobal")}function Fl(i){return qo(i,"targetDocuments")}function pv([i,e],[t,o]){const u=Wn(i,t);return 0===u?Wn(e,o):u}class qg{constructor(e){this.kn=e,this.buffer=new di(pv),this.On=0}Mn(){return++this.On}Fn(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();pv(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zg{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.$n=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.$n&&(this.$n.cancel(),this.$n=null)}get started(){return null!==this.$n}Bn(e){var t=this;Tt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ee.Z)(function*(){t.$n=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){ga(o)?Tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Qs(o)}yield t.Bn(3e5)}))}}class gv{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return mt.resolve(No.at);const o=new qg(t);return this.Ln.forEachTarget(e,u=>o.Fn(u.sequenceNumber)).next(()=>this.Ln.Un(e,u=>o.Fn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Ln.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(Wg)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wg):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let o,u,f,v,C,$,H;const te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ne=>(Ne>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ne}`),u=this.params.maximumSequenceNumbersToCollect):u=Ne,v=Date.now(),this.nthSequenceNumber(e,u))).next(Ne=>(o=Ne,C=Date.now(),this.removeTargets(e,o,t))).next(Ne=>(f=Ne,$=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ne=>(H=Date.now(),wn()<=je.in.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-te}ms\n\tDetermined least recently used ${u} in `+(C-v)+`ms\n\tRemoved ${f} targets in `+($-C)+`ms\n\tRemoved ${Ne} documents in `+(H-$)+`ms\nTotal Duration: ${H-te}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Ne})))}}class Xg{constructor(e,t){this.db=e,this.garbageCollector=new gv(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}Gn(e){let t=0;return this.Un(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(o,u)=>t(u))}addReference(e,t,o){return Xh(e,o)}removeReference(e,t,o){return Xh(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Xh(e,t)}jn(e,t){return function(o,u){let f=!1;return dl(o).tt(v=>Yg(o,v,u).next(C=>(C&&(f=!0),mt.resolve(!C)))).next(()=>f)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Qn(e,(v,C)=>{if(C<=t){const $=this.jn(e,v).next(H=>{if(!H)return f++,o.getEntry(e,v).next(()=>(o.removeEntry(v,Nn.min()),Fl(e).delete([0,ls(v.path)])))});u.push($)}}).next(()=>mt.waitFor(u)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Xh(e,t)}Qn(e,t){const o=Fl(e);let u,f=No.at;return o.X({index:"documentTargetsIndex"},([v,C],{path:$,sequenceNumber:H})=>{0===v?(f!==No.at&&t(new Qt(cl(u)),f),f=H,u=$):f=No.at}).next(()=>{f!==No.at&&t(new Qt(cl(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xh(i,e){return Fl(i).put((o=i.currentSequenceNumber,{targetId:0,path:ls(e.path),sequenceNumber:o}));var o}class Qg{constructor(){this.changes=new Vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Si.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?mt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ga{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Ju(e).put(o)}removeEntry(e,t,o){return Ju(e).delete(function(u,f){const v=u.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Hh(f),v[v.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.zn(e,o)))}getEntry(e,t){let o=Si.newInvalidDocument(t);return Ju(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hd(t))},(u,f)=>{o=this.Wn(t,f)}).next(()=>o)}Hn(e,t){let o={size:0,document:Si.newInvalidDocument(t)};return Ju(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hd(t))},(u,f)=>{o={document:this.Wn(t,f),size:qh(f)}}).next(()=>o)}getEntries(e,t){let o=ys();return this.Jn(e,t,(u,f)=>{const v=this.Wn(u,f);o=o.insert(u,v)}).next(()=>o)}Yn(e,t){let o=ys(),u=new Hi(Qt.comparator);return this.Jn(e,t,(f,v)=>{const C=this.Wn(f,v);o=o.insert(f,C),u=u.insert(f,qh(v))}).next(()=>({documents:o,Zn:u}))}Jn(e,t,o){if(t.isEmpty())return mt.resolve();let u=new di(ap);t.forEach($=>u=u.add($));const f=IDBKeyRange.bound(Hd(u.first()),Hd(u.last())),v=u.getIterator();let C=v.getNext();return Ju(e).X({index:"documentKeyIndex",range:f},($,H,te)=>{const Ne=Qt.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;C&&ap(C,Ne)<0;)o(C,null),C=v.getNext();C&&C.isEqual(Ne)&&(o(C,H),C=v.hasNext()?v.getNext():null),C?te.j(Hd(C)):te.done()}).next(()=>{for(;C;)o(C,null),C=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(e,t,o,u){const f=t.path,v=[f.popLast().toArray(),f.lastSegment(),Hh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],C=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ju(e).W(IDBKeyRange.bound(v,C,!0)).next($=>{let H=ys();for(const te of $){const Ne=this.Wn(Qt.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);Ne.isFoundDocument()&&(Nu(t,Ne)||u.has(Ne.key))&&(H=H.insert(Ne.key,Ne))}return H})}getAllFromCollectionGroup(e,t,o,u){let f=ys();const v=nm(t,o),C=nm(t,co.max());return Ju(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,C,!0)},($,H,te)=>{const Ne=this.Wn(Qt.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);f=f.insert(Ne.key,Ne),f.size===u&&te.done()}).next(()=>f)}newChangeBuffer(e){return new em(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return tm(e).get("remoteDocumentGlobalKey").next(t=>(tn(!!t),t))}zn(e,t){return tm(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const o=function a0(i,e){let t;if(e.document)t=it(i.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Qt.fromSegments(e.noDocument.path),u=cu(e.noDocument.readTime);t=Si.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Bt();{const o=Qt.fromSegments(e.unknownDocument.path),u=cu(e.unknownDocument.version);t=Si.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new Yr(o[0],o[1]);return Nn.fromTimestamp(u)}(e.readTime)),t}(this.Tt,t);if(!o.isNoDocument()||!o.version.isEqual(Nn.min()))return o}return Si.newInvalidDocument(e)}}function Jg(i){return new Ga(i)}class em extends Qg{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new Vs(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new di((f,v)=>Wn(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const C=this.ts.get(f);if(t.push(this.Xn.removeEntry(e,f,C.readTime)),v.isValidDocument()){const $=jh(this.Xn.Tt,v);u=u.add(f.path.popLast());const H=qh($);o+=H-C.size,t.push(this.Xn.addEntry(e,f,$))}else if(o-=C.size,this.trackRemovals){const $=jh(this.Xn.Tt,v.convertToNoDocument(Nn.min()));t.push(this.Xn.addEntry(e,f,$))}}),u.forEach(f=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,f))}),t.push(this.Xn.updateMetadata(e,o)),mt.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(o=>(this.ts.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:o,Zn:u})=>(u.forEach((f,v)=>{this.ts.set(f,{size:v,readTime:o.get(f).readTime})}),o))}}function tm(i){return qo(i,"remoteDocumentGlobal")}function Ju(i){return qo(i,"remoteDocumentsV14")}function Hd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nm(i,e){const t=e.documentKey.path.toArray();return[i,Hh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ap(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let f=0;f<t.length-2&&f<o.length-2;++f)if(u=Wn(t[f],o[f]),u)return u;return u=Wn(t.length,o.length),u||(u=Wn(t[t.length-2],o[o.length-2]),u||Wn(t[t.length-1],o[o.length-1]))}class mv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rm{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==o&&Lu(o.mutation,u,$i.empty(),Yr.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Ir()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Ir()){const u=Bo();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(f=>{let v=xl();return f.forEach((C,$)=>{v=v.insert(C,$.overlayedDocument)}),v}))}getOverlayedDocuments(e,t){const o=Bo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Ir()))}populateOverlays(e,t,o){const u=[];return o.forEach(f=>{t.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((v,C)=>{t.set(v,C)})})}computeViews(e,t,o,u){let f=ys();const v=au(),C=au();return t.forEach(($,H)=>{const te=o.get(H.key);u.has(H.key)&&(void 0===te||te.mutation instanceof Ta)?f=f.insert(H.key,H):void 0!==te?(v.set(H.key,te.mutation.getFieldMask()),Lu(te.mutation,H,te.mutation.getFieldMask(),Yr.now())):v.set(H.key,$i.empty())}),this.recalculateAndSaveOverlays(e,f).next($=>($.forEach((H,te)=>v.set(H,te)),t.forEach((H,te)=>{var Ne;return C.set(H,new mv(te,null!==(Ne=v.get(H))&&void 0!==Ne?Ne:null))}),C))}recalculateAndSaveOverlays(e,t){const o=au();let u=new Hi((v,C)=>v-C),f=Ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(v=>{for(const C of v)C.keys().forEach($=>{const H=t.get($);if(null===H)return;let te=o.get($)||$i.empty();te=C.applyToLocalView(H,te),o.set($,te);const Ne=(u.get(C.batchId)||Ir()).add($);u=u.insert(C.batchId,Ne)})}).next(()=>{const v=[],C=u.getReverseIterator();for(;C.hasNext();){const $=C.getNext(),H=$.key,te=$.value,Ne=Md();te.forEach(ut=>{if(!f.has(ut)){const Pt=xc(t.get(ut),o.get(ut));null!==Pt&&Ne.set(ut,Pt),f=f.add(ut)}}),v.push(this.documentOverlayCache.saveOverlays(e,H,Ne))}return mt.waitFor(v)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Qt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Cc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(f=>{const v=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-f.size):mt.resolve(Bo());let C=-1,$=f;return v.next(H=>mt.forEach(H,(te,Ne)=>(C<Ne.largestBatchId&&(C=Ne.largestBatchId),f.get(te)?mt.resolve():this.remoteDocumentCache.getEntry(e,te).next(ut=>{$=$.insert(te,ut)}))).next(()=>this.populateOverlays(e,H,f)).next(()=>this.computeViews(e,$,H,Ir())).next(te=>({batchId:C,changes:as(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qt(t)).next(o=>{let u=xl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let f=xl();return this.indexManager.getCollectionParents(e,u).next(v=>mt.forEach(v,C=>{const $=(H=t,te=C.child(u),new Gi(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,$,o).next(H=>{H.forEach((te,Ne)=>{f=f.insert(te,Ne)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,u))).next(f=>{u.forEach((C,$)=>{const H=$.getKey();null===f.get(H)&&(f=f.insert(H,Si.newInvalidDocument(H)))});let v=xl();return f.forEach((C,$)=>{const H=u.get(C);void 0!==H&&Lu(H.mutation,$,$i.empty(),Yr.now()),Nu(t,$)&&(v=v.insert(C,$))}),v})}}class yv{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return mt.resolve(this.es.get(t))}saveBundleMetadata(e,t){var o;return this.es.set(t.id,{id:(o=t).id,version:o.version,createTime:io(o.createTime)}),mt.resolve()}getNamedQuery(e,t){return mt.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(o=t).name,query:$d(o.bundledQuery),readTime:io(o.readTime)}),mt.resolve();var o}}class Dr{constructor(){this.overlays=new Hi(Qt.comparator),this.ss=new Map}getOverlay(e,t){return mt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Bo();return mt.forEach(t,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,f)=>{this.ce(e,t,f)}),mt.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.ss.get(o);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.ss.delete(o)),mt.resolve()}getOverlaysForCollection(e,t,o){const u=Bo(),f=t.length+1,v=new Qt(t.child("")),C=this.overlays.getIteratorFrom(v);for(;C.hasNext();){const $=C.getNext().value,H=$.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===f&&$.largestBatchId>o&&u.set($.getKey(),$)}return mt.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let f=new Hi((H,te)=>H-te);const v=this.overlays.getIterator();for(;v.hasNext();){const H=v.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>o){let te=f.get(H.largestBatchId);null===te&&(te=Bo(),f=f.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const C=Bo(),$=f.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((H,te)=>C.set(H,te)),!(C.size()>=u)););return mt.resolve(C)}ce(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const v=this.ss.get(u.largestBatchId).delete(o.key);this.ss.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new Vh(t,o));let f=this.ss.get(t);void 0===f&&(f=Ir(),this.ss.set(t,f)),this.ss.set(t,f.add(o.key))}}class Qh{constructor(){this.rs=new di(Zo.os),this.us=new di(Zo.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const o=new Zo(e,t);this.rs=this.rs.add(o),this.us=this.us.add(o)}hs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ls(new Zo(e,t))}fs(e,t){e.forEach(o=>this.removeReference(o,t))}ds(e){const t=new Qt(new yr([])),o=new Zo(t,e),u=new Zo(t,e+1),f=[];return this.us.forEachInRange([o,u],v=>{this.ls(v),f.push(v.key)}),f}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new Qt(new yr([])),o=new Zo(t,e),u=new Zo(t,e+1);let f=Ir();return this.us.forEachInRange([o,u],v=>{f=f.add(v.key)}),f}containsKey(e){const t=new Zo(e,0),o=this.rs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Zo{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return Qt.comparator(e.key,t.key)||Wn(e.gs,t.gs)}static cs(e,t){return Wn(e.gs,t.gs)||Qt.comparator(e.key,t.key)}}class im{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new di(Zo.os)}checkEmpty(e){return mt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const f=this.ys;this.ys++;const v=new $g(f,t,o,u);this.mutationQueue.push(v);for(const C of u)this.ps=this.ps.add(new Zo(C.key,f)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return mt.resolve(v)}lookupMutationBatch(e,t){return mt.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.Ts(t+1),f=u<0?0:u;return mt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Zo(t,0),u=new Zo(t,Number.POSITIVE_INFINITY),f=[];return this.ps.forEachInRange([o,u],v=>{const C=this.Is(v.gs);f.push(C)}),mt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new di(Wn);return t.forEach(u=>{const f=new Zo(u,0),v=new Zo(u,Number.POSITIVE_INFINITY);this.ps.forEachInRange([f,v],C=>{o=o.add(C.gs)})}),mt.resolve(this.Es(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let f=o;Qt.isDocumentKey(f)||(f=f.child(""));const v=new Zo(new Qt(f),0);let C=new di(Wn);return this.ps.forEachWhile($=>{const H=$.key.path;return!!o.isPrefixOf(H)&&(H.length===u&&(C=C.add($.gs)),!0)},v),mt.resolve(this.Es(C))}Es(e){const t=[];return e.forEach(o=>{const u=this.Is(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){tn(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let o=this.ps;return mt.forEach(t.mutations,u=>{const f=new Zo(u.key,t.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ps=o})}bn(e){}containsKey(e,t){const o=new Zo(t,0),u=this.ps.firstAfterOrEqual(o);return mt.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return mt.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vv{constructor(e){this.Rs=e,this.docs=new Hi(Qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),f=u?u.size:0,v=this.Rs(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:v}),this.size+=v-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return mt.resolve(o?o.document.mutableCopy():Si.newInvalidDocument(t))}getEntries(e,t){let o=ys();return t.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():Si.newInvalidDocument(u))}),mt.resolve(o)}getDocumentsMatchingQuery(e,t,o,u){let f=ys();const v=t.path,C=new Qt(v.child("")),$=this.docs.getIteratorFrom(C);for(;$.hasNext();){const{key:H,value:{document:te}}=$.getNext();if(!v.isPrefixOf(H.path))break;H.path.length>v.length+1||As(ql(te),o)<=0||(u.has(te.key)||Nu(t,te))&&(f=f.insert(te.key,te.mutableCopy()))}return mt.resolve(f)}getAllFromCollectionGroup(e,t,o,u){Bt()}bs(e,t){return mt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new _v(this)}getSize(e){return mt.resolve(this.size)}}class _v extends Qg{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Xn.addEntry(e,u)):this.Xn.removeEntry(o)}),mt.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class om{constructor(e){this.persistence=e,this.vs=new Vs(t=>wl(t),Cl),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new Qh,this.targetCount=0,this.Ss=Qu.Vn()}forEachTarget(e,t){return this.vs.forEach((o,u)=>t(u)),mt.resolve()}getLastRemoteSnapshotVersion(e){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mt.resolve(this.Ps)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ps&&(this.Ps=t),mt.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new Qu(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,mt.resolve()}updateTargetData(e,t){return this.xn(t),mt.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,mt.resolve()}removeTargets(e,t,o){let u=0;const f=[];return this.vs.forEach((v,C)=>{C.sequenceNumber<=t&&null===o.get(C.targetId)&&(this.vs.delete(v),f.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),mt.waitFor(f).next(()=>u)}getTargetCount(e){return mt.resolve(this.targetCount)}getTargetData(e,t){const o=this.vs.get(t)||null;return mt.resolve(o)}addMatchingKeys(e,t,o){return this.Vs.hs(t,o),mt.resolve()}removeMatchingKeys(e,t,o){this.Vs.fs(t,o);const u=this.persistence.referenceDelegate,f=[];return u&&t.forEach(v=>{f.push(u.markPotentiallyOrphaned(e,v))}),mt.waitFor(f)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),mt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Vs.ws(t);return mt.resolve(o)}containsKey(e,t){return mt.resolve(this.Vs.containsKey(t))}}class sm{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new No(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new om(this),this.indexManager=new dv,this.remoteDocumentCache=new vv(o=>this.referenceDelegate.ks(o)),this.Tt=new Uh(t),this.Os=new yv(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dr,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ds[e.toKey()];return o||(o=new im(t,this.referenceDelegate),this.Ds[e.toKey()]=o),o}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(e,t,o){Tt("MemoryPersistence","Starting transaction:",e);const u=new am(this.Cs.next());return this.referenceDelegate.Ms(),o(u).next(f=>this.referenceDelegate.Fs(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}$s(e,t){return mt.or(Object.values(this.Ds).map(o=>()=>o.containsKey(e,t)))}}class am extends Ti{constructor(e){super(),this.currentSequenceNumber=e}}class Jh{constructor(e){this.persistence=e,this.Bs=new Qh,this.Ls=null}static qs(e){return new Jh(e)}get Us(){if(this.Ls)return this.Ls;throw Bt()}addReference(e,t,o){return this.Bs.addReference(o,t),this.Us.delete(o.toString()),mt.resolve()}removeReference(e,t,o){return this.Bs.removeReference(o,t),this.Us.add(o.toString()),mt.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),mt.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(u=>this.Us.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(f=>this.Us.add(f.toString()))}).next(()=>o.removeTargetData(e,t))}Ms(){this.Ls=new Set}Fs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.Us,o=>{const u=Qt.fromPath(o);return this.Ks(e,u).next(f=>{f||t.removeEntry(u,Nn.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(o=>{o?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return mt.or([()=>mt.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.$s(e,t)])}}class Ev{constructor(e){this.Tt=e}$(e,t,o,u){const f=new Dl("createOrUpgrade",t);var C;o<1&&u>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Og,{unique:!0}),C.createObjectStore("documentMutations"),Iv(e),function(C){C.createObjectStore("remoteDocuments")}(e));let v=mt.resolve();return o<3&&u>=3&&(0!==o&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),Iv(e)),v=v.next(()=>function(C){const $=C.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nn.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",H)}(f))),o<4&&u>=4&&(0!==o&&(v=v.next(()=>function(C,$){return $.store("mutations").W().next(H=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Og,{unique:!0});const te=$.store("mutations"),Ne=H.map(ut=>te.put(ut));return mt.waitFor(Ne)})}(e,f))),v=v.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(v=v.next(()=>this.Gs(f))),o<6&&u>=6&&(v=v.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(f)))),o<7&&u>=7&&(v=v.next(()=>this.js(f))),o<8&&u>=8&&(v=v.next(()=>this.zs(e,f))),o<9&&u>=9&&(v=v.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(v=v.next(()=>this.Ws(f))),o<11&&u>=11&&(v=v.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(v=v.next(()=>{!function(C){const $=C.createObjectStore("documentOverlays",{keyPath:rv});$.createIndex("collectionPathOverlayIndex",iv,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",Lg,{unique:!1})}(e)})),o<13&&u>=13&&(v=v.next(()=>function(C){const $=C.createObjectStore("remoteDocumentsV14",{keyPath:Lh});$.createIndex("documentKeyIndex",Xy),$.createIndex("collectionGroupIndex",ep)}(e)).next(()=>this.Hs(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(v=v.next(()=>this.Js(e,f))),o<15&&u>=15&&(v=v.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:kg}).createIndex("sequenceNumberIndex",Fg,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:tv}).createIndex("documentKeyIndex",nv,{unique:!1})}(e))),v}Qs(e){let t=0;return e.store("remoteDocuments").X((o,u)=>{t+=qh(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Gs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(u=>mt.forEach(u,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",v).next(C=>mt.forEach(C,$=>{tn($.userId===f.userId);const H=du(this.Tt,$);return Kg(e,f.userId,H).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return o.X((v,C)=>{const $=new yr(v),H=[0,ls($)];f.push(t.get(H).next(te=>te?mt.resolve():t.put({targetId:0,path:ls($),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>mt.waitFor(f))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:ev});const o=t.store("collectionParents"),u=new sp,f=v=>{if(u.add(v)){const C=v.lastSegment(),$=v.popLast();return o.put({collectionId:C,parent:ls($)})}};return t.store("remoteDocuments").X({Z:!0},(v,C)=>{const $=new yr(v);return f($.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([v,C,$],H)=>{const te=cl(C);return f(te.popLast())}))}Ws(e){const t=e.store("targets");return t.X((o,u)=>{const f=ja(u),v=Vg(this.Tt,f);return t.put(v)})}Hs(e,t){const o=t.store("remoteDocuments"),u=[];return o.X((f,v)=>{const C=t.store("remoteDocumentsV14"),$=(H=v,H.document?new Qt(yr.fromString(H.document.name).popFirst(5)):H.noDocument?Qt.fromSegments(H.noDocument.path):H.unknownDocument?Qt.fromSegments(H.unknownDocument.path):Bt()).path.toArray();var H;const te={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};u.push(C.put(te))}).next(()=>mt.waitFor(u))}Js(e,t){const o=t.store("mutations"),u=Jg(this.Tt),f=new sm(Jh.qs,this.Tt.oe);return o.W().next(v=>{const C=new Map;return v.forEach($=>{var H;let te=null!==(H=C.get($.userId))&&void 0!==H?H:Ir();du(this.Tt,$).keys().forEach(Ne=>te=te.add(Ne)),C.set($.userId,te)}),mt.forEach(C,($,H)=>{const te=new be(H),Ne=Bc.ue(this.Tt,te),ut=f.getIndexManager(te),Pt=Zh.ue(te,this.Tt,ut,f.referenceDelegate);return new rm(u,Pt,Ne,ut).recalculateAndSaveOverlaysForDocumentKeys(new $h(t,No.at),$).next()})})}}function Iv(i){i.createObjectStore("targetDocuments",{keyPath:$o}).createIndex("documentTargetsIndex",Jy,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qy,{unique:!0}),i.createObjectStore("targetGlobal")}const ef="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tf{constructor(e,t,o,u,f,v,C,$,H,te,Ne=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Ys=f,this.window=v,this.document=C,this.Zs=H,this.Xs=te,this.ti=Ne,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=ut=>Promise.resolve(),!tf.C())throw new Nt(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xg(this,u),this.oi=t+"main",this.Tt=new Uh($),this.ui=new Qi(this.oi,this.ti,new Ev(this.Tt)),this.Ns=new hv(this.referenceDelegate,this.Tt),this.remoteDocumentCache=Jg(this.Tt),this.Os=new zh,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===te&&zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nt(pt.FAILED_PRECONDITION,ef);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new No(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var o=(0,ee.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,ee.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,ee.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>nf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(ga(e))return Tt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return za(e).get("owner").next(t=>mt.resolve(this.yi(t)))}pi(e){return nf(e).delete(this.clientId)}Ii(){var e=this;return(0,ee.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=qo(o,"clientMetadata");return u.W().next(f=>{const v=e.Ei(f,18e5),C=f.filter($=>-1===v.indexOf($));return mt.forEach(C,$=>u.delete($.clientId)).next(()=>C)})}).catch(()=>[]);if(e.ci)for(const o of t)e.ci.removeItem(e.Ai(o.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?mt.resolve(!0):za(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new Nt(pt.FAILED_PRECONDITION,ef);return!1}}return!(!this.networkEnabled||!this.inForeground)||nf(e).W().next(o=>void 0===this.Ei(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Tt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ee.Z)(function*(){e.xs=!1,e.bi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.Pi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new $h(t,No.at);return e.mi(o).next(()=>e.pi(o))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(o=>this.Ti(o.updateTimeMs,t)&&!this.Ri(o.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>nf(e).W().next(t=>this.Ei(t,18e5).map(o=>o.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return Zh.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zg(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return Bc.ue(this.Tt,e)}getBundleCache(){return this.Os}runTransaction(e,t,o){Tt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",f=15===(v=this.ti)?Bg:14===v?Bh:13===v?Fc:12===v?s0:11===v?ov:void Bt();var v;let C;return this.ui.runTransaction(e,u,f,$=>(C=new $h($,this.Cs?this.Cs.next():No.at),"readwrite-primary"===t?this._i(C).next(H=>!!H||this.wi(C)).next(H=>{if(!H)throw zn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new Nt(pt.FAILED_PRECONDITION,Xs);return o(C)}).next(H=>this.gi(C).next(()=>H)):this.Di(C).next(()=>o(C)))).then($=>(C.raiseOnCommittedEvent(),$))}Di(e){return za(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Nt(pt.FAILED_PRECONDITION,ef)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return za(e).put("owner",t)}static C(){return Qi.C()}mi(e){const t=za(e);return t.get("owner").next(o=>this.yi(o)?(Tt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):mt.resolve())}Ti(e,t){const o=Date.now();return!(e<o-t||e>o&&(zn(`Detected an update time that is in the future: ${e} > ${o}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.bi(),(0,Ve.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}Pi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const o=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Tt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return zn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}bi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){zn("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function za(i){return qo(i,"owner")}function nf(i){return qo(i,"clientMetadata")}function Gd(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class zd{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Ci=o,this.xi=u}static Ni(e,t){let o=Ir(),u=Ir();for(const f of t.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new zd(e,t.fromCache,o,u)}}class lm{constructor(){this.ki=!1}initialize(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,o,u){return this.Mi(e,t).next(f=>f||this.Fi(e,t,u,o)).next(f=>f||this.$i(e,t))}Mi(e,t){if(Ou(t))return mt.resolve(null);let o=ms(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=Pu(t,null,"F"),o=ms(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(f=>{const v=Ir(...f);return this.Oi.getDocuments(e,v).next(C=>this.indexManager.getMinOffset(e,o).next($=>{const H=this.Bi(t,C);return this.Li(t,H,v,$.readTime)?this.Mi(e,Pu(t,null,"F")):this.qi(e,H,t,$)}))})))}Fi(e,t,o,u){return Ou(t)||u.isEqual(Nn.min())?this.$i(e,t):this.Oi.getDocuments(e,o).next(f=>{const v=this.Bi(t,f);return this.Li(t,v,o,u)?this.$i(e,t):(wn()<=je.in.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ca(t)),this.qi(e,v,t,Yl(u,-1)))})}Bi(e,t){let o=new di(tu(e));return t.forEach((u,f)=>{Nu(e,f)&&(o=o.add(f))}),o}Li(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const f="F"===e.limitType?t.last():t.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}$i(e,t){return wn()<=je.in.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",Ca(t)),this.Oi.getDocumentsMatchingQuery(e,t,co.min())}qi(e,t,o,u){return this.Oi.getDocumentsMatchingQuery(e,o,u).next(f=>(t.forEach(v=>{f=f.insert(v.key,v)}),f))}}class l0{constructor(e,t,o,u){this.persistence=e,this.Ui=t,this.Tt=u,this.Ki=new Hi(Wn),this.Gi=new Vs(f=>wl(f),Cl),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.Os=e.getBundleCache(),this.zi(o)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rm(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function Dv(i,e,t,o){return new l0(i,e,t,o)}function bv(i,e){return lp.apply(this,arguments)}function lp(){return lp=(0,ee.Z)(function*(i,e){const t=qt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(f=>(u=f,t.zi(e),t.mutationQueue.getAllMutationBatches(o))).next(f=>{const v=[],C=[];let $=Ir();for(const H of u){v.push(H.batchId);for(const te of H.mutations)$=$.add(te.key)}for(const H of f){C.push(H.batchId);for(const te of H.mutations)$=$.add(te.key)}return t.localDocuments.getDocuments(o,$).next(H=>({Wi:H,removedBatchIds:v,addedBatchIds:C}))})})}),lp.apply(this,arguments)}function wv(i){const e=qt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function ec(i,e,t){let o=Ir(),u=Ir();return t.forEach(f=>o=o.add(f)),e.getEntries(i,o).next(f=>{let v=ys();return t.forEach((C,$)=>{const H=f.get(C);$.isFoundDocument()!==H.isFoundDocument()&&(u=u.add(C)),$.isNoDocument()&&$.version.isEqual(Nn.min())?(e.removeEntry(C,$.readTime),v=v.insert(C,$)):!H.isValidDocument()||$.version.compareTo(H.version)>0||0===$.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry($),v=v.insert(C,$)):Tt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",H.version," Watch version:",$.version)}),{Hi:v,Ji:u}})}function Tv(i,e){const t=qt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function tc(i,e){const t=qt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Ns.getTargetData(o,e).next(f=>f?(u=f,mt.resolve(u)):t.Ns.allocateTargetId(o).next(v=>(u=new Pl(e,v,0,o.currentSequenceNumber),t.Ns.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ki.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(o.targetId,o),t.Gi.set(e,o.targetId)),o})}function Ll(i,e,t){return up.apply(this,arguments)}function up(){return up=(0,ee.Z)(function*(i,e,t){const o=qt(i),u=o.Ki.get(e),f=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",f,v=>o.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!ga(v))throw v;Tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.Ki=o.Ki.remove(e),o.Gi.delete(u.target)}),up.apply(this,arguments)}function Wd(i,e,t){const o=qt(i);let u=Nn.min(),f=Ir();return o.persistence.runTransaction("Execute query","readonly",v=>function(C,$,H){const te=qt(C),Ne=te.Gi.get(H);return void 0!==Ne?mt.resolve(te.Ki.get(Ne)):te.Ns.getTargetData($,H)}(o,v,ms(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,o.Ns.getMatchingKeysForTargetId(v,C.targetId).next($=>{f=$})}).next(()=>o.Ui.getDocumentsMatchingQuery(v,e,t?u:Nn.min(),t?f:Ir())).next(C=>(hm(o,Sh(e),C),{documents:C,Yi:f})))}function cm(i,e){const t=qt(i),o=qt(t.Ns),u=t.Ki.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",f=>o.ie(f,e).next(v=>v?v.target:null))}function dm(i,e){const t=qt(i),o=t.Qi.get(e)||Nn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.ji.getAllFromCollectionGroup(u,e,Yl(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(hm(t,e,u),u))}function hm(i,e,t){let o=i.Qi.get(e)||Nn.min();t.forEach((u,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),i.Qi.set(e,o)}function cp(){return cp=(0,ee.Z)(function*(i,e,t,o){const u=qt(i);let f=Ir(),v=ys();for(const H of t){const te=e.Zi(H.metadata.name);H.document&&(f=f.add(te));const Ne=e.Xi(H);Ne.setReadTime(e.tr(H.metadata.readTime)),v=v.insert(te,Ne)}const C=u.ji.newChangeBuffer({trackRemovals:!0}),$=yield tc(u,(H=o,ms(Sl(yr.fromString(`__bundle__/docs/${H}`)))));var H;return u.persistence.runTransaction("Apply bundle documents","readwrite",H=>ec(H,C,v).next(te=>(C.apply(H),te)).next(te=>u.Ns.removeMatchingKeysForTargetId(H,$.targetId).next(()=>u.Ns.addMatchingKeys(H,f,$.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(H,te.Hi,te.Ji)).next(()=>te.Hi)))}),cp.apply(this,arguments)}function fm(i,e){return dp.apply(this,arguments)}function dp(){return dp=(0,ee.Z)(function*(i,e,t=Ir()){const o=yield tc(i,ms($d(e.bundledQuery))),u=qt(i);return u.persistence.runTransaction("Save named query","readwrite",f=>{const v=io(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return u.Os.saveNamedQuery(f,e);const C=o.withResumeToken(eo.EMPTY_BYTE_STRING,v);return u.Ki=u.Ki.insert(C.targetId,C),u.Ns.updateTargetData(f,C).next(()=>u.Ns.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>u.Ns.addMatchingKeys(f,t,o.targetId)).next(()=>u.Os.saveNamedQuery(f,e))})}),dp.apply(this,arguments)}function hp(i,e){return`firestore_clients_${i}_${e}`}function fp(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Kd(i,e){return`firestore_targets_${i}_${e}`}class pp{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static er(e,t,o){const u=JSON.parse(o);let f,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(f=new Nt(u.error.code,u.error.message))),v?new pp(e,t,u.state,f):(zn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nc{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static er(e,t){const o=JSON.parse(t);let u,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new Nt(o.error.code,o.error.message))),f?new nc(e,o.state,u):(zn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,f=Uu();for(let v=0;u&&v<o.activeTargetIds.length;++v)u=el(o.activeTargetIds[v]),f=f.add(o.activeTargetIds[v]);return u?new rf(e,f):(zn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class pm{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new pm(t.clientId,t.onlineState):(zn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class pu{constructor(){this.activeTargetIds=Uu()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sf{constructor(e,t,o,u,f){this.window=e,this.Ys=t,this.persistenceKey=o,this.rr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new Hi(Wn),this.started=!1,this.hr=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.lr=hp(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new pu),this._r=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ee.Z)(function*(){const t=yield e.syncEngine.Si();for(const u of t){if(u===e.rr)continue;const f=e.getItem(hp(e.persistenceKey,u));if(f){const v=rf.er(u,f);v&&(e.ar=e.ar.insert(v.clientId,v))}}e.pr();const o=e.storage.getItem(e.gr);if(o){const u=e.Ir(o);u&&e.Tr(u)}for(const u of e.hr)e.cr(u);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,o){this.Ar(e,t,o),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Kd(this.persistenceKey,e));if(o){const u=nc.er(e,o);u&&(t=u.state)}}return this.br.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.br.ir(e),this.pr()}isLocalQueryTarget(e){return this.br.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Kd(this.persistenceKey,e))}updateQueryState(e,t,o){this.vr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Rr(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Tt("SharedClientState","READ",e,t),t}setItem(e,t){Tt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Tt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.lr)return void zn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,ee.Z)(function*(){if(t.started){if(null!==o.key)if(t._r.test(o.key)){if(null==o.newValue){const u=t.Sr(o.key);return t.Dr(u,null)}{const u=t.Cr(o.key,o.newValue);if(u)return t.Dr(u.clientId,u)}}else if(t.wr.test(o.key)){if(null!==o.newValue){const u=t.Nr(o.key,o.newValue);if(u)return t.kr(u)}}else if(t.mr.test(o.key)){if(null!==o.newValue){const u=t.Or(o.key,o.newValue);if(u)return t.Mr(u)}}else if(o.key===t.gr){if(null!==o.newValue){const u=t.Ir(o.newValue);if(u)return t.Tr(u)}}else if(o.key===t.dr){const u=function(f){let v=No.at;if(null!=f)try{const C=JSON.parse(f);tn("number"==typeof C),v=C}catch(C){zn("SharedClientState","Failed to read sequence number from WebStorage",C)}return v}(o.newValue);u!==No.at&&t.sequenceNumberHandler(u)}else if(o.key===t.yr){const u=t.Fr(o.newValue);yield Promise.all(u.map(f=>t.syncEngine.$r(f)))}}else t.hr.push(o)}))}}get br(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.br.nr())}Ar(e,t,o){const u=new pp(this.currentUser,e,t,o),f=fp(this.persistenceKey,this.currentUser,e);this.setItem(f,u.nr())}Rr(e){const t=fp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,o){const u=Kd(this.persistenceKey,e),f=new nc(e,t,o);this.setItem(u,f.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const o=this.Sr(e);return rf.er(o,t)}Nr(e,t){const o=this.wr.exec(e),u=Number(o[1]);return pp.er(new be(void 0!==o[2]?o[2]:null),u,t)}Or(e,t){const o=this.mr.exec(e),u=Number(o[1]);return nc.er(u,t)}Ir(e){return pm.er(e)}Fr(e){return JSON.parse(e)}kr(e){var t=this;return(0,ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);Tt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const o=t?this.ar.insert(e,t):this.ar.remove(e),u=this.Er(this.ar),f=this.Er(o),v=[],C=[];return f.forEach($=>{u.has($)||v.push($)}),u.forEach($=>{f.has($)||C.push($)}),this.syncEngine.qr(v,C).then(()=>{this.ar=o})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=Uu();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class gm{constructor(){this.Ur=new pu,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,o){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new pu,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mm{Gr(e){}shutdown(){}}class ym{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Av={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class af{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}class Vc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,o,u,f){const v=this.fo(e,t);Tt("RestConnection","Sending: ",v,o);const C={};return this._o(C,u,f),this.wo(e,v,C,o).then($=>(Tt("RestConnection","Received: ",$),$),$=>{throw Xn("RestConnection",`${e} failed with error: `,$,"url: ",v,"request:",o),$})}mo(e,t,o,u,f,v){return this.lo(e,t,o,u,f)}_o(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ct,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,f)=>e[f]=u),o&&o.headers.forEach((u,f)=>e[f]=u)}fo(e,t){return`${this.co}/v1/${t}:${Av[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,o,u){return new Promise((f,v)=>{const C=new N;C.setWithCredentials(!0),C.listenOnce(ua.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case qs.NO_ERROR:const H=C.getResponseJson();Tt("Connection","XHR received:",JSON.stringify(H)),f(H);break;case qs.TIMEOUT:Tt("Connection",'RPC "'+e+'" timed out'),v(new Nt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case qs.HTTP_ERROR:const te=C.getStatus();if(Tt("Connection",'RPC "'+e+'" failed with status:',te,"response text:",C.getResponseText()),te>0){let Ne=C.getResponseJson();Array.isArray(Ne)&&(Ne=Ne[0]);const ut=Ne?.error;if(ut&&ut.status&&ut.message){const Pt=function($t){const _n=$t.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(_n)>=0?_n:pt.UNKNOWN}(ut.status);v(new Nt(Pt,ut.message))}else v(new Nt(pt.UNKNOWN,"Server responded with status "+C.getStatus()))}else v(new Nt(pt.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{Tt("Connection",'RPC "'+e+'" completed.')}});const $=JSON.stringify(u);C.send(t,"POST",$,o,15)})}yo(e,t,o){const u=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=_l(),v=ka(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new M({})),this._o(C.initMessageHeaders,t,o),C.encodeInitMessageHeaders=!0;const $=u.join("");Tt("Connection","Creating WebChannel: "+$,C);const H=f.createWebChannel($,C);let te=!1,Ne=!1;const ut=new af({Yr:$t=>{Ne?Tt("Connection","Not sending because WebChannel is closed:",$t):(te||(Tt("Connection","Opening WebChannel transport."),H.open(),te=!0),Tt("Connection","WebChannel sending:",$t),H.send($t))},Zr:()=>H.close()}),Pt=($t,_n,Bn)=>{$t.listen(_n,Ii=>{try{Bn(Ii)}catch(Vi){setTimeout(()=>{throw Vi},0)}})};return Pt(H,V.EventType.OPEN,()=>{Ne||Tt("Connection","WebChannel transport opened.")}),Pt(H,V.EventType.CLOSE,()=>{Ne||(Ne=!0,Tt("Connection","WebChannel transport closed"),ut.oo())}),Pt(H,V.EventType.ERROR,$t=>{Ne||(Ne=!0,Xn("Connection","WebChannel transport errored:",$t),ut.oo(new Nt(pt.UNAVAILABLE,"The operation could not be completed")))}),Pt(H,V.EventType.MESSAGE,$t=>{var _n;if(!Ne){const Bn=$t.data[0];tn(!!Bn);const Vi=Bn.error||(null===(_n=Bn[0])||void 0===_n?void 0:_n.error);if(Vi){Tt("Connection","WebChannel received error:",Vi);const zr=Vi.status;let oo=function(oi){const Uo=ro[oi];if(void 0!==Uo)return $u(Uo)}(zr),Zr=Vi.message;void 0===oo&&(oo=pt.INTERNAL,Zr="Unknown error status: "+zr+" with message "+Vi.message),Ne=!0,ut.oo(new Nt(oo,Zr)),H.close()}else Tt("Connection","WebChannel received:",Bn),ut.uo(Bn)}}),Pt(v,Zs.STAT_EVENT,$t=>{$t.stat===Za.PROXY?Tt("Connection","Detected buffering proxy"):$t.stat===Za.NOPROXY&&Tt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ut.ro()},0),ut}}function lf(){return typeof window<"u"?window:null}function gu(){return typeof document<"u"?document:null}function rc(i){return new Pd(i,!0)}class Uc{constructor(e,t,o=1e3,u=1.5,f=6e4){this.Ys=e,this.timerId=t,this.po=o,this.Io=u,this.To=f,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.Po()),o=Math.max(0,Date.now()-this.Ro),u=Math.max(0,t-o);u>0&&Tt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,u,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}class gp{constructor(e,t,o,u,f,v,C,$){this.Ys=e,this.So=o,this.Do=u,this.connection=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=C,this.listener=$,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Uc(e,t)}Oo(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Fo()}stop(){var e=this;return(0,ee.Z)(function*(){e.Oo()&&(yield e.close(0))})()}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,ee.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var o=this;return(0,ee.Z)(function*(){o.Uo(),o.Ko(),o.ko.cancel(),o.Co++,4!==e?o.ko.reset():t&&t.code===pt.RESOURCE_EXHAUSTED?(zn(t.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),o.ko.bo()):t&&t.code===pt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Go(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Co===t&&this.jo(o,u)},o=>{e(()=>{const u=new Nt(pt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.zo(u)})})}jo(e,t){const o=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{o(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(u=>{o(()=>this.zo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Fo(){var e=this;this.state=5,this.ko.vo((0,ee.Z)(function*(){e.state=0,e.start()}))}zo(e){return Tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(Tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mp extends gp{constructor(e,t,o,u,f,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,v),this.Tt=f}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function an(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:Bt(),u=e.targetChange.targetIds||[],f=function($,H){return $.yt?(tn(void 0===H||"string"==typeof H),eo.fromBase64String(H||"")):(tn(void 0===H||H instanceof Uint8Array),eo.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,C=v&&function($){const H=void 0===$.code?pt.UNKNOWN:$u($.code);return new Nt(H,$.message||"")}(v);t=new Oh(o,u,f,C||null)}else if("documentChange"in e){const o=e.documentChange,u=E(i,o.document.name),f=io(o.document.updateTime),v=o.document.createTime?io(o.document.createTime):Nn.min(),C=new Lo({mapValue:{fields:o.document.fields}}),$=Si.newFoundDocument(u,f,v,C);t=new Ua(o.targetIds||[],o.removedTargetIds||[],$.key,$)}else if("documentDelete"in e){const o=e.documentDelete,u=E(i,o.document),f=o.readTime?io(o.readTime):Nn.min(),v=Si.newNoDocument(u,f);t=new Ua([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,u=E(i,o.document);t=new Ua([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Bt();{const o=e.filter,f=new xh(o.count||0);t=new Rh(o.targetId,f)}}var $;return t}(this.Tt,e),o=function(u){if(!("targetChange"in u))return Nn.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Nn.min():f.readTime?io(f.readTime):Nn.min()}(e);return this.listener.Ho(t,o)}Jo(e){const t={};t.database=b(this.Tt),t.addTarget=function(u,f){let v;const C=f.target;return v=wc(C)?{documents:ho(u,C)}:{query:Us(u,C)},v.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?v.resumeToken=Nd(u,f.resumeToken):f.snapshotVersion.compareTo(Nn.min())>0&&(v.readTime=al(u,f.snapshotVersion.toTimestamp())),v}(this.Tt,e);const o=function Aa(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.qo(t)}Yo(e){const t={};t.database=b(this.Tt),t.removeTarget=e,this.qo(t)}}class yp extends gp{constructor(e,t,o,u,f,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,v),this.Tt=f,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function Kn(i,e){return i&&i.length>0?(tn(void 0!==e),i.map(t=>function(o,u){let f=io(o.updateTime?o.updateTime:u);return f.isEqual(Nn.min())&&(f=io(u)),new wd(f,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=io(e.commitTime);return this.listener.eu(o,t)}return tn(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=b(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>vn(this.Tt,o))};this.qo(t)}}class vp extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.Tt=u,this.iu=!1}ru(){if(this.iu)throw new Nt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,o){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.lo(e,t,o,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Nt(pt.UNKNOWN,u.toString())})}mo(e,t,o,u){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,v])=>this.connection.mo(e,t,o,f,v,u)).catch(f=>{throw"FirebaseError"===f.name?(f.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Nt(pt.UNKNOWN,f.toString())})}terminate(){this.iu=!0}}class Mv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(zn(t),this.cu=!1):Tt("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class xv{constructor(e,t,o,u,f){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=f,this.yu.Gr(C=>{o.enqueueAndForget((0,ee.Z)(function*(){var $;Wa(v)&&(Tt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,ee.Z)(function*(H){const te=qt(H);te.mu.add(4),yield ic(te),te.pu.set("Unknown"),te.mu.delete(4),yield jc(te)}),function(H){return $.apply(this,arguments)})(v))}))}),this.pu=new Mv(o,u)}}function jc(i){return _p.apply(this,arguments)}function _p(){return _p=(0,ee.Z)(function*(i){if(Wa(i))for(const e of i.gu)yield e(!0)}),_p.apply(this,arguments)}function ic(i){return uf.apply(this,arguments)}function uf(){return uf=(0,ee.Z)(function*(i){for(const e of i.gu)yield e(!1)}),uf.apply(this,arguments)}function cf(i,e){const t=qt(i);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),_m(t)?Ip(t):mu(t).Mo()&&js(t,e))}function qd(i,e){const t=qt(i),o=mu(t);t.wu.delete(e),o.Mo()&&Ep(t,e),0===t.wu.size&&(o.Mo()?o.Bo():Wa(t)&&t.pu.set("Unknown"))}function js(i,e){i.Iu.Ft(e.targetId),mu(i).Jo(e)}function Ep(i,e){i.Iu.Ft(e),mu(i).Yo(e)}function Ip(i){i.Iu=new Rs({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>i.wu.get(e)||null}),mu(i).start(),i.pu.au()}function _m(i){return Wa(i)&&!mu(i).Oo()&&i.wu.size>0}function Wa(i){return 0===qt(i).mu.size}function Dp(i){i.Iu=void 0}function Rv(i){return bp.apply(this,arguments)}function bp(){return bp=(0,ee.Z)(function*(i){i.wu.forEach((e,t)=>{js(i,e)})}),bp.apply(this,arguments)}function Ov(i,e){return df.apply(this,arguments)}function df(){return df=(0,ee.Z)(function*(i,e){Dp(i),_m(i)?(i.pu.fu(e),Ip(i)):i.pu.set("Unknown")}),df.apply(this,arguments)}function Pv(i,e,t){return wp.apply(this,arguments)}function wp(){return wp=(0,ee.Z)(function*(i,e,t){if(i.pu.set("Online"),e instanceof Oh&&2===e.state&&e.cause)try{yield(o=(0,ee.Z)(function*(u,f){const v=f.cause;for(const C of f.targetIds)u.wu.has(C)&&(yield u.remoteSyncer.rejectListen(C,v),u.wu.delete(C),u.Iu.removeTarget(C))}),function(u,f){return o.apply(this,arguments)})(i,e)}catch(o){Tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Hc(i,o)}else if(e instanceof Ua?i.Iu.Qt(e):e instanceof Rh?i.Iu.Zt(e):i.Iu.Wt(e),!t.isEqual(Nn.min()))try{const o=yield wv(i.localStore);t.compareTo(o)>=0&&(yield function(u,f){const v=u.Iu.ee(f);return v.targetChanges.forEach((C,$)=>{if(C.resumeToken.approximateByteSize()>0){const H=u.wu.get($);H&&u.wu.set($,H.withResumeToken(C.resumeToken,f))}}),v.targetMismatches.forEach(C=>{const $=u.wu.get(C);if(!$)return;u.wu.set(C,$.withResumeToken(eo.EMPTY_BYTE_STRING,$.snapshotVersion)),Ep(u,C);const H=new Pl($.target,C,1,$.sequenceNumber);js(u,H)}),u.remoteSyncer.applyRemoteEvent(v)}(i,t))}catch(o){Tt("RemoteStore","Failed to raise snapshot:",o),yield Hc(i,o)}var o}),wp.apply(this,arguments)}function Hc(i,e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,ee.Z)(function*(i,e,t){if(!ga(e))throw e;i.mu.add(1),yield ic(i),i.pu.set("Offline"),t||(t=()=>wv(i.localStore)),i.asyncQueue.enqueueRetryable((0,ee.Z)(function*(){Tt("RemoteStore","Retrying IndexedDB access"),yield t(),i.mu.delete(1),yield jc(i)}))}),Cp.apply(this,arguments)}function Em(i,e){return e().catch(t=>Hc(i,t,e))}function Gc(i){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,ee.Z)(function*(i){const e=qt(i),t=oc(e);let o=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;Nv(e);)try{const u=yield Tv(e.localStore,o);if(null===u){0===e._u.length&&t.Bo();break}o=u.batchId,hl(e,u)}catch(u){yield Hc(e,u)}hf(e)&&Im(e)}),Tp.apply(this,arguments)}function Nv(i){return Wa(i)&&i._u.length<10}function hl(i,e){i._u.push(e);const t=oc(i);t.Mo()&&t.Xo&&t.tu(e.mutations)}function hf(i){return Wa(i)&&!oc(i).Oo()&&i._u.length>0}function Im(i){oc(i).start()}function kv(i){return ff.apply(this,arguments)}function ff(){return ff=(0,ee.Z)(function*(i){oc(i).su()}),ff.apply(this,arguments)}function Fv(i){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,ee.Z)(function*(i){const e=oc(i);for(const t of i._u)e.tu(t.mutations)}),Sp.apply(this,arguments)}function Lv(i,e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,ee.Z)(function*(i,e,t){const o=i._u.shift(),u=tp.from(o,e,t);yield Em(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Gc(i)}),Zd.apply(this,arguments)}function Bv(i,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,ee.Z)(function*(i,e){var t;e&&oc(i).Xo&&(yield(t=(0,ee.Z)(function*(o,u){if(Bu(f=u.code)&&f!==pt.ABORTED){const v=o._u.shift();oc(o).$o(),yield Em(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,u)),yield Gc(o)}var f}),function(o,u){return t.apply(this,arguments)})(i,e)),hf(i)&&Im(i)}),Ap.apply(this,arguments)}function Xd(i,e){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,ee.Z)(function*(i,e){const t=qt(i);t.asyncQueue.verifyOperationInProgress(),Tt("RemoteStore","RemoteStore received new credentials");const o=Wa(t);t.mu.add(3),yield ic(t),o&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield jc(t)}),Qd.apply(this,arguments)}function zc(i,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,ee.Z)(function*(i,e){const t=qt(i);e?(t.mu.delete(2),yield jc(t)):e||(t.mu.add(2),yield ic(t),t.pu.set("Unknown"))}),Dm.apply(this,arguments)}function mu(i){return i.Tu||(i.Tu=function(e,t,o){const u=qt(e);return u.ru(),new mp(t,u.connection,u.authCredentials,u.appCheckCredentials,u.Tt,o)}(i.datastore,i.asyncQueue,{Xr:Rv.bind(null,i),no:Ov.bind(null,i),Ho:Pv.bind(null,i)}),i.gu.push(function(){var e=(0,ee.Z)(function*(t){t?(i.Tu.$o(),_m(i)?Ip(i):i.pu.set("Unknown")):(yield i.Tu.stop(),Dp(i))});return function(t){return e.apply(this,arguments)}}())),i.Tu}function oc(i){return i.Eu||(i.Eu=function(e,t,o){const u=qt(e);return u.ru(),new yp(t,u.connection,u.authCredentials,u.appCheckCredentials,u.Tt,o)}(i.datastore,i.asyncQueue,{Xr:kv.bind(null,i),no:Bv.bind(null,i),nu:Fv.bind(null,i),eu:Lv.bind(null,i)}),i.gu.push(function(){var e=(0,ee.Z)(function*(t){t?(i.Eu.$o(),yield Gc(i)):(yield i.Eu.stop(),i._u.length>0&&(Tt("RemoteStore",`Stopping write stream with ${i._u.length} pending writes`),i._u=[]))});return function(t){return e.apply(this,arguments)}}())),i.Eu}class pf{constructor(e,t,o,u,f){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,o,u,f){const v=Date.now()+o,C=new pf(e,t,v,u,f);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nt(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sc(i,e){if(zn("AsyncQueue",`${e}: ${i}`),ga(i))return new Nt(pt.UNAVAILABLE,`${e}: ${i}`);throw i}class ac{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Qt.comparator(t.key,o.key):(t,o)=>Qt.comparator(t.key,o.key),this.keyedMap=xl(),this.sortedSet=new Hi(this.comparator)}static emptySet(e){return new ac(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ac)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new ac;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Mp{constructor(){this.Au=new Hi(Qt.comparator)}track(e){const t=e.doc.key,o=this.Au.get(t);o?0!==e.type&&3===o.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==o.type?this.Au=this.Au.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Au=this.Au.remove(t):1===e.type&&2===o.type?this.Au=this.Au.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):Bt():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,o)=>{e.push(o)}),e}}class yu{constructor(e,t,o,u,f,v,C,$,H){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=C,this.excludesMetadataChanges=$,this.hasCachedResults=H}static fromInitialDocuments(e,t,o,u,f){const v=[];return t.forEach(C=>{v.push({type:0,doc:C})}),new yu(e,t,ac.emptySet(t),v,o,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class Bl{constructor(){this.bu=void 0,this.listeners=[]}}class gf{constructor(){this.queries=new Vs(e=>Zf(e),eu),this.onlineState="Unknown",this.vu=new Set}}function Wc(i,e){return lc.apply(this,arguments)}function lc(){return lc=(0,ee.Z)(function*(i,e){const t=qt(i),o=e.query;let u=!1,f=t.queries.get(o);if(f||(u=!0,f=new Bl),u)try{f.bu=yield t.onListen(o)}catch(v){const C=sc(v,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(C)}t.queries.set(o,f),f.listeners.push(e),e.Pu(t.onlineState),f.bu&&e.Vu(f.bu)&&Rp(t)}),lc.apply(this,arguments)}function xp(i,e){return mf.apply(this,arguments)}function mf(){return mf=(0,ee.Z)(function*(i,e){const t=qt(i),o=e.query;let u=!1;const f=t.queries.get(o);if(f){const v=f.listeners.indexOf(e);v>=0&&(f.listeners.splice(v,1),u=0===f.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),mf.apply(this,arguments)}function bm(i,e){const t=qt(i);let o=!1;for(const u of e){const v=t.queries.get(u.query);if(v){for(const C of v.listeners)C.Vu(u)&&(o=!0);v.bu=u}}o&&Rp(t)}function $v(i,e,t){const o=qt(i),u=o.queries.get(e);if(u)for(const f of u.listeners)f.onError(t);o.queries.delete(e)}function Rp(i){i.vu.forEach(e=>{e.next()})}class uc{constructor(e,t,o){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=o||{}}Vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new yu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.Ou||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class Vv{constructor(e,t){this.Mu=e,this.byteLength=t}Fu(){return"metadata"in this.Mu}}class Uv{constructor(e){this.Tt=e}Zi(e){return E(this.Tt,e)}Xi(e){return e.metadata.exists?it(this.Tt,e.document,!1):Si.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return io(e)}}class jv{constructor(e,t,o){this.$u=e,this.localStore=t,this.Tt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wm(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const o=yr.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,o=new Uv(this.Tt);for(const u of e)if(u.metadata.queries){const f=o.Zi(u.metadata.name);for(const v of u.metadata.queries){const C=(t.get(v)||Ir()).add(f);t.set(v,C)}}return t}complete(){var e=this;return(0,ee.Z)(function*(){const t=yield function Sv(i,e,t,o){return cp.apply(this,arguments)}(e.localStore,new Uv(e.Tt),e.documents,e.$u.id),o=e.Lu(e.documents);for(const u of e.queries)yield fm(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function wm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Cm{constructor(e){this.key=e}}class Tm{constructor(e){this.key=e}}class Sm{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Ir(),this.mutatedKeys=Ir(),this.ju=tu(e),this.zu=new ac(this.ju)}get Wu(){return this.Ku}Hu(e,t){const o=t?t.Ju:new Mp,u=t?t.zu:this.zu;let f=t?t.mutatedKeys:this.mutatedKeys,v=u,C=!1;const $="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,H="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((te,Ne)=>{const ut=u.get(te),Pt=Nu(this.query,Ne)?Ne:null,$t=!!ut&&this.mutatedKeys.has(ut.key),_n=!!Pt&&(Pt.hasLocalMutations||this.mutatedKeys.has(Pt.key)&&Pt.hasCommittedMutations);let Bn=!1;ut&&Pt?ut.data.isEqual(Pt.data)?$t!==_n&&(o.track({type:3,doc:Pt}),Bn=!0):this.Yu(ut,Pt)||(o.track({type:2,doc:Pt}),Bn=!0,($&&this.ju(Pt,$)>0||H&&this.ju(Pt,H)<0)&&(C=!0)):!ut&&Pt?(o.track({type:0,doc:Pt}),Bn=!0):ut&&!Pt&&(o.track({type:1,doc:ut}),Bn=!0,($||H)&&(C=!0)),Bn&&(Pt?(v=v.add(Pt),f=_n?f.add(te):f.delete(te)):(v=v.delete(te),f=f.delete(te)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const te="F"===this.query.limitType?v.last():v.first();v=v.delete(te.key),f=f.delete(te.key),o.track({type:1,doc:te})}return{zu:v,Ju:o,Li:C,mutatedKeys:f}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const f=e.Ju.Ru();f.sort((H,te)=>function(Ne,ut){const Pt=$t=>{switch($t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return Pt(Ne)-Pt(ut)}(H.type,te.type)||this.ju(H.doc,te.doc)),this.Zu(o);const v=t?this.Xu():[],C=0===this.Qu.size&&this.current?1:0,$=C!==this.Gu;return this.Gu=C,0!==f.length||$?{snapshot:new yu(this.query,e.zu,u,f,e.mutatedKeys,0===C,$,!1,!!o&&o.resumeToken.approximateByteSize()>0),tc:v}:{tc:v}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new Mp,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Ir(),this.zu.forEach(o=>{this.ec(o.key)&&(this.Qu=this.Qu.add(o.key))});const t=[];return e.forEach(o=>{this.Qu.has(o)||t.push(new Tm(o))}),this.Qu.forEach(o=>{e.has(o)||t.push(new Cm(o))}),t}nc(e){this.Ku=e.Yi,this.Qu=Ir();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return yu.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class Hv{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Gv{constructor(e){this.key=e,this.ic=!1}}class Am{constructor(e,t,o,u,f,v){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.rc={},this.oc=new Vs(C=>Zf(C),eu),this.uc=new Map,this.cc=new Set,this.ac=new Hi(Qt.comparator),this.hc=new Map,this.lc=new Qh,this.fc={},this.dc=new Map,this._c=Qu.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function Op(i,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,ee.Z)(function*(i,e){const t=zp(i);let o,u;const f=t.oc.get(e);if(f)o=f.targetId,t.sharedClientState.addLocalQueryTarget(o),u=f.view.sc();else{const v=yield tc(t.localStore,ms(e));t.isPrimaryClient&&cf(t.remoteStore,v);const C=t.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,u=yield Jd(t,e,o,"current"===C,v.resumeToken)}return u}),Pp.apply(this,arguments)}function Jd(i,e,t,o,u){return Np.apply(this,arguments)}function Np(){return Np=(0,ee.Z)(function*(i,e,t,o,u){i.mc=(Ne,ut,Pt)=>{return($t=(0,ee.Z)(function*(_n,Bn,Ii,Vi){let zr=Bn.view.Hu(Ii);zr.Li&&(zr=yield Wd(_n.localStore,Bn.query,!1).then(({documents:oi})=>Bn.view.Hu(oi,zr)));const oo=Vi&&Vi.targetChanges.get(Bn.targetId),Zr=Bn.view.applyChanges(zr,_n.isPrimaryClient,oo);return us(_n,Bn.targetId,Zr.tc),Zr.snapshot}),function(_n,Bn,Ii,Vi){return $t.apply(this,arguments)})(i,Ne,ut,Pt);var $t};const f=yield Wd(i.localStore,e,!0),v=new Sm(e,f.Yi),C=v.Hu(f.documents),$=sl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),H=v.applyChanges(C,i.isPrimaryClient,$);us(i,t,H.tc);const te=new Hv(e,t,v);return i.oc.set(e,te),i.uc.has(t)?i.uc.get(t).push(e):i.uc.set(t,[e]),H.snapshot}),Np.apply(this,arguments)}function zv(i,e){return kp.apply(this,arguments)}function kp(){return kp=(0,ee.Z)(function*(i,e){const t=qt(i),o=t.oc.get(e),u=t.uc.get(o.targetId);if(u.length>1)return t.uc.set(o.targetId,u.filter(f=>!eu(f,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Ll(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),qd(t.remoteStore,o.targetId),Hs(t,o.targetId)}).catch(Qs))):(Hs(t,o.targetId),yield Ll(t.localStore,o.targetId,!0))}),kp.apply(this,arguments)}function Fp(){return Fp=(0,ee.Z)(function*(i,e,t){const o=If(i);try{const u=yield function(f,v){const C=qt(f),$=Yr.now(),H=v.reduce((ut,Pt)=>ut.add(Pt.key),Ir());let te,Ne;return C.persistence.runTransaction("Locally write mutations","readwrite",ut=>{let Pt=ys(),$t=Ir();return C.ji.getEntries(ut,H).next(_n=>{Pt=_n,Pt.forEach((Bn,Ii)=>{Ii.isValidDocument()||($t=$t.add(Bn))})}).next(()=>C.localDocuments.getOverlayedDocuments(ut,Pt)).next(_n=>{te=_n;const Bn=[];for(const Ii of v){const Vi=Cd(Ii,te.get(Ii.key).overlayedDocument);null!=Vi&&Bn.push(new Ta(Ii.key,Vi,yd(Vi.value.mapValue),Ai.exists(!0)))}return C.mutationQueue.addMutationBatch(ut,$,Bn,v)}).next(_n=>{Ne=_n;const Bn=_n.applyToLocalDocumentSet(te,$t);return C.documentOverlayCache.saveOverlays(ut,_n.batchId,Bn)})}).then(()=>({batchId:Ne.batchId,changes:as(te)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(f,v,C){let $=f.fc[f.currentUser.toKey()];$||($=new Hi(Wn)),$=$.insert(v,C),f.fc[f.currentUser.toKey()]=$}(o,u.batchId,t),yield Vo(o,u.changes),yield Gc(o.remoteStore)}catch(u){const f=sc(u,"Failed to persist write");t.reject(f)}}),Fp.apply(this,arguments)}function Mm(i,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,ee.Z)(function*(i,e){const t=qt(i);try{const o=yield function Cv(i,e){const t=qt(i),o=e.snapshotVersion;let u=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=t.ji.newChangeBuffer({trackRemovals:!0});u=t.Ki;const C=[];e.targetChanges.forEach((te,Ne)=>{const ut=u.get(Ne);if(!ut)return;C.push(t.Ns.removeMatchingKeys(f,te.removedDocuments,Ne).next(()=>t.Ns.addMatchingKeys(f,te.addedDocuments,Ne)));let Pt=ut.withSequenceNumber(f.currentSequenceNumber);var $t,_n,Bn;e.targetMismatches.has(Ne)?Pt=Pt.withResumeToken(eo.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):te.resumeToken.approximateByteSize()>0&&(Pt=Pt.withResumeToken(te.resumeToken,o)),u=u.insert(Ne,Pt),_n=Pt,Bn=te,(0===($t=ut).resumeToken.approximateByteSize()||_n.snapshotVersion.toMicroseconds()-$t.snapshotVersion.toMicroseconds()>=3e8||Bn.addedDocuments.size+Bn.modifiedDocuments.size+Bn.removedDocuments.size>0)&&C.push(t.Ns.updateTargetData(f,Pt))});let $=ys(),H=Ir();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(f,te))}),C.push(ec(f,v,e.documentUpdates).next(te=>{$=te.Hi,H=te.Ji})),!o.isEqual(Nn.min())){const te=t.Ns.getLastRemoteSnapshotVersion(f).next(Ne=>t.Ns.setTargetsMetadata(f,f.currentSequenceNumber,o));C.push(te)}return mt.waitFor(C).next(()=>v.apply(f)).next(()=>t.localDocuments.getLocalViewOfDocuments(f,$,H)).next(()=>$)}).then(f=>(t.Ki=u,f))}(t.localStore,e);e.targetChanges.forEach((u,f)=>{const v=t.hc.get(f);v&&(tn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.ic=!0:u.modifiedDocuments.size>0?tn(v.ic):u.removedDocuments.size>0&&(tn(v.ic),v.ic=!1))}),yield Vo(t,o,e)}catch(o){yield Qs(o)}}),Lp.apply(this,arguments)}function Bp(i,e,t){const o=qt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.oc.forEach((f,v)=>{const C=v.view.Pu(e);C.snapshot&&u.push(C.snapshot)}),function(f,v){const C=qt(f);C.onlineState=v;let $=!1;C.queries.forEach((H,te)=>{for(const Ne of te.listeners)Ne.Pu(v)&&($=!0)}),$&&Rp(C)}(o.eventManager,e),u.length&&o.rc.Ho(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function xm(i,e,t){return $p.apply(this,arguments)}function $p(){return $p=(0,ee.Z)(function*(i,e,t){const o=qt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.hc.get(e),f=u&&u.key;if(f){let v=new Hi(Qt.comparator);v=v.insert(f,Si.newNoDocument(f,Nn.min()));const C=Ir().add(f),$=new vs(Nn.min(),new Map,new di(Wn),v,C);yield Mm(o,$),o.ac=o.ac.remove(f),o.hc.delete(e),qc(o)}else yield Ll(o.localStore,e,!1).then(()=>Hs(o,e,t)).catch(Qs)}),$p.apply(this,arguments)}function u0(i,e){return yf.apply(this,arguments)}function yf(){return yf=(0,ee.Z)(function*(i,e){const t=qt(i),o=e.batch.batchId;try{const u=yield function um(i,e){const t=qt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),f=t.ji.newChangeBuffer({trackRemovals:!0});return function(v,C,$,H){const te=$.batch,Ne=te.keys();let ut=mt.resolve();return Ne.forEach(Pt=>{ut=ut.next(()=>H.getEntry(C,Pt)).next($t=>{const _n=$.docVersions.get(Pt);tn(null!==_n),$t.version.compareTo(_n)<0&&(te.applyToRemoteDocument($t,$),$t.isValidDocument()&&($t.setReadTime($.commitVersion),H.addEntry($t)))})}),ut.next(()=>v.mutationQueue.removeMutationBatch(C,te))}(t,o,e,f).next(()=>f.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(v){let C=Ir();for(let $=0;$<v.mutationResults.length;++$)v.mutationResults[$].transformResults.length>0&&(C=C.add(v.batch.mutations[$].key));return C}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}(t.localStore,e);Up(t,o,null),eh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Vo(t,u)}catch(u){yield Qs(u)}}),yf.apply(this,arguments)}function c0(i,e,t){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,ee.Z)(function*(i,e,t){const o=qt(i);try{const u=yield function(f,v){const C=qt(f);return C.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let H;return C.mutationQueue.lookupMutationBatch($,v).next(te=>(tn(null!==te),H=te.keys(),C.mutationQueue.removeMutationBatch($,te))).next(()=>C.mutationQueue.performConsistencyCheck($)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId($,H,v)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,H)).next(()=>C.localDocuments.getDocuments($,H))})}(o.localStore,e);Up(o,e,t),eh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Vo(o,u)}catch(u){yield Qs(u)}}),Kc.apply(this,arguments)}function Vp(){return Vp=(0,ee.Z)(function*(i,e){const t=qt(i);Wa(t.remoteStore)||Tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const v=qt(f);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>v.mutationQueue.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===o)return void e.resolve();const u=t.dc.get(o)||[];u.push(e),t.dc.set(o,u)}catch(o){const u=sc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Vp.apply(this,arguments)}function eh(i,e){(i.dc.get(e)||[]).forEach(t=>{t.resolve()}),i.dc.delete(e)}function Up(i,e,t){const o=qt(i);let u=o.fc[o.currentUser.toKey()];if(u){const f=u.get(e);f&&(t?f.reject(t):f.resolve(),u=u.remove(e)),o.fc[o.currentUser.toKey()]=u}}function Hs(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.uc.get(e))i.oc.delete(o),t&&i.rc.gc(o,t);i.uc.delete(e),i.isPrimaryClient&&i.lc.ds(e).forEach(o=>{i.lc.containsKey(o)||Yc(i,o)})}function Yc(i,e){i.cc.delete(e.path.canonicalString());const t=i.ac.get(e);null!==t&&(qd(i.remoteStore,t),i.ac=i.ac.remove(e),i.hc.delete(t),qc(i))}function us(i,e,t){for(const o of t)o instanceof Cm?(i.lc.addReference(o.key,e),cc(i,o)):o instanceof Tm?(Tt("SyncEngine","Document no longer in limbo: "+o.key),i.lc.removeReference(o.key,e),i.lc.containsKey(o.key)||Yc(i,o.key)):Bt()}function cc(i,e){const t=e.key,o=t.path.canonicalString();i.ac.get(t)||i.cc.has(o)||(Tt("SyncEngine","New document in limbo: "+t),i.cc.add(o),qc(i))}function qc(i){for(;i.cc.size>0&&i.ac.size<i.maxConcurrentLimboResolutions;){const e=i.cc.values().next().value;i.cc.delete(e);const t=new Qt(yr.fromString(e)),o=i._c.next();i.hc.set(o,new Gv(t)),i.ac=i.ac.insert(t,o),cf(i.remoteStore,new Pl(ms(Sl(t.path)),o,2,No.at))}}function Vo(i,e,t){return th.apply(this,arguments)}function th(){return th=(0,ee.Z)(function*(i,e,t){const o=qt(i),u=[],f=[],v=[];var C;o.oc.isEmpty()||(o.oc.forEach((C,$)=>{v.push(o.mc($,e,t).then(H=>{if((H||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState($.targetId,H?.fromCache?"not-current":"current"),H){u.push(H);const te=zd.Ni($.targetId,H);f.push(te)}}))}),yield Promise.all(v),o.rc.Ho(u),yield(C=(0,ee.Z)(function*($,H){const te=qt($);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>mt.forEach(H,ut=>mt.forEach(ut.Ci,Pt=>te.persistence.referenceDelegate.addReference(Ne,ut.targetId,Pt)).next(()=>mt.forEach(ut.xi,Pt=>te.persistence.referenceDelegate.removeReference(Ne,ut.targetId,Pt)))))}catch(Ne){if(!ga(Ne))throw Ne;Tt("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of H){const ut=Ne.targetId;if(!Ne.fromCache){const Pt=te.Ki.get(ut),_n=Pt.withLastLimboFreeSnapshotVersion(Pt.snapshotVersion);te.Ki=te.Ki.insert(ut,_n)}}}),function($,H){return C.apply(this,arguments)})(o.localStore,f))}),th.apply(this,arguments)}function Zc(i,e){return vu.apply(this,arguments)}function vu(){return vu=(0,ee.Z)(function*(i,e){const t=qt(i);if(!t.currentUser.isEqual(e)){Tt("SyncEngine","User change. New user:",e.toKey());const o=yield bv(t.localStore,e);t.currentUser=e,(u=t).dc.forEach(v=>{v.forEach(C=>{C.reject(new Nt(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.dc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Vo(t,o.Wi)}var u}),vu.apply(this,arguments)}function Xc(i,e){const t=qt(i),o=t.hc.get(e);if(o&&o.ic)return Ir().add(o.key);{let u=Ir();const f=t.uc.get(e);if(!f)return u;for(const v of f){const C=t.oc.get(v);u=u.unionWith(C.view.Wu)}return u}}function Qc(i,e){return _u.apply(this,arguments)}function _u(){return _u=(0,ee.Z)(function*(i,e){const t=qt(i),o=yield Wd(t.localStore,e.query,!0),u=e.view.nc(o);return t.isPrimaryClient&&us(t,e.targetId,u.tc),u}),_u.apply(this,arguments)}function Jc(i,e){return Eu.apply(this,arguments)}function Eu(){return Eu=(0,ee.Z)(function*(i,e){const t=qt(i);return dm(t.localStore,e).then(o=>Vo(t,o))}),Eu.apply(this,arguments)}function ed(i,e,t,o){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,ee.Z)(function*(i,e,t,o){const u=qt(i),f=yield function(v,C){const $=qt(v),H=qt($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",te=>H.An(te,C).next(Ne=>Ne?$.localDocuments.getDocuments(te,Ne):mt.resolve(null)))}(u.localStore,e);var C;null!==f?("pending"===t?yield Gc(u.remoteStore):"acknowledged"===t||"rejected"===t?(Up(u,e,o||null),eh(u,e),C=e,qt(qt(u.localStore).mutationQueue).bn(C)):Bt(),yield Vo(u,f)):Tt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Iu.apply(this,arguments)}function vf(){return vf=(0,ee.Z)(function*(i,e){const t=qt(i);if(zp(t),If(t),!0===e&&!0!==t.wc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield jp(t,o.toArray());t.wc=!0,yield zc(t.remoteStore,!0);for(const f of u)cf(t.remoteStore,f)}else if(!1===e&&!1!==t.wc){const o=[];let u=Promise.resolve();t.uc.forEach((f,v)=>{t.sharedClientState.isLocalQueryTarget(v)?o.push(v):u=u.then(()=>(Hs(t,v),Ll(t.localStore,v,!0))),qd(t.remoteStore,v)}),yield u,yield jp(t,o),function(f){const v=qt(f);v.hc.forEach((C,$)=>{qd(v.remoteStore,$)}),v.lc._s(),v.hc=new Map,v.ac=new Hi(Qt.comparator)}(t),t.wc=!1,yield zc(t.remoteStore,!1)}}),vf.apply(this,arguments)}function jp(i,e,t){return _f.apply(this,arguments)}function _f(){return _f=(0,ee.Z)(function*(i,e,t){const o=qt(i),u=[],f=[];for(const v of e){let C;const $=o.uc.get(v);if($&&0!==$.length){C=yield tc(o.localStore,ms($[0]));for(const H of $){const te=o.oc.get(H),Ne=yield Qc(o,te);Ne.snapshot&&f.push(Ne.snapshot)}}else{const H=yield cm(o.localStore,v);C=yield tc(o.localStore,H),yield Jd(o,Hp(H),v,!1,C.resumeToken)}u.push(C)}return o.rc.Ho(f),u}),_f.apply(this,arguments)}function Hp(i){return Jl(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Om(i){const e=qt(i);return qt(qt(e.localStore).persistence).Si()}function Pm(i,e,t,o){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,ee.Z)(function*(i,e,t,o){const u=qt(i);if(u.wc)return void Tt("SyncEngine","Ignoring unexpected query state notification.");const f=u.uc.get(e);if(f&&f.length>0)switch(t){case"current":case"not-current":{const v=yield dm(u.localStore,Sh(f[0])),C=vs.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,eo.EMPTY_BYTE_STRING);yield Vo(u,v,C);break}case"rejected":yield Ll(u.localStore,e,!0),Hs(u,e,o);break;default:Bt()}}),Ef.apply(this,arguments)}function Nm(i,e,t){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,ee.Z)(function*(i,e,t){const o=zp(i);if(o.wc){for(const u of e){if(o.uc.has(u)){Tt("SyncEngine","Adding an already active target "+u);continue}const f=yield cm(o.localStore,u),v=yield tc(o.localStore,f);yield Jd(o,Hp(f),v.targetId,!1,v.resumeToken),cf(o.remoteStore,v)}for(const u of t)o.uc.has(u)&&(yield Ll(o.localStore,u,!1).then(()=>{qd(o.remoteStore,u),Hs(o,u)}).catch(Qs))}}),Gp.apply(this,arguments)}function zp(i){const e=qt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xm.bind(null,e),e.rc.Ho=bm.bind(null,e.eventManager),e.rc.gc=$v.bind(null,e.eventManager),e}function If(i){const e=qt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c0.bind(null,e),e}class km{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ee.Z)(function*(){t.Tt=rc(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return Dv(this.persistence,new lm,e.initialUser,this.Tt)}Tc(e){return new sm(Jh.qs,this.Tt)}Ic(e){return new gm}terminate(){var e=this;return(0,ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Df extends km{constructor(e,t,o){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,ee.Z)(function*(){yield t().call(o,e),yield o.bc.initialize(o,e),yield If(o.bc.syncEngine),yield Gc(o.bc.remoteStore),yield o.persistence.di(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return Dv(this.persistence,new lm,e.initialUser,this.Tt)}Ac(e,t){return new Zg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const o=new Js(t,this.persistence);return new Xl(e.asyncQueue,o)}Tc(e){const t=Gd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ia.withCacheSize(this.cacheSizeBytes):ia.DEFAULT;return new tf(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,lf(),gu(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new gm}}class Wp extends Df{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,ee.Z)(function*(){yield t().call(o,e);const u=o.bc.syncEngine;o.sharedClientState instanceof sf&&(o.sharedClientState.syncEngine={Br:ed.bind(null,u),Lr:Pm.bind(null,u),qr:Nm.bind(null,u),Si:Om.bind(null,u),$r:Jc.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.di(function(){var f=(0,ee.Z)(function*(v){yield function Rm(i,e){return vf.apply(this,arguments)}(o.bc.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start():v||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(v&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():v||o.indexBackfillerScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}Ic(e){const t=lf();if(!sf.C(t))throw new Nt(pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Gd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sf(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Kp{initialize(e,t){var o=this;return(0,ee.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Bp(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Zc.bind(null,o.syncEngine),yield zc(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gf}createDatastore(e){const t=rc(e.databaseInfo.databaseId),o=new Vc(e.databaseInfo);return new vp(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,f=C=>Bp(this.syncEngine,C,0),v=ym.C()?new ym:new mm,new xv(t,o,u,f,v);var t,o,u,f,v}createSyncEngine(e,t){return function(o,u,f,v,C,$,H){const te=new Am(o,u,f,v,C,$);return H&&(te.wc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ee.Z)(function*(t){const o=qt(t);Tt("RemoteStore","RemoteStore shutting down."),o.mu.add(5),yield ic(o),o.yu.shutdown(),o.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nh(i,e=10240){let t=0;return{read:()=>(0,ee.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,ee.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class dc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString())}Pc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Yp{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new ii,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(o=>{o&&o.Fu()?this.metadata.resolve(o.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Mu)}`))},o=>this.metadata.reject(o))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,ee.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,ee.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,ee.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const o=e.Sc.decode(t),u=Number(o);isNaN(u)&&e.xc(`length string (${o}) is not valid number`);const f=yield e.Nc(u);return new Vv(JSON.parse(f),t.length+u)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,ee.Z)(function*(){for(;e.kc()<0&&!(yield e.Oc()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Nc(e){var t=this;return(0,ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Oc())&&t.xc("Reached the end of bundle when more is expected.");const o=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}Oc(){var e=this;return(0,ee.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class qv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Nt(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,ee.Z)(function*(f,v){const C=qt(f),$=b(C.Tt)+"/documents",H={documents:v.map(Pt=>ju(C.Tt,Pt))},te=yield C.mo("BatchGetDocuments",$,H,v.length),Ne=new Map;te.forEach(Pt=>{const $t=function St(i,e){return"found"in e?function(t,o){tn(!!o.found);const u=E(t,o.found.name),f=io(o.found.updateTime),v=o.found.createTime?io(o.found.createTime):Nn.min(),C=new Lo({mapValue:{fields:o.found.fields}});return Si.newFoundDocument(u,f,v,C)}(i,e):"missing"in e?function(t,o){tn(!!o.missing),tn(!!o.readTime);const u=E(t,o.missing),f=io(o.readTime);return Si.newNoDocument(u,f)}(i,e):Bt()}(C.Tt,Pt);Ne.set($t.key.toString(),$t)});const ut=[];return v.forEach(Pt=>{const $t=Ne.get(Pt.toString());tn(!!$t),ut.push($t)}),ut}),function(f,v){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const f=Qt.fromPath(u);e.mutations.push(new Ad(f,e.precondition(f)))}),yield(o=(0,ee.Z)(function*(u,f){const v=qt(u),C=b(v.Tt)+"/documents",$={writes:f.map(H=>vn(v.Tt,H))};yield v.lo("Commit",C,$)}),function(u,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bt();t=Nn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Nt(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nn.min())?Ai.exists(!1):Ai.updateTime(t):Ai.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nn.min()))throw new Nt(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ai.updateTime(t)}return Ai.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class qp{constructor(e,t,o,u,f){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=f,this.Mc=o.maxAttempts,this.ko=new Uc(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Fc()}Fc(){var e=this;this.ko.vo((0,ee.Z)(function*(){const t=new qv(e.datastore),o=e.$c(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.Bc(f)}))}).catch(u=>{e.Bc(u)})}))}$c(e){try{const t=this.updateFunction(e);return!os(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Fc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Bu(t)}return!1}}class Zp{constructor(e,t,o,u){var f=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=be.UNAUTHENTICATED,this.clientId=Da.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,ee.Z)(function*(C){Tt("FirestoreClient","Received user=",C.uid),yield f.authCredentialListener(C),f.user=C});return function(C){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(Tt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=sc(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function bf(i,e){return wf.apply(this,arguments)}function wf(){return wf=(0,ee.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Tt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,ee.Z)(function*(f){o.isEqual(f)||(yield bv(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),wf.apply(this,arguments)}function Cf(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,ee.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Sf(i);Tt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Xd(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,f)=>Xd(e.remoteStore,f)),i.onlineComponents=e}),Tf.apply(this,arguments)}function Sf(i){return rh.apply(this,arguments)}function rh(){return rh=(0,ee.Z)(function*(i){return i.offlineComponents||(Tt("FirestoreClient","Using default OfflineComponentProvider"),yield bf(i,new km)),i.offlineComponents}),rh.apply(this,arguments)}function ih(i){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,ee.Z)(function*(i){return i.onlineComponents||(Tt("FirestoreClient","Using default OnlineComponentProvider"),yield Cf(i,new Kp)),i.onlineComponents}),Xp.apply(this,arguments)}function Qp(i){return Sf(i).then(e=>e.persistence)}function oh(i){return Sf(i).then(e=>e.localStore)}function Af(i){return ih(i).then(e=>e.remoteStore)}function Mf(i){return ih(i).then(e=>e.syncEngine)}function hc(i){return xf.apply(this,arguments)}function xf(){return xf=(0,ee.Z)(function*(i){const e=yield ih(i),t=e.eventManager;return t.onListen=Op.bind(null,e.syncEngine),t.onUnlisten=zv.bind(null,e.syncEngine),t}),xf.apply(this,arguments)}function tg(i,e,t={}){const o=new ii;return i.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function(u,f,v,C,$){const H=new dc({next:Ne=>{f.enqueueAndForget(()=>xp(u,te));const ut=Ne.docs.has(v);!ut&&Ne.fromCache?$.reject(new Nt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):ut&&Ne.fromCache&&C&&"server"===C.source?$.reject(new Nt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(Ne)},error:Ne=>$.reject(Ne)}),te=new uc(Sl(v.path),H,{includeMetadataChanges:!0,Ou:!0});return Wc(u,te)}(yield hc(i),i.asyncQueue,e,t,o)})),o.promise}function ng(i,e,t={}){const o=new ii;return i.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function(u,f,v,C,$){const H=new dc({next:Ne=>{f.enqueueAndForget(()=>xp(u,te)),Ne.fromCache&&"server"===C.source?$.reject(new Nt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Ne)},error:Ne=>$.reject(Ne)}),te=new uc(v,H,{includeMetadataChanges:!0,Ou:!0});return Wc(u,te)}(yield hc(i),i.asyncQueue,e,t,o)})),o.promise}const rg=new Map;function td(i,e,t){if(!t)throw new Nt(pt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $l(i,e,t,o){if(!0===e&&!0===o)throw new Nt(pt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function jm(i){if(!Qt.isDocumentKey(i))throw new Nt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Hm(i){if(Qt.isDocumentKey(i))throw new Nt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Bt()}function Mr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Nt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nd(i);throw new Nt(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Rf(i,e){if(e<=0)throw new Nt(pt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Gm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Nt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$l("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fc{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new rs;switch(t.type){case"gapi":return new da(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Nt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rg.get(e);t&&(Tt("ComponentProvider","Removing Datastore"),rg.delete(e),t.terminate())}(this),Promise.resolve()}}class zi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zi(this.firestore,e,this._key)}}class _s{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class fl extends _s{constructor(e,t,o){super(e,t,Sl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zi(this.firestore,null,new Qt(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function ig(i,e,...t){if(i=(0,Ve.m9)(i),td("collection","path",e),i instanceof fc){const o=yr.fromString(e,...t);return Hm(o),new fl(i,null,o)}{if(!(i instanceof zi||i instanceof fl))throw new Nt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yr.fromString(e,...t));return Hm(o),new fl(i.firestore,null,o)}}function fo(i,e,...t){if(i=(0,Ve.m9)(i),1===arguments.length&&(e=Da.R()),td("doc","path",e),i instanceof fc){const o=yr.fromString(e,...t);return jm(o),new zi(i,null,new Qt(o))}{if(!(i instanceof zi||i instanceof fl))throw new Nt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yr.fromString(e,...t));return jm(o),new zi(i.firestore,i instanceof fl?i.converter:null,new Qt(o))}}function og(i,e){return i=(0,Ve.m9)(i),e=(0,Ve.m9)(e),(i instanceof zi||i instanceof fl)&&(e instanceof zi||e instanceof fl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function sg(i,e){return i=(0,Ve.m9)(i),e=(0,Ve.m9)(e),i instanceof _s&&e instanceof _s&&i.firestore===e.firestore&&eu(i._query,e._query)&&i.converter===e.converter}class Qv{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Uc(this,"async_queue_retry"),this.Hc=()=>{const t=gu();t&&Tt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=gu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=gu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new ii;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,ee.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!ga(t))throw t;Tt("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(o=>{throw this.Qc=o,this.jc=!1,zn("INTERNAL UNHANDLED ERROR: ",function(f){let v=f.message||"";return f.stack&&(v=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),v}(o)),o}).then(o=>(this.jc=!1,o))));return this.qc=t,t}enqueueAfterDelay(e,t,o){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const u=pf.createAndSchedule(this,e,t,o,f=>this.Xc(f));return this.Gc.push(u),u}Jc(){this.Qc&&Bt()}verifyOperationInProgress(){}ta(){var e=this;return(0,ee.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function Of(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Jv{constructor(){this._progressObserver={},this._taskCompletionResolver=new ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ki extends fc{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new Qv,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ag(this),this._firestoreClient.terminate()}}function Co(i){return i._firestoreClient||ag(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ag(i){var e;const t=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ms(i._databaseId,f,i._persistenceKey,(C=t).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var f,C;i._firestoreClient=new Zp(i._authCredentials,i._appCheckCredentials,i._queue,o)}function t_(i,e,t){const o=new ii;return i.asyncQueue.enqueue((0,ee.Z)(function*(){try{yield bf(i,t),yield Cf(i,e),o.resolve()}catch(u){const f=u;if(!("FirebaseError"===(v=f).name?v.code===pt.FAILED_PRECONDITION||v.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw f;Xn("Error enabling offline persistence. Falling back to persistence disabled: "+f),o.reject(f)}var v})).then(()=>o.promise)}function Ma(i){if(i._initialized||i._terminated)throw new Nt(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(eo.fromBase64String(e))}catch(t){throw new Nt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ml(eo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Nt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pc{constructor(e){this._methodName=e}}class id{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wn(this._lat,e._lat)||Wn(this._long,e._long)}}const ah=/^__.*__$/;class r_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new na(e,this.data,t,this.fieldTransforms)}}class ug{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class lh{constructor(e,t,o,u,f,v){this.settings=e,this.databaseId=t,this.Tt=o,this.ignoreUndefinedProperties=u,void 0===f&&this.ia(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new lh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.oa({path:o,ca:!1});return u.aa(e),u}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.oa({path:o,ca:!1});return u.ia(),u}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return Bf(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(qm(this.ra)&&ah.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class Zm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=o||rc(e)}wa(e,t,o,u=!1){return new lh({ra:e,methodName:t,_a:o,path:Or.emptyPath(),ca:!1,da:u},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function yl(i){const e=i._freezeSettings(),t=rc(i._databaseId);return new Zm(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Pf(i,e,t,o,u,f={}){const v=i.wa(f.merge||f.mergeFields?2:0,e,t,u);gg("Data must be an object, but it was:",v,o);const C=fg(o,v);let $,H;if(f.merge)$=new $i(v.fieldMask),H=v.fieldTransforms;else if(f.mergeFields){const te=[];for(const Ne of f.mergeFields){const ut=ch(e,Ne,t);if(!v.contains(ut))throw new Nt(pt.INVALID_ARGUMENT,`Field '${ut}' is specified in your field mask but missing from your input data.`);Qm(te,ut)||te.push(ut)}$=new $i(te),H=v.fieldTransforms.filter(Ne=>$.covers(Ne.field))}else $=null,H=v.fieldTransforms;return new r_(new Lo(C),$,H)}class od extends pc{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof od}}function cg(i,e,t){return new lh({ra:3,_a:e.settings._a,methodName:i._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class uh extends pc{_toFieldTransform(e){return new Fu(e.path,new ya)}isEqual(e){return e instanceof uh}}class Nf extends pc{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=cg(this,e,!0),o=this.ma.map(f=>Du(f,t)),u=new Va(o);return new Fu(e.path,u)}isEqual(e){return this===e}}class dg extends pc{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=cg(this,e,!0),o=this.ma.map(f=>Du(f,t)),u=new Al(o);return new Fu(e.path,u)}isEqual(e){return this===e}}class Xm extends pc{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new Ml(e.Tt,Ah(e.Tt,this.ga));return new Fu(e.path,t)}isEqual(e){return this===e}}function kf(i,e,t,o){const u=i.wa(1,e,t);gg("Data must be an object, but it was:",u,o);const f=[],v=Lo.empty();ko(o,($,H)=>{const te=Lf(e,$,t);H=(0,Ve.m9)(H);const Ne=u.ha(te);if(H instanceof od)f.push(te);else{const ut=Du(H,Ne);null!=ut&&(f.push(te),v.set(te,ut))}});const C=new $i(f);return new ug(v,C,u.fieldTransforms)}function Ff(i,e,t,o,u,f){const v=i.wa(1,e,t),C=[ch(e,o,t)],$=[u];if(f.length%2!=0)throw new Nt(pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ut=0;ut<f.length;ut+=2)C.push(ch(e,f[ut])),$.push(f[ut+1]);const H=[],te=Lo.empty();for(let ut=C.length-1;ut>=0;--ut)if(!Qm(H,C[ut])){const Pt=C[ut];let $t=$[ut];$t=(0,Ve.m9)($t);const _n=v.ha(Pt);if($t instanceof od)H.push(Pt);else{const Bn=Du($t,_n);null!=Bn&&(H.push(Pt),te.set(Pt,Bn))}}const Ne=new $i(H);return new ug(te,Ne,v.fieldTransforms)}function hg(i,e,t,o=!1){return Du(t,i.wa(o?4:3,e))}function Du(i,e){if(pg(i=(0,Ve.m9)(i)))return gg("Unsupported field value:",e,i),fg(i,e);if(i instanceof pc)return function(t,o){if(!qm(o.ra))throw o.fa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.fa(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,o){const u=[];let f=0;for(const v of t){let C=Du(v,o.la(f));null==C&&(C={nullValue:"NULL_VALUE"}),u.push(C),f++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,Ve.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ah(o.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Yr.fromDate(t);return{timestampValue:al(o.Tt,u)}}if(t instanceof Yr){const u=new Yr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:al(o.Tt,u)}}if(t instanceof id)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ml)return{bytesValue:Nd(o.Tt,t._byteString)};if(t instanceof zi){const u=o.databaseId,f=t.firestore._databaseId;if(!f.isEqual(u))throw o.fa(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kd(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.fa(`Unsupported field value: ${nd(t)}`)}(i,e)}function fg(i,e){const t={};return wa(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(i,(o,u)=>{const f=Du(u,e.ua(o));null!=f&&(t[o]=f)}),{mapValue:{fields:t}}}function pg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Yr||i instanceof id||i instanceof ml||i instanceof zi||i instanceof pc)}function gg(i,e,t){if(!pg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=nd(t);throw e.fa("an object"===o?i+" a custom object":i+" "+o)}var o}function ch(i,e,t){if((e=(0,Ve.m9)(e))instanceof Vl)return e._internalPath;if("string"==typeof e)return Lf(i,e);throw Bf("Field path arguments must be of type string or ",i,!1,void 0,t)}const i_=new RegExp("[~\\*/\\[\\]]");function Lf(i,e,t){if(e.search(i_)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Vl(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Bf(i,e,t,o,u){const f=o&&!o.isEmpty(),v=void 0!==u;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let $="";return(f||v)&&($+=" (found",f&&($+=` in field ${o}`),v&&($+=` in document ${u}`),$+=")"),new Nt(pt.INVALID_ARGUMENT,C+i+$)}function Qm(i,e){return i.some(t=>t.isEqual(e))}class dh{constructor(e,t,o,u,f){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new o_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($f("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class o_ extends dh{data(){return super.data()}}function $f(i,e){return"string"==typeof e?Lf(i,e):e instanceof Vl?e._internalPath:e._delegate._internalPath}function Jm(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Nt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class hh extends mg{}function bu(i,e,...t){let o=[];e instanceof mg&&o.push(e),o=o.concat(t),function(u){const f=u.filter(C=>C instanceof sd).length,v=u.filter(C=>C instanceof fh).length;if(f>1||f>0&&v>0)throw new Nt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class fh extends hh{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new fh(e,t,o)}_apply(e){const t=this._parse(e);return gc(e._query,t),new _s(e.firestore,e.converter,Tc(e._query,t))}_parse(e){const t=yl(e.firestore);return function(u,f,v,C,$,H,te){let Ne;if($.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Nt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){ly(te,H);const ut=[];for(const Pt of te)ut.push(ay(C,u,Pt));Ne={arrayValue:{values:ut}}}else Ne=ay(C,u,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||ly(te,H),Ne=hg(v,"where",te,"in"===H||"not-in"===H);return wr.create($,H,Ne)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class sd extends mg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sd(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:kr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,u){let f=o;const v=u.getFlattenedFilters();for(const C of v)gc(f,C),f=Tc(f,C)}(e._query,t),new _s(e.firestore,e.converter,Tc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Vf extends hh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vf(e,t)}_apply(e){const t=function(o,u,f){if(null!==o.startAt)throw new Nt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Nt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new Mu(u,f);return function(C,$){if(null===wo(C)){const H=rl(C);null!==H&&a_(0,H,$.field)}}(o,v),v}(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Gi(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class ph extends hh{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new ph(e,t,o)}_apply(e){return new _s(e.firestore,e.converter,Pu(e._query,this._limit,this._limitType))}}class gh extends hh{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new gh(e,t,o)}_apply(e){const t=wu(e,this.type,this._docOrFields,this._inclusive);return new _s(e.firestore,e.converter,(u=t,new Gi((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class mh extends hh{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new mh(e,t,o)}_apply(e){const t=wu(e,this.type,this._docOrFields,this._inclusive);return new _s(e.firestore,e.converter,(u=t,new Gi((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function wu(i,e,t,o){if(t[0]=(0,Ve.m9)(t[0]),t[0]instanceof dh)return function(u,f,v,C,$){if(!C)throw new Nt(pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const H=[];for(const te of il(u))if(te.field.isKeyField())H.push(cr(f,C.key));else{const Ne=C.data.field(te.field);if(ta(Ne))throw new Nt(pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const ut=te.field.canonicalString();throw new Nt(pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ut}' (used as the orderBy) does not exist.`)}H.push(Ne)}return new Gn(H,$)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=yl(i.firestore);return function(f,v,C,$,H,te){const Ne=f.explicitOrderBy;if(H.length>Ne.length)throw new Nt(pt.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ut=[];for(let Pt=0;Pt<H.length;Pt++){const $t=H[Pt];if(Ne[Pt].field.isKeyField()){if("string"!=typeof $t)throw new Nt(pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof $t}`);if(!Cc(f)&&-1!==$t.indexOf("/"))throw new Nt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${$t}' contains a slash.`);const _n=f.path.child(yr.fromString($t));if(!Qt.isDocumentKey(_n))throw new Nt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${_n}' is not because it contains an odd number of segments.`);const Bn=new Qt(_n);ut.push(cr(v,Bn))}else{const _n=hg(C,$,$t);ut.push(_n)}}return new Gn(ut,te)}(i._query,i.firestore._databaseId,u,e,t,o)}}function ay(i,e,t){if("string"==typeof(t=(0,Ve.m9)(t))){if(""===t)throw new Nt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cc(e)&&-1!==t.indexOf("/"))throw new Nt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(yr.fromString(t));if(!Qt.isDocumentKey(o))throw new Nt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return cr(i,new Qt(o))}if(t instanceof zi)return cr(i,t._key);throw new Nt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(t)}.`)}function ly(i,e){if(!Array.isArray(i)||0===i.length)throw new Nt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gc(i,e){if(e.isInequality()){const o=rl(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new Nt(pt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const f=wo(i);null!==f&&a_(0,u,f)}const t=function(o,u){for(const f of o)for(const v of f.getFlattenedFilters())if(u.indexOf(v.op)>=0)return v.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Nt(pt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function a_(i,e,t){if(!t.isEqual(e))throw new Nt(pt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class uy{convertValue(e,t="none"){switch(L(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bt()}}convertObject(e,t){const o={};return ko(e.fields,(u,f)=>{o[u]=this.convertValue(f,t)}),o}convertGeoPoint(e){return new id(Gr(e.latitude),Gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=D(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(w(e));default:return null}}convertTimestamp(e){const t=$s(e);return new Yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=yr.fromString(e);tn(kc(o));const u=new Bs(o.get(1),o.get(3)),f=new Qt(o.popFirst(5));return u.isEqual(t)||zn(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),f}}function yh(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class cy extends uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zi(this.firestore,null,t)}}class xa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ul extends dh{constructor(e,t,o,u,f,v){super(e,t,o,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field($f("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Cu extends Ul{data(e={}){return super.data(e)}}class Ya{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new xa(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Cu(this._firestore,this._userDataWriter,o.key,o,new xa(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new Cu(o._firestore,o._userDataWriter,v.doc.key,v.doc,new xa(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>u||3!==v.type).map(v=>{const C=new Cu(o._firestore,o._userDataWriter,v.doc.key,v.doc,new xa(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let $=-1,H=-1;return 0!==v.type&&($=f.indexOf(v.doc.key),f=f.delete(v.doc.key)),1!==v.type&&(f=f.add(v.doc),H=f.indexOf(v.doc.key)),{type:po(v.type),doc:C,oldIndex:$,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function po(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}function u_(i,e){return i instanceof Ul&&e instanceof Ul?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Ya&&e instanceof Ya&&i._firestore===e._firestore&&sg(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class jl extends uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zi(this.firestore,null,t)}}function my(i,e,t){i=Mr(i,zi);const o=Mr(i.firestore,ki),u=yh(i.converter,e,t);return ad(o,[Pf(yl(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Ai.none())])}function yy(i,e,t,...o){i=Mr(i,zi);const u=Mr(i.firestore,ki),f=yl(u);let v;return v="string"==typeof(e=(0,Ve.m9)(e))||e instanceof Vl?Ff(f,"updateDoc",i._key,e,t,o):kf(f,"updateDoc",i._key,e),ad(u,[v.toMutation(i._key,Ai.exists(!0))])}function vy(i,...e){var t,o,u;i=(0,Ve.m9)(i);let f={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Of(e[v])||(f=e[v],v++);const C={includeMetadataChanges:f.includeMetadataChanges};if(Of(e[v])){const Ne=e[v];e[v]=null===(t=Ne.next)||void 0===t?void 0:t.bind(Ne),e[v+1]=null===(o=Ne.error)||void 0===o?void 0:o.bind(Ne),e[v+2]=null===(u=Ne.complete)||void 0===u?void 0:u.bind(Ne)}let $,H,te;if(i instanceof zi)H=Mr(i.firestore,ki),te=Sl(i._key.path),$={next:Ne=>{e[v]&&e[v](ld(H,i,Ne))},error:e[v+1],complete:e[v+2]};else{const Ne=Mr(i,_s);H=Mr(Ne.firestore,ki),te=Ne._query;const ut=new jl(H);$={next:Pt=>{e[v]&&e[v](new Ya(H,ut,Ne,Pt))},error:e[v+1],complete:e[v+2]},Jm(i._query)}return function(Ne,ut,Pt,$t){const _n=new dc($t),Bn=new uc(ut,_n,Pt);return Ne.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return Wc(yield hc(Ne),Bn)})),()=>{_n.Pc(),Ne.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return xp(yield hc(Ne),Bn)}))}}(Co(H),te,C,$)}function ad(i,e){return function(t,o){const u=new ii;return t.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function Wv(i,e,t){return Fp.apply(this,arguments)}(yield Mf(t),o,u)})),u.promise}(Co(i),e)}function ld(i,e,t){const o=t.docs.get(e._key),u=new jl(i);return new Ul(i,u,e._key,o,new xa(t.hasPendingWrites,t.fromCache),e.converter)}const Ey={maxAttempts:5};class Iy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yl(e)}set(e,t,o){this._verifyNotCommitted();const u=Ra(e,this._firestore),f=yh(u.converter,t,o),v=Pf(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(v.toMutation(u._key,Ai.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const f=Ra(e,this._firestore);let v;return v="string"==typeof(t=(0,Ve.m9)(t))||t instanceof Vl?Ff(this._dataReader,"WriteBatch.update",f._key,t,o,u):kf(this._dataReader,"WriteBatch.update",f._key,t),this._mutations.push(v.toMutation(f._key,Ai.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ra(e,this._firestore);return this._mutations=this._mutations.concat(new Sa(t._key,Ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nt(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ra(i,e){if((i=(0,Ve.m9)(i)).firestore!==e)throw new Nt(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class _h extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=yl(e)}get(e){const t=Ra(e,this._firestore),o=new cy(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return Bt();const f=u[0];if(f.isFoundDocument())return new dh(this._firestore,o,f.key,f,t.converter);if(f.isNoDocument())return new dh(this._firestore,o,t._key,null,t.converter);throw Bt()})}set(e,t,o){const u=Ra(e,this._firestore),f=yh(u.converter,t,o),v=Pf(this._dataReader,"Transaction.set",u._key,f,null!==u.converter,o);return this._transaction.set(u._key,v),this}update(e,t,o,...u){const f=Ra(e,this._firestore);let v;return v="string"==typeof(t=(0,Ve.m9)(t))||t instanceof Vl?Ff(this._dataReader,"Transaction.update",f._key,t,o,u):kf(this._dataReader,"Transaction.update",f._key,t),this._transaction.update(f._key,v),this}delete(e){const t=Ra(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ra(e,this._firestore),o=new jl(this._firestore);return super.get(e).then(u=>new Ul(this._firestore,o,t._key,u._document,new xa(!1,!1),t.converter))}}!function(i,e=!0){ct=Ze.SDK_VERSION,(0,Ze._registerComponent)(new Ke.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const f=t.getProvider("app").getImmediate(),v=new ki(new El(t.getProvider("auth-internal")),new Xa(t.getProvider("app-check-internal")),function(C,$){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new Nt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bs(C.options.projectId,$)}(f,o),f);return u=Object.assign({useFetchStreams:e},u),v._setSettings(u),v},"PUBLIC").setMultipleInstances(!0)),(0,Ze.registerVersion)(q,"3.8.4",i),(0,Ze.registerVersion)(q,"3.8.4","esm2017")}();function Ty(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Nt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function __(){if(typeof Uint8Array>"u")throw new Nt("unimplemented","Uint8Arrays are not available in this environment.")}function E_(){if(!function $a(){return typeof atob<"u"}())throw new Nt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ud{constructor(e){this._delegate=e}static fromBase64String(e){return E_(),new ud(ml.fromBase64String(e))}static fromUint8Array(e){return __(),new ud(ml.fromUint8Array(e))}toBase64(){return E_(),this._delegate.toBase64()}toUint8Array(){return __(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cd(i){return function I_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class D_{enableIndexedDbPersistence(e,t){return function e_(i,e){Ma(i=Mr(i,ki));const t=Co(i),o=i._freezeSettings(),u=new Kp;return t_(t,u,new Df(u,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Wm(i){Ma(i=Mr(i,ki));const e=Co(i),t=i._freezeSettings(),o=new Kp;return t_(e,o,new Wp(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Km(i){if(i._initialized&&!i._terminated)throw new Nt(pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ii;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ee.Z)(function*(){try{yield(t=(0,ee.Z)(function*(o){if(!Qi.C())return Promise.resolve();const u=o+"main";yield Qi.delete(u)}),function(o){return t.apply(this,arguments)})(Gd(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class yg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Zv(i,e,t,o={}){var u;const f=(i=Mr(i,fc))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&Xn("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let v,C;if("string"==typeof o.mockUserToken)v=o.mockUserToken,C=be.MOCK_USER;else{v=(0,Ve.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const $=o.mockUserToken.sub||o.mockUserToken.user_id;if(!$)throw new Nt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new be($)}i._authCredentials=new ca(new ns(v,C))}}(this._delegate,e,t,o)}enableNetwork(){return function pl(i){return function Jp(i){return i.asyncQueue.enqueue((0,ee.Z)(function*(){const e=yield Qp(i),t=yield Af(i);return e.setNetworkEnabled(!0),function(o){const u=qt(o);return u.mu.delete(0),jc(u)}(t)}))}(Co(i=Mr(i,ki)))}(this._delegate)}disableNetwork(){return function n_(i){return function eg(i){return i.asyncQueue.enqueue((0,ee.Z)(function*(){const e=yield Qp(i),t=yield Af(i);return e.setNetworkEnabled(!1),(o=(0,ee.Z)(function*(u){const f=qt(u);f.mu.add(0),yield ic(f),f.pu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(Co(i=Mr(i,ki)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,$l("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function lg(i){return function(e){const t=new ii;return e.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function Kv(i,e){return Vp.apply(this,arguments)}(yield Mf(e),t)})),t.promise}(Co(i=Mr(i,ki)))}(this._delegate)}onSnapshotsInSync(e){return function h_(i,e){return function $m(i,e){const t=new dc(e);return i.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return o=yield hc(i),u=t,qt(o).vu.add(u),void u.next();var o,u})),()=>{t.Pc(),i.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return o=yield hc(i),u=t,void qt(o).vu.delete(u);var o,u}))}}(Co(i=Mr(i,ki)),Of(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Nt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new yc(this,ig(this._delegate,e))}catch(t){throw Gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new qa(this,fo(this._delegate,e))}catch(t){throw Gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zs(this,function Xv(i,e){if(i=Mr(i,fc),td("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nt(pt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _s(i,null,(t=e,new Gi(yr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function p_(i,e,t){i=Mr(i,ki);const o=Object.assign(Object.assign({},Ey),t);return function(u){if(u.maxAttempts<1)throw new Nt(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,f,v){const C=new ii;return u.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){const $=yield function Fm(i){return ih(i).then(e=>e.datastore)}(u);new qp(u.asyncQueue,$,v,f,C).run()})),C.promise}(Co(i),u=>e(new _h(i,u)),o)}(this._delegate,t=>e(new Sy(this,t)))}batch(){return Co(this._delegate),new Ay(new Iy(this._delegate,e=>ad(this._delegate,e)))}loadBundle(e){return function gl(i,e){const t=Co(i=Mr(i,ki)),o=new Jv;return function Vm(i,e,t,o){const u=function(f,v){let C;return C="string"==typeof f?(new TextEncoder).encode(f):f,$=function($,H){if($ instanceof Uint8Array)return nh($,H);if($ instanceof ArrayBuffer)return nh(new Uint8Array($),H);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new Yp($,v);var $}(t,rc(e));i.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){!function Yv(i,e,t){const o=qt(i);var u;(u=(0,ee.Z)(function*(f,v,C){try{const $=yield v.getMetadata();if(yield function(ut,Pt){const $t=qt(ut),_n=io(Pt.createTime);return $t.persistence.runTransaction("hasNewerBundle","readonly",Bn=>$t.Os.getBundleMetadata(Bn,Pt.id)).then(Bn=>!!Bn&&Bn.createTime.compareTo(_n)>=0)}(f.localStore,$))return yield v.close(),C._completeWith({taskState:"Success",documentsLoaded:(ut=$).totalDocuments,bytesLoaded:ut.totalBytes,totalDocuments:ut.totalDocuments,totalBytes:ut.totalBytes}),Promise.resolve(new Set);C._updateProgress(wm($));const H=new jv($,f.localStore,v.Tt);let te=yield v.yc();for(;te;){const ut=yield H.Bu(te);ut&&C._updateProgress(ut),te=yield v.yc()}const Ne=yield H.complete();return yield Vo(f,Ne.Uu,void 0),yield function(ut,Pt){const $t=qt(ut);return $t.persistence.runTransaction("Save bundle","readwrite",_n=>$t.Os.saveBundleMetadata(_n,Pt))}(f.localStore,$),C._completeWith(Ne.progress),Promise.resolve(Ne.qu)}catch($){return Xn("SyncEngine",`Loading bundle failed with ${$}`),C._failWith($),Promise.resolve(new Set)}var ut}),function(f,v,C){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Mf(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Ka(i,e){return function Um(i,e){return i.asyncQueue.enqueue((0,ee.Z)(function*(){return function(t,o){const u=qt(t);return u.persistence.runTransaction("Get named query","readonly",f=>u.Os.getNamedQuery(f,o))}(yield oh(i),e)}))}(Co(i=Mr(i,ki)),e).then(t=>t?new _s(i,null,t.query):null)}(this._delegate,e).then(t=>t?new zs(this,t):null)}}class Tu extends uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ud(new ml(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return qa.forKey(t,this.firestore,null)}}class Sy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Tu(e)}get(e){const t=vc(e);return this._delegate.get(t).then(o=>new Eh(this._firestore,new Ul(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=vc(e);return o?(Ty("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const f=vc(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,o,...u),this}delete(e){const t=vc(e);return this._delegate.delete(t),this}}class Ay{constructor(e){this._delegate=e}set(e,t,o){const u=vc(e);return o?(Ty("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const f=vc(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,o,...u),this}delete(e){const t=vc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class mc{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Cu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hl(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=mc.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let f=u.get(t);return f||(f=new mc(e,new Tu(e),t),u.set(t,f)),f}}mc.INSTANCES=new WeakMap;class qa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tu(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Nt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new qa(t,new zi(t._delegate,o,new Qt(e)))}static forKey(e,t,o){return new qa(t,new zi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new yc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new yc(this.firestore,ig(this._delegate,e))}catch(t){throw Gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ve.m9)(e))instanceof zi&&og(this._delegate,e)}set(e,t){t=Ty("DocumentReference.set",t);try{return t?my(this._delegate,e,t):my(this._delegate,e)}catch(o){throw Gs(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?yy(this._delegate,e):yy(this._delegate,e,t,...o)}catch(u){throw Gs(u,"updateDoc()","DocumentReference.update()")}}delete(){return function d_(i){return ad(Mr(i.firestore,ki),[new Sa(i._key,Ai.none())])}(this._delegate)}onSnapshot(...e){const t=vg(e),o=My(e,u=>new Eh(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return vy(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function c_(i){i=Mr(i,zi);const e=Mr(i.firestore,ki),t=Co(e),o=new jl(e);return function Lm(i,e){const t=new ii;return i.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return(o=(0,ee.Z)(function*(u,f,v){try{const C=yield function($,H){const te=qt($);return te.persistence.runTransaction("read document","readonly",Ne=>te.localDocuments.getDocument(Ne,H))}(u,f);C.isFoundDocument()?v.resolve(C):C.isNoDocument()?v.resolve(null):v.reject(new Nt(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const $=sc(C,`Failed to get document '${f} from cache`);v.reject($)}}),function(u,f,v){return o.apply(this,arguments)})(yield oh(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Ul(e,o,i._key,u,new xa(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function hy(i){i=Mr(i,zi);const e=Mr(i.firestore,ki);return tg(Co(e),i._key,{source:"server"}).then(t=>ld(e,i,t))}(this._delegate):function dy(i){i=Mr(i,zi);const e=Mr(i.firestore,ki);return tg(Co(e),i._key).then(t=>ld(e,i,t))}(this._delegate),t.then(o=>new Eh(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new qa(this.firestore,this._delegate.withConverter(e?mc.getInstance(this.firestore,e):null))}}function Gs(i,e,t){return i.message=i.message.replace(e,t),i}function vg(i){for(const e of i)if("object"==typeof e&&!cd(e))return e;return{}}function My(i,e){var t,o;let u;return u=cd(i[0])?i[0]:cd(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:f=>{u.next&&u.next(e(f))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Eh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return u_(this._delegate,e._delegate)}}class Hl extends Eh{data(e){const t=this._delegate.data(e);return function Ko(i,e){i||Bt()}(void 0!==t),t}}class zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tu(e)}where(e,t,o){try{return new zs(this.firestore,bu(this._delegate,function s_(i,e,t){const o=e,u=$f("where",i);return fh._create(u,o,t)}(e,t,o)))}catch(u){throw Gs(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zs(this.firestore,bu(this._delegate,function ey(i,e="asc"){const t=e,o=$f("orderBy",i);return Vf._create(o,t)}(e,t)))}catch(o){throw Gs(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zs(this.firestore,bu(this._delegate,function ty(i){return Rf("limit",i),ph._create("limit",i,"F")}(e)))}catch(t){throw Gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zs(this.firestore,bu(this._delegate,function ny(i){return Rf("limitToLast",i),ph._create("limitToLast",i,"L")}(e)))}catch(t){throw Gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zs(this.firestore,bu(this._delegate,function ry(...i){return gh._create("startAt",i,!0)}(...e)))}catch(t){throw Gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zs(this.firestore,bu(this._delegate,function iy(...i){return gh._create("startAfter",i,!1)}(...e)))}catch(t){throw Gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zs(this.firestore,bu(this._delegate,function oy(...i){return mh._create("endBefore",i,!1)}(...e)))}catch(t){throw Gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zs(this.firestore,bu(this._delegate,function sy(...i){return mh._create("endAt",i,!0)}(...e)))}catch(t){throw Gs(t,"endAt()","Query.endAt()")}}isEqual(e){return sg(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function py(i){i=Mr(i,_s);const e=Mr(i.firestore,ki),t=Co(e),o=new jl(e);return function Bm(i,e){const t=new ii;return i.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return(o=(0,ee.Z)(function*(u,f,v){try{const C=yield Wd(u,f,!0),$=new Sm(f,C.Yi),H=$.Hu(C.documents),te=$.applyChanges(H,!1);v.resolve(te.snapshot)}catch(C){const $=sc(C,`Failed to execute query '${f} against cache`);v.reject($)}}),function(u,f,v){return o.apply(this,arguments)})(yield oh(i),e,t);var o})),t.promise}(t,i._query).then(u=>new Ya(e,o,i,u))}(this._delegate):"server"===e?.source?function gy(i){i=Mr(i,_s);const e=Mr(i.firestore,ki),t=Co(e),o=new jl(e);return ng(t,i._query,{source:"server"}).then(u=>new Ya(e,o,i,u))}(this._delegate):function fy(i){i=Mr(i,_s);const e=Mr(i.firestore,ki),t=Co(e),o=new jl(e);return Jm(i._query),ng(t,i._query).then(u=>new Ya(e,o,i,u))}(this._delegate),t.then(o=>new _g(this.firestore,new Ya(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=vg(e),o=My(e,u=>new _g(this.firestore,new Ya(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return vy(this._delegate,t,o)}withConverter(e){return new zs(this.firestore,this._delegate.withConverter(e?mc.getInstance(this.firestore,e):null))}}class xy{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Hl(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _g{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hl(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new xy(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Hl(this._firestore,o))})}isEqual(e){return u_(this._delegate,e._delegate)}}class yc extends zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qa(this.firestore,e):null}doc(e){try{return new qa(this.firestore,void 0===e?fo(this._delegate):fo(this._delegate,e))}catch(t){throw Gs(t,"doc()","CollectionReference.doc()")}}add(e){return function vh(i,e){const t=Mr(i.firestore,ki),o=fo(i),u=yh(i.converter,e);return ad(t,[Pf(yl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Ai.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new qa(this.firestore,t))}isEqual(e){return og(this._delegate,e._delegate)}withConverter(e){return new yc(this.firestore,this._delegate.withConverter(e?mc.getInstance(this.firestore,e):null))}}function vc(i){return Mr(i,zi)}class jf{constructor(...e){this._delegate=new Vl(...e)}static documentId(){return new jf(Or.keyField().canonicalString())}isEqual(e){return(e=(0,Ve.m9)(e))instanceof Vl&&this._delegate._internalPath.isEqual(e._internalPath)}}class _c{constructor(e){this._delegate=e}static serverTimestamp(){const e=function m_(){return new uh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new _c(e)}static delete(){const e=function g_(){return new od("deleteField")}();return e._methodName="FieldValue.delete",new _c(e)}static arrayUnion(...e){const t=function Dy(...i){return new Nf("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new _c(t)}static arrayRemove(...e){const t=function by(...i){return new dg("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new _c(t)}static increment(e){const t=function wy(i){return new Xm("increment",i)}(e);return t._methodName="FieldValue.increment",new _c(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Eg={Firestore:yg,GeoPoint:id,Timestamp:Yr,Blob:ud,Transaction:Sy,WriteBatch:Ay,DocumentReference:qa,DocumentSnapshot:Eh,Query:zs,QueryDocumentSnapshot:Hl,QuerySnapshot:_g,CollectionReference:yc,FieldPath:jf,FieldValue:_c,setLogLevel:function b_(i){!function Er(i){Mt.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Ry(i){(function w_(i,e){i.INTERNAL.registerComponent(new Ke.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},Eg)))})(i,(e,t)=>new yg(e,t,new D_)),i.registerVersion("@firebase/firestore-compat","0.3.4")}(de.Z);var Gl=P(1205),C_=P(6217),T_=P(9260);function Hf(i,e){return function S_(i,e=k.z){return new x.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function Gf(i,e){return Hf(i,e).pipe((0,le.U)(t=>({payload:t,type:"query"})))}function zf(i,e){return Gf(i,e).pipe((0,ne.O)(void 0),ae(),(0,le.U)(([t,o])=>{const u=o.payload.docChanges(),f=u.map(v=>({type:v.type,payload:v}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((v,C)=>{const $=u.find(te=>te.doc.ref.isEqual(v.ref)),H=t?.payload.docs.find(te=>te.ref.isEqual(v.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(v.metadata)||!$&&H&&JSON.stringify(H.metadata)===JSON.stringify(v.metadata)||f.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:v}})}),f}))}function Oy(i,e,t){return zf(i,t).pipe((0,ue.R)((o,u)=>function M_(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function x_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ig(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ig(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ig(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(f=>f.payload),e),[]),(0,Oe.x)(),(0,le.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function Ig(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function Py(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Ny{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=zf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,le.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,ne.O)(void 0),ae(),(0,ke.h)(([o,u])=>u.length>0||!o),(0,le.U)(([o,u])=>u),pe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ue.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Py(e);return Oy(this.query,t,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(e={}){return Gf(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),pe.iC)}get(e){return(0,ie.D)(this.query.get(e)).pipe(pe.iC)}add(e){return this.ref.add(e)}doc(e){return new ky(this.ref.doc(e),this.afs)}}class ky{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:f}=$y(o,t);return new Ny(u,f,this.afs)}snapshotChanges(){return function A_(i,e){return Hf(i,e).pipe((0,ne.O)(void 0),ae(),(0,le.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,le.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ie.D)(this.ref.get(e)).pipe(pe.iC)}}class Fy{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zf(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,ke.h)(t=>t.length>0),pe.iC):zf(this.query,this.afs.schedulers.outsideAngular).pipe(pe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ue.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Py(e);return Oy(this.query,t,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(e={}){return Gf(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),pe.iC)}get(e){return(0,ie.D)(this.query.get(e)).pipe(pe.iC)}}const Dg=new a.OlP("angularfire2.enableFirestorePersistence"),Ly=new a.OlP("angularfire2.firestore.persistenceSettings"),R_=new a.OlP("angularfire2.firestore.settings"),By=new a.OlP("angularfire2.firestore.use-emulator");function $y(i,e=(t=>t)){return{query:e(i),ref:i}}let Vy=(()=>{class i{constructor(t,o,u,f,v,C,$,H,te,Ne,ut,Pt,$t,_n,Bn,Ii,Vi){this.schedulers=$;const zr=(0,Xe.on)(t,C,o),oo=te;Ne&&(0,Gl.nw)(zr,C,ut,$t,_n,Bn,Pt,Ii),[this.firestore,this.persistenceEnabled$]=(0,Xe.cc)(`${zr.name}.firestore`,"AngularFirestore",zr.name,()=>{const Zr=C.runOutsideAngular(()=>zr.firestore());if(f&&Zr.settings(f),oo&&Zr.useEmulator(...oo),u&&!(0,ht.PM)(v)){const oi=()=>{try{return(0,ie.D)(Zr.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(Uo){return typeof console<"u"&&console.warn(Uo),(0,Ie.of)(!1)}};return[Zr,C.runOutsideAngular(oi)]}return[Zr,(0,Ie.of)(!1)]},[f,oo,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:f,query:v}=$y(u,o),C=this.schedulers.ngZone.run(()=>f);return new Ny(C,v,this)}collectionGroup(t,o){const u=o||(v=>v),f=this.firestore.collectionGroup(t);return new Fy(u(f),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new ky(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(Xe.Dh),a.LFG(Xe.xv,8),a.LFG(Dg,8),a.LFG(R_,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(pe.HU),a.LFG(Ly,8),a.LFG(By,8),a.LFG(Gl.zQ,8),a.LFG(Gl.Qv,8),a.LFG(Gl.L6,8),a.LFG(Gl._Q,8),a.LFG(Gl.rT,8),a.LFG(Gl.lh,8),a.LFG(Gl.f7,8),a.LFG(C_.nm,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),O_=(()=>{class i{constructor(){T_.Z.registerVersion("angularfire",pe.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Dg,useValue:!0},{provide:Ly,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[Vy]}),i})()},2011:(zt,rt,P)=>{"use strict";P.d(rt,{Dh:()=>he,GT:()=>pe,cc:()=>ke,hO:()=>Oe,on:()=>ae,pX:()=>Ie,xv:()=>Te});var a=P(4650),k=P(9260),x=P(2122);zt=P.hmd(zt);const ie=["ngOnDestroy"],Ie=(de,ee,Ze,Ke={})=>new Proxy(de,{get:(je,Ve)=>Ze.runOutsideAngular(()=>{var _e;if(de[Ve])return!(null===(_e=Ke?.spy)||void 0===_e)&&_e.get&&Ke.spy.get(Ve,de[Ve]),de[Ve];if(ie.indexOf(Ve)>-1)return()=>{};const De=ee.toPromise().then(z=>{const Be=z&&z[Ve];return"function"==typeof Be?Be.bind(z):Be&&Be.then?Be.then(X=>Ze.run(()=>X)):Ze.run(()=>Be)});return new Proxy(()=>{},{get:(z,Be)=>De[Be],apply:(z,Be,X)=>De.then(Ce=>{var se;const xe=Ce&&Ce(...X);return!(null===(se=Ke?.spy)||void 0===se)&&se.apply&&Ke.spy.apply(Ve,X,xe),xe})})})}),pe=(de,ee)=>{ee.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Ke=>{Object.defineProperty(de.prototype,Ke,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Ke))})})};class ne{constructor(ee){return ee}}const he=new a.OlP("angularfire2.app.options"),Te=new a.OlP("angularfire2.app.name");function ae(de,ee,Ze){const je="object"==typeof Ze&&Ze||{};je.name=je.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const _e=k.Z.apps.filter(De=>De&&De.name===je.name)[0]||ee.runOutsideAngular(()=>k.Z.initializeApp(de,je));try{JSON.stringify(de)!==JSON.stringify(_e.options)&&le("error",`${_e.name} Firebase App already initialized with different options${zt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne(_e)}const le=(de,...ee)=>{(0,a.X6Q)()&&typeof console<"u"&&console[de](...ee)},ue={provide:ne,useFactory:ae,deps:[he,a.R0b,[new a.FiY,Te]]};let Oe=(()=>{class de{constructor(Ze){k.Z.registerVersion("angularfire",x.q4.full,"core"),k.Z.registerVersion("angularfire",x.q4.full,"app-compat"),k.Z.registerVersion("angular",a.q4F.full,Ze.toString())}static initializeApp(Ze,Ke){return{ngModule:de,providers:[{provide:he,useValue:Ze},{provide:Te,useValue:Ke}]}}}return de.\u0275fac=function(Ze){return new(Ze||de)(a.LFG(a.Lbi))},de.\u0275mod=a.oAB({type:de}),de.\u0275inj=a.cJS({providers:[ue]}),de})();function ke(de,ee,Ze,Ke,je){const[,Ve,_e]=globalThis.\u0275AngularfireInstanceCache.find(De=>De[0]===de)||[];if(Ve)return function Xe(de,ee){try{return de.toString()===ee.toString()}catch{return de===ee}}(je,_e)||(we("error",`${ee} was already initialized on the ${Ze} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:je,was:_e})),Ve;{const De=Ke();return globalThis.\u0275AngularfireInstanceCache.push([de,De,je]),De}}const ht=!!zt.hot,we=(de,...ee)=>{(0,a.X6Q)()&&typeof console<"u"&&console[de](...ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(zt,rt,P)=>{"use strict";P.d(rt,{q4:()=>Ji,iC:()=>xt,HU:()=>_,vb:()=>ea,JM:()=>Gr});var a=P(4650),k=P(259),x=P(5861),ie=P(9681),Ie=P(2090),pe=P(4859),ne=P(1877),he=P(8766);const Te="@firebase/installations",ae="0.6.4",le=1e4,ue=`w:${ae}`,Oe="FIS_v2",ke="https://firebaseinstallations.googleapis.com/v1",Xe=36e5,ee=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ze(O){return O instanceof Ie.ZR&&O.code.includes("request-failed")}function Ke({projectId:O}){return`${ke}/projects/${O}/installations`}function je(O){return{token:O.token,requestStatus:2,expiresIn:Ce(O.expiresIn),creationTime:Date.now()}}function Ve(O,B){return _e.apply(this,arguments)}function _e(){return(_e=(0,x.Z)(function*(O,B){const Ee=(yield B.json()).error;return ee.create("request-failed",{requestName:O,serverCode:Ee.code,serverMessage:Ee.message,serverStatus:Ee.status})})).apply(this,arguments)}function De({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function Be(O){return X.apply(this,arguments)}function X(){return(X=(0,x.Z)(function*(O){const B=yield O();return B.status>=500&&B.status<600?O():B})).apply(this,arguments)}function Ce(O){return Number(O.replace("s","000"))}function Se(){return(Se=(0,x.Z)(function*({appConfig:O,heartbeatServiceProvider:B},{fid:K}){const Ee=Ke(O),nt=De(O),gt=B.getImmediate({optional:!0});if(gt){const Un=yield gt.getHeartbeatsHeader();Un&&nt.append("x-firebase-client",Un)}const yn={method:"POST",headers:nt,body:JSON.stringify({fid:K,authVersion:Oe,appId:O.appId,sdkVersion:ue})},Rn=yield Be(()=>fetch(Ee,yn));if(Rn.ok){const Un=yield Rn.json();return{fid:Un.fid||K,registrationStatus:2,refreshToken:Un.refreshToken,authToken:je(Un.authToken)}}throw yield Ve("Create Installation",Rn)})).apply(this,arguments)}function We(O){return new Promise(B=>{setTimeout(B,O)})}const fe=/^[cdef][\w-]{21}$/,me="";function ye(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const K=function ze(O){return function Ge(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return fe.test(K)?K:me}catch{return me}}function Re(O){return`${O.appName}!${O.appId}`}const Ye=new Map;function Fe(O,B){const K=Re(O);bt(K,B),function Yt(O,B){const K=function hn(){return!_t&&"BroadcastChannel"in self&&(_t=new BroadcastChannel("[Firebase] FID Change"),_t.onmessage=O=>{bt(O.data.key,O.data.fid)}),_t}();K&&K.postMessage({key:O,fid:B}),function In(){0===Ye.size&&_t&&(_t.close(),_t=null)}()}(K,B)}function bt(O,B){const K=Ye.get(O);if(K)for(const Ee of K)Ee(B)}let _t=null;const Cn="firebase-installations-database",Kt=1,jn="firebase-installations-store";let er=null;function hr(){return er||(er=(0,he.X3)(Cn,Kt,{upgrade:(O,B)=>{0===B&&O.createObjectStore(jn)}})),er}function pn(O,B){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,x.Z)(function*(O,B){const K=Re(O),nt=(yield hr()).transaction(jn,"readwrite"),gt=nt.objectStore(jn),Vt=yield gt.get(K);return yield gt.put(B,K),yield nt.done,(!Vt||Vt.fid!==B.fid)&&Fe(O,B.fid),B})).apply(this,arguments)}function Lt(O){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,x.Z)(function*(O){const B=Re(O),Ee=(yield hr()).transaction(jn,"readwrite");yield Ee.objectStore(jn).delete(B),yield Ee.done})).apply(this,arguments)}function gr(O,B){return mr.apply(this,arguments)}function mr(){return(mr=(0,x.Z)(function*(O,B){const K=Re(O),nt=(yield hr()).transaction(jn,"readwrite"),gt=nt.objectStore(jn),Vt=yield gt.get(K),yn=B(Vt);return void 0===yn?yield gt.delete(K):yield gt.put(yn,K),yield nt.done,yn&&(!Vt||Vt.fid!==yn.fid)&&Fe(O,yn.fid),yn})).apply(this,arguments)}function $r(O){return sr.apply(this,arguments)}function sr(){return sr=(0,x.Z)(function*(O){let B;const K=yield gr(O.appConfig,Ee=>{const nt=function fn(O){return Vr(O||{fid:ye(),registrationStatus:0})}(Ee),gt=function on(O,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(ee.create("app-offline"))};const K={fid:B.fid,registrationStatus:1,registrationTime:Date.now()},Ee=function un(O,B){return Xr.apply(this,arguments)}(O,K);return{installationEntry:K,registrationPromise:Ee}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:ln(O)}:{installationEntry:B}}(O,nt);return B=gt.registrationPromise,gt.installationEntry});return K.fid===me?{installationEntry:yield B}:{installationEntry:K,registrationPromise:B}}),sr.apply(this,arguments)}function Xr(){return Xr=(0,x.Z)(function*(O,B){try{const K=yield function xe(O,B){return Se.apply(this,arguments)}(O,B);return pn(O.appConfig,K)}catch(K){throw Ze(K)&&409===K.customData.serverCode?yield Lt(O.appConfig):yield pn(O.appConfig,{fid:B.fid,registrationStatus:0}),K}}),Xr.apply(this,arguments)}function ln(O){return vr.apply(this,arguments)}function vr(){return(vr=(0,x.Z)(function*(O){let B=yield Ot(O.appConfig);for(;1===B.registrationStatus;)yield We(100),B=yield Ot(O.appConfig);if(0===B.registrationStatus){const{installationEntry:K,registrationPromise:Ee}=yield $r(O);return Ee||K}return B})).apply(this,arguments)}function Ot(O){return gr(O,B=>{if(!B)throw ee.create("installation-not-found");return Vr(B)})}function Vr(O){return function fi(O){return 1===O.registrationStatus&&O.registrationTime+le<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Ur(){return(Ur=(0,x.Z)(function*({appConfig:O,heartbeatServiceProvider:B},K){const Ee=function $n(O,{fid:B}){return`${Ke(O)}/${B}/authTokens:generate`}(O,K),nt=function z(O,{refreshToken:B}){const K=De(O);return K.append("Authorization",function se(O){return`${Oe} ${O}`}(B)),K}(O,K),gt=B.getImmediate({optional:!0});if(gt){const Un=yield gt.getHeartbeatsHeader();Un&&nt.append("x-firebase-client",Un)}const yn={method:"POST",headers:nt,body:JSON.stringify({installation:{sdkVersion:ue,appId:O.appId}})},Rn=yield Be(()=>fetch(Ee,yn));if(Rn.ok)return je(yield Rn.json());throw yield Ve("Generate Auth Token",Rn)})).apply(this,arguments)}function Sn(O){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,x.Z)(function*(O,B=!1){let K;const Ee=yield gr(O.appConfig,gt=>{if(!bn(gt))throw ee.create("not-registered");const Vt=gt.authToken;if(!B&&function ar(O){return 2===O.requestStatus&&!function Ae(O){const B=Date.now();return B<O.creationTime||O.creationTime+O.expiresIn<B+Xe}(O)}(Vt))return gt;if(1===Vt.requestStatus)return K=function Gt(O,B){return Ct.apply(this,arguments)}(O,B),gt;{if(!navigator.onLine)throw ee.create("app-offline");const yn=function ge(O){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:B})}(gt);return K=function gn(O,B){return Dn.apply(this,arguments)}(O,yn),yn}});return K?yield K:Ee.authToken}),Fr.apply(this,arguments)}function Ct(){return(Ct=(0,x.Z)(function*(O,B){let K=yield Jt(O.appConfig);for(;1===K.authToken.requestStatus;)yield We(100),K=yield Jt(O.appConfig);const Ee=K.authToken;return 0===Ee.requestStatus?Sn(O,B):Ee})).apply(this,arguments)}function Jt(O){return gr(O,B=>{if(!bn(B))throw ee.create("not-registered");return function $e(O){return 1===O.requestStatus&&O.requestTime+le<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function Dn(){return Dn=(0,x.Z)(function*(O,B){try{const K=yield function tr(O,B){return Ur.apply(this,arguments)}(O,B),Ee=Object.assign(Object.assign({},B),{authToken:K});return yield pn(O.appConfig,Ee),K}catch(K){if(!Ze(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const Ee=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield pn(O.appConfig,Ee)}else yield Lt(O.appConfig);throw K}}),Dn.apply(this,arguments)}function bn(O){return void 0!==O&&2===O.registrationStatus}function lt(){return(lt=(0,x.Z)(function*(O){const B=O,{installationEntry:K,registrationPromise:Ee}=yield $r(B);return Ee?Ee.catch(console.error):Sn(B).catch(console.error),K.fid})).apply(this,arguments)}function Pe(){return Pe=(0,x.Z)(function*(O,B=!1){const K=O;return yield function Le(O){return ce.apply(this,arguments)}(K),(yield Sn(K,B)).token}),Pe.apply(this,arguments)}function ce(){return(ce=(0,x.Z)(function*(O){const{registrationPromise:B}=yield $r(O);B&&(yield B)})).apply(this,arguments)}function vi(O){return ee.create("missing-app-config-values",{valueName:O})}const Lr="installations",ir=O=>{const B=O.getProvider("app").getImmediate(),K=function Qr(O){if(!O||!O.options)throw vi("App Configuration");if(!O.name)throw vi("App Name");const B=["projectId","apiKey","appId"];for(const K of B)if(!O.options[K])throw vi(K);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(B);return{app:B,appConfig:K,heartbeatServiceProvider:(0,ie._getProvider)(B,"heartbeat"),_delete:()=>Promise.resolve()}},Mi=O=>{const B=O.getProvider("app").getImmediate(),K=(0,ie._getProvider)(B,Lr).getImmediate();return{getId:()=>function Et(O){return lt.apply(this,arguments)}(K),getToken:nt=>function Zt(O){return Pe.apply(this,arguments)}(K,nt)}};(function pi(){(0,ie._registerComponent)(new pe.wA(Lr,ir,"PUBLIC")),(0,ie._registerComponent)(new pe.wA("installations-internal",Mi,"PRIVATE"))})(),(0,ie.registerVersion)(Te,ae),(0,ie.registerVersion)(Te,ae,"esm2017");const On="@firebase/remote-config",nr=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class cn{constructor(B,K,Ee,nt){this.client=B,this.storage=K,this.storageCache=Ee,this.logger=nt}isCachedDataFresh(B,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ee=Date.now()-K,nt=Ee<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${nt}.`),nt}fetch(B){var K=this;return(0,x.Z)(function*(){const[Ee,nt]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(nt&&K.isCachedDataFresh(B.cacheMaxAgeMillis,Ee))return nt;B.eTag=nt&&nt.eTag;const gt=yield K.client.fetch(B),Vt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===gt.status&&Vt.push(K.storage.setLastSuccessfulFetchResponse(gt)),yield Promise.all(Vt),gt})()}}function mn(O=navigator){return O.languages&&O.languages[0]||O.language}class Mn{constructor(B,K,Ee,nt,gt,Vt){this.firebaseInstallations=B,this.sdkVersion=K,this.namespace=Ee,this.projectId=nt,this.apiKey=gt,this.appId=Vt}fetch(B){var K=this;return(0,x.Z)(function*(){const[Ee,nt]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),Vt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,yn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},Rn={sdk_version:K.sdkVersion,app_instance_id:Ee,app_instance_id_token:nt,app_id:K.appId,language_code:mn()},Un={method:"POST",headers:yn,body:JSON.stringify(Rn)},Ar=fetch(Vt,Un),Gn=new Promise((to,xs)=>{B.signal.addEventListener(()=>{const nl=new Error("The operation was aborted.");nl.name="AbortError",xs(nl)})});let Yo;try{yield Promise.race([Ar,Gn]),Yo=yield Ar}catch(to){let xs="fetch-client-network";throw"AbortError"===to?.name&&(xs="fetch-timeout"),nr.create(xs,{originalErrorMessage:to?.message})}let bo=Yo.status;const tl=Yo.headers.get("ETag")||void 0;let wr,kr;if(200===Yo.status){let to;try{to=yield Yo.json()}catch(xs){throw nr.create("fetch-client-parse",{originalErrorMessage:xs?.message})}wr=to.entries,kr=to.state}if("INSTANCE_STATE_UNSPECIFIED"===kr?bo=500:"NO_CHANGE"===kr?bo=304:("NO_TEMPLATE"===kr||"EMPTY_CONFIG"===kr)&&(wr={}),304!==bo&&200!==bo)throw nr.create("fetch-status",{httpStatus:bo});return{status:bo,eTag:tl,config:wr}})()}}class He{constructor(B,K){this.client=B,this.storage=K}fetch(B){var K=this;return(0,x.Z)(function*(){const Ee=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(B,Ee)})()}attemptFetch(B,{throttleEndTimeMillis:K,backoffCount:Ee}){var nt=this;return(0,x.Z)(function*(){yield function Hr(O,B){return new Promise((K,Ee)=>{const nt=Math.max(B-Date.now(),0),gt=setTimeout(K,nt);O.addEventListener(()=>{clearTimeout(gt),Ee(nr.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,K);try{const gt=yield nt.client.fetch(B);return yield nt.storage.deleteThrottleMetadata(),gt}catch(gt){if(!function qe(O){if(!(O instanceof Ie.ZR&&O.customData))return!1;const B=Number(O.customData.httpStatus);return 429===B||500===B||503===B||504===B}(gt))throw gt;const Vt={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(Ee),backoffCount:Ee+1};return yield nt.storage.setThrottleMetadata(Vt),nt.attemptFetch(B,Vt)}})()}}class Ht{constructor(B,K,Ee,nt,gt){this.app=B,this._client=K,this._storageCache=Ee,this._storage=nt,this._logger=gt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sn(O,B){const K=O.target.error||void 0;return nr.create(B,{originalErrorMessage:K&&K?.message})}const Vn="app_namespace_store";class Ri{constructor(B,K,Ee,nt=function xi(){return new Promise((O,B)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=Ee=>{B(sn(Ee,"storage-open"))},K.onsuccess=Ee=>{O(Ee.target.result)},K.onupgradeneeded=Ee=>{0===Ee.oldVersion&&Ee.target.result.createObjectStore(Vn,{keyPath:"compositeKey"})}}catch(K){B(nr.create("storage-open",{originalErrorMessage:K?.message}))}})}()){this.appId=B,this.appName=K,this.namespace=Ee,this.openDbPromise=nt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var K=this;return(0,x.Z)(function*(){const Ee=yield K.openDbPromise;return new Promise((nt,gt)=>{const yn=Ee.transaction([Vn],"readonly").objectStore(Vn),Rn=K.createCompositeKey(B);try{const Un=yn.get(Rn);Un.onerror=Ar=>{gt(sn(Ar,"storage-get"))},Un.onsuccess=Ar=>{const Gn=Ar.target.result;nt(Gn?Gn.value:void 0)}}catch(Un){gt(nr.create("storage-get",{originalErrorMessage:Un?.message}))}})})()}set(B,K){var Ee=this;return(0,x.Z)(function*(){const nt=yield Ee.openDbPromise;return new Promise((gt,Vt)=>{const Rn=nt.transaction([Vn],"readwrite").objectStore(Vn),Un=Ee.createCompositeKey(B);try{const Ar=Rn.put({compositeKey:Un,value:K});Ar.onerror=Gn=>{Vt(sn(Gn,"storage-set"))},Ar.onsuccess=()=>{gt()}}catch(Ar){Vt(nr.create("storage-set",{originalErrorMessage:Ar?.message}))}})})()}delete(B){var K=this;return(0,x.Z)(function*(){const Ee=yield K.openDbPromise;return new Promise((nt,gt)=>{const yn=Ee.transaction([Vn],"readwrite").objectStore(Vn),Rn=K.createCompositeKey(B);try{const Un=yn.delete(Rn);Un.onerror=Ar=>{gt(sn(Ar,"storage-delete"))},Un.onsuccess=()=>{nt()}}catch(Un){gt(nr.create("storage-delete",{originalErrorMessage:Un?.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class ai{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,x.Z)(function*(){const K=B.storage.getLastFetchStatus(),Ee=B.storage.getLastSuccessfulFetchTimestampMillis(),nt=B.storage.getActiveConfig(),gt=yield K;gt&&(B.lastFetchStatus=gt);const Vt=yield Ee;Vt&&(B.lastSuccessfulFetchTimestampMillis=Vt);const yn=yield nt;yn&&(B.activeConfig=yn)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function To(){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,x.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}!function hi(){(0,ie._registerComponent)(new pe.wA("remote-config",function O(B,{instanceIdentifier:K}){const Ee=B.getProvider("app").getImmediate(),nt=B.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw nr.create("registration-window");if(!(0,Ie.hl)())throw nr.create("indexed-db-unavailable");const{projectId:gt,apiKey:Vt,appId:yn}=Ee.options;if(!gt)throw nr.create("registration-project-id");if(!Vt)throw nr.create("registration-api-key");if(!yn)throw nr.create("registration-app-id");const Rn=new Ri(yn,Ee.name,K=K||"firebase"),Un=new ai(Rn),Ar=new ne.Yd(On);Ar.logLevel=ne.in.ERROR;const Gn=new Mn(nt,ie.SDK_VERSION,K,gt,Vt,yn),Yo=new He(Gn,Rn),bo=new cn(Yo,Rn,Un,Ar),tl=new Ht(Ee,bo,Un,Rn,Ar);return function oe(O){const B=(0,Ie.m9)(O);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(tl),tl},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(On,"0.4.4"),(0,ie.registerVersion)(On,"0.4.4","esm2017")}();const jo="/firebase-messaging-sw.js",Wi="/firebase-cloud-messaging-push-scope",Di="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bi="https://fcmregistrations.googleapis.com/v1",So="google.c.a.c_id",cs="google.c.a.c_l",mo="google.c.a.ts",Ui="google.c.a.e";var yo=(()=>{return(O=yo||(yo={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",yo;var O})();function Oi(O){const B=new Uint8Array(O);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Es(O){const K=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ee=atob(K),nt=new Uint8Array(Ee.length);for(let gt=0;gt<Ee.length;++gt)nt[gt]=Ee.charCodeAt(gt);return nt}const Ao="fcm_token_details_db",Mo=5,ni="fcm_token_object_Store";function Ho(){return Ho=(0,x.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(gt=>gt.name).includes(Ao))return null;let B=null;return(yield(0,he.X3)(Ao,Mo,{upgrade:(Ee=(0,x.Z)(function*(nt,gt,Vt,yn){var Rn;if(gt<2||!nt.objectStoreNames.contains(ni))return;const Un=yn.objectStore(ni),Ar=yield Un.index("fcmSenderId").get(O);if(yield Un.clear(),Ar)if(2===gt){const Gn=Ar;if(!Gn.auth||!Gn.p256dh||!Gn.endpoint)return;B={token:Gn.fcmToken,createTime:null!==(Rn=Gn.createTime)&&void 0!==Rn?Rn:Date.now(),subscriptionOptions:{auth:Gn.auth,p256dh:Gn.p256dh,endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:"string"==typeof Gn.vapidKey?Gn.vapidKey:Oi(Gn.vapidKey)}}}else if(3===gt){const Gn=Ar;B={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:Oi(Gn.auth),p256dh:Oi(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:Oi(Gn.vapidKey)}}}else if(4===gt){const Gn=Ar;B={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:Oi(Gn.auth),p256dh:Oi(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:Oi(Gn.vapidKey)}}}}),function(gt,Vt,yn,Rn){return Ee.apply(this,arguments)})})).close(),yield(0,he.Lj)(Ao),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),function wi(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:B}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}(B)?B:null;var Ee}),Ho.apply(this,arguments)}const es="firebase-messaging-database",br=1,gi="firebase-messaging-store";let vo=null;function Yi(){return vo||(vo=(0,he.X3)(es,br,{upgrade:(O,B)=>{0===B&&O.createObjectStore(gi)}})),vo}function xo(O){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,x.Z)(function*(O){const B=Fi(O),Ee=yield(yield Yi()).transaction(gi).objectStore(gi).get(B);if(Ee)return Ee;{const nt=yield function Pi(O){return Ho.apply(this,arguments)}(O.appConfig.senderId);if(nt)return yield ji(O,nt),nt}}),Ni.apply(this,arguments)}function ji(O,B){return qi.apply(this,arguments)}function qi(){return(qi=(0,x.Z)(function*(O,B){const K=Fi(O),nt=(yield Yi()).transaction(gi,"readwrite");return yield nt.objectStore(gi).put(B,K),yield nt.done,B})).apply(this,arguments)}function _i(){return(_i=(0,x.Z)(function*(O){const B=Fi(O),Ee=(yield Yi()).transaction(gi,"readwrite");yield Ee.objectStore(gi).delete(B),yield Ee.done})).apply(this,arguments)}function Fi({appConfig:O}){return O.appId}const Jn=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _o(O,B){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,x.Z)(function*(O,B){const K=yield Ds(O),Ee=ao(B),nt={method:"POST",headers:K,body:JSON.stringify(Ee)};let gt;try{gt=yield(yield fetch(ri(O.appConfig),nt)).json()}catch(Vt){throw Jn.create("token-subscribe-failed",{errorInfo:Vt?.toString()})}if(gt.error)throw Jn.create("token-subscribe-failed",{errorInfo:gt.error.message});if(!gt.token)throw Jn.create("token-subscribe-no-token");return gt.token})).apply(this,arguments)}function Is(){return(Is=(0,x.Z)(function*(O,B){const K=yield Ds(O),Ee=ao(B.subscriptionOptions),nt={method:"PATCH",headers:K,body:JSON.stringify(Ee)};let gt;try{gt=yield(yield fetch(`${ri(O.appConfig)}/${B.token}`,nt)).json()}catch(Vt){throw Jn.create("token-update-failed",{errorInfo:Vt?.toString()})}if(gt.error)throw Jn.create("token-update-failed",{errorInfo:gt.error.message});if(!gt.token)throw Jn.create("token-update-no-token");return gt.token})).apply(this,arguments)}function zo(O,B){return Li.apply(this,arguments)}function Li(){return(Li=(0,x.Z)(function*(O,B){const Ee={method:"DELETE",headers:yield Ds(O)};try{const gt=yield(yield fetch(`${ri(O.appConfig)}/${B}`,Ee)).json();if(gt.error)throw Jn.create("token-unsubscribe-failed",{errorInfo:gt.error.message})}catch(nt){throw Jn.create("token-unsubscribe-failed",{errorInfo:nt?.toString()})}})).apply(this,arguments)}function ri({projectId:O}){return`${bi}/projects/${O}/registrations`}function Ds(O){return Io.apply(this,arguments)}function Io(){return(Io=(0,x.Z)(function*({appConfig:O,installations:B}){const K=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function ao({p256dh:O,auth:B,endpoint:K,vapidKey:Ee}){const nt={web:{endpoint:K,auth:B,p256dh:O}};return Ee!==Di&&(nt.web.applicationPubKey=Ee),nt}const Kr=6048e5;function Do(){return Do=(0,x.Z)(function*(O){const B=yield function lo(O,B){return Ro.apply(this,arguments)}(O.swRegistration,O.vapidKey),K={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:B.endpoint,auth:Oi(B.getKey("auth")),p256dh:Oi(B.getKey("p256dh"))},Ee=yield xo(O.firebaseDependencies);if(Ee){if(function Os(O,B){return B.vapidKey===O.vapidKey&&B.endpoint===O.endpoint&&B.auth===O.auth&&B.p256dh===O.p256dh}(Ee.subscriptionOptions,K))return Date.now()>=Ee.createTime+Kr?function Ks(O,B){return bs.apply(this,arguments)}(O,{token:Ee.token,createTime:Date.now(),subscriptionOptions:K}):Ee.token;try{yield zo(O.firebaseDependencies,Ee.token)}catch(nt){console.warn(nt)}return ts(O.firebaseDependencies,K)}return ts(O.firebaseDependencies,K)}),Do.apply(this,arguments)}function hs(){return hs=(0,x.Z)(function*(O){const B=yield xo(O.firebaseDependencies);B&&(yield zo(O.firebaseDependencies,B.token),yield function Go(O){return _i.apply(this,arguments)}(O.firebaseDependencies));const K=yield O.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()}),hs.apply(this,arguments)}function bs(){return bs=(0,x.Z)(function*(O,B){try{const K=yield function Wr(O,B){return Is.apply(this,arguments)}(O.firebaseDependencies,B),Ee=Object.assign(Object.assign({},B),{token:K,createTime:Date.now()});return yield ji(O.firebaseDependencies,Ee),K}catch(K){throw yield function Ln(O){return hs.apply(this,arguments)}(O),K}}),bs.apply(this,arguments)}function ts(O,B){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,x.Z)(function*(O,B){const Ee={token:yield _o(O,B),createTime:Date.now(),subscriptionOptions:B};return yield ji(O,Ee),Ee.token})).apply(this,arguments)}function Ro(){return(Ro=(0,x.Z)(function*(O,B){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Es(B)})})).apply(this,arguments)}function Ft(O){const B={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function Zn(O,B){if(!B.notification)return;O.notification={};const K=B.notification.title;K&&(O.notification.title=K);const Ee=B.notification.body;Ee&&(O.notification.body=Ee);const nt=B.notification.image;nt&&(O.notification.image=nt);const gt=B.notification.icon;gt&&(O.notification.icon=gt)}(B,O),function F(O,B){B.data&&(O.data=B.data)}(B,O),function d(O,B){var K,Ee,nt,gt,Vt;if(!(B.fcmOptions||null!==(K=B.notification)&&void 0!==K&&K.click_action))return;O.fcmOptions={};const yn=null!==(nt=null===(Ee=B.fcmOptions)||void 0===Ee?void 0:Ee.link)&&void 0!==nt?nt:null===(gt=B.notification)||void 0===gt?void 0:gt.click_action;yn&&(O.fcmOptions.link=yn);const Rn=null===(Vt=B.fcmOptions)||void 0===Vt?void 0:Vt.analytics_label;Rn&&(O.fcmOptions.analyticsLabel=Rn)}(B,O),B}function p(O,B){const K=[];for(let Ee=0;Ee<O.length;Ee++)K.push(O.charAt(Ee)),Ee<B.length&&K.push(B.charAt(Ee));return K.join("")}function G(O){return Jn.create("missing-app-config-values",{valueName:O})}p("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),p("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class at{constructor(B,K,Ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const nt=function S(O){if(!O||!O.options)throw G("App Configuration Object");if(!O.name)throw G("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:K}=O;for(const Ee of B)if(!K[Ee])throw G(Ee);return{appName:O.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:nt,installations:K,analyticsProvider:Ee}}_delete(){return Promise.resolve()}}function Ut(O){return rn.apply(this,arguments)}function rn(){return(rn=(0,x.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(jo,{scope:Wi}),O.swRegistration.update().catch(()=>{})}catch(B){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:B?.message})}})).apply(this,arguments)}function or(){return(or=(0,x.Z)(function*(O,B){if(!B&&!O.swRegistration&&(yield Ut(O)),B||!O.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");O.swRegistration=B}})).apply(this,arguments)}function pr(){return(pr=(0,x.Z)(function*(O,B){B?O.vapidKey=B:O.vapidKey||(O.vapidKey=Di)})).apply(this,arguments)}function ci(){return ci=(0,x.Z)(function*(O,B){if(!navigator)throw Jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jn.create("permission-blocked");return yield function kn(O,B){return pr.apply(this,arguments)}(O,B?.vapidKey),yield function xn(O,B){return or.apply(this,arguments)}(O,B?.serviceWorkerRegistration),function ds(O){return Do.apply(this,arguments)}(O)}),ci.apply(this,arguments)}function ws(){return(ws=(0,x.Z)(function*(O,B,K){const Ee=function Oo(O){switch(O){case yo.NOTIFICATION_CLICKED:return"notification_open";case yo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(B);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(Ee,{message_id:K[So],message_name:K[cs],message_time:K[mo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sa(){return sa=(0,x.Z)(function*(O,B){const K=B.data;if(!K.isFirebaseMessaging)return;O.onMessageHandler&&K.messageType===yo.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(Ft(K)):O.onMessageHandler.next(Ft(K)));const Ee=K.data;(function y(O){return"object"==typeof O&&!!O&&So in O})(Ee)&&"1"===Ee[Ui]&&(yield function Nr(O,B,K){return ws.apply(this,arguments)}(O,K.messageType,Ee))}),sa.apply(this,arguments)}const Ps="@firebase/messaging",Oa=O=>{const B=new at(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function oa(O,B){return sa.apply(this,arguments)}(B,K)),B},Zi=O=>{const B=O.getProvider("messaging").getImmediate();return{getToken:Ee=>function Ei(O,B){return ci.apply(this,arguments)}(B,Ee)}};function aa(){return fs.apply(this,arguments)}function fs(){return(fs=(0,x.Z)(function*(){try{yield(0,Ie.eu)()}catch{return!1}return typeof window<"u"&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pa(){(0,ie._registerComponent)(new pe.wA("messaging",Oa,"PUBLIC")),(0,ie._registerComponent)(new pe.wA("messaging-internal",Zi,"PRIVATE")),(0,ie.registerVersion)(Ps,"0.12.4"),(0,ie.registerVersion)(Ps,"0.12.4","esm2017")}();const Po="analytics",li="firebase_id",Ns="origin",Xi=6e4,ks="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ia="https://www.googletagmanager.com/gtag/js",mi=new ne.Yd("@firebase/analytics");function _l(O){return Promise.all(O.map(B=>B.catch(K=>K)))}function Zs(){return(Zs=(0,x.Z)(function*(O,B,K,Ee,nt,gt){const Vt=Ee[nt];try{if(Vt)yield B[Vt];else{const Rn=(yield _l(K)).find(Un=>Un.measurementId===nt);Rn&&(yield B[Rn.appId])}}catch(yn){mi.error(yn)}O("config",nt,gt)})).apply(this,arguments)}function M(){return(M=(0,x.Z)(function*(O,B,K,Ee,nt){try{let gt=[];if(nt&&nt.send_to){let Vt=nt.send_to;Array.isArray(Vt)||(Vt=[Vt]);const yn=yield _l(K);for(const Rn of Vt){const Un=yn.find(Gn=>Gn.measurementId===Rn),Ar=Un&&B[Un.appId];if(!Ar){gt=[];break}gt.push(Ar)}}0===gt.length&&(gt=Object.values(B)),yield Promise.all(gt),O("event",Ee,nt||{})}catch(gt){mi.error(gt)}})).apply(this,arguments)}const ct=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Mt=30,Tt=new class Er{constructor(B={},K=1e3){this.throttleMetadata=B,this.intervalMillis=K}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,K){this.throttleMetadata[B]=K}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function zn(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function ui(){return(ui=(0,x.Z)(function*(O){var B;const{appId:K,apiKey:Ee}=O,nt={method:"GET",headers:zn(Ee)},gt=ks.replace("{app-id}",K),Vt=yield fetch(gt,nt);if(200!==Vt.status&&304!==Vt.status){let yn="";try{const Rn=yield Vt.json();null!==(B=Rn.error)&&void 0!==B&&B.message&&(yn=Rn.error.message)}catch{}throw ct.create("config-fetch-failed",{httpStatus:Vt.status,responseMessage:yn})}return Vt.json()})).apply(this,arguments)}function tn(){return(tn=(0,x.Z)(function*(O,B=Tt,K){const{appId:Ee,apiKey:nt,measurementId:gt}=O.options;if(!Ee)throw ct.create("no-app-id");if(!nt){if(gt)return{measurementId:gt,appId:Ee};throw ct.create("no-api-key")}const Vt=B.getThrottleMetadata(Ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},yn=new ii;return setTimeout((0,x.Z)(function*(){yn.abort()}),void 0!==K?K:Xi),Ko({appId:Ee,apiKey:nt,measurementId:gt},Vt,yn,B)})).apply(this,arguments)}function Ko(O,B,K){return qt.apply(this,arguments)}function qt(){return qt=(0,x.Z)(function*(O,{throttleEndTimeMillis:B,backoffCount:K},Ee,nt=Tt){var gt;const{appId:Vt,measurementId:yn}=O;try{yield function pt(O,B){return new Promise((K,Ee)=>{const nt=Math.max(B-Date.now(),0),gt=setTimeout(K,nt);O.addEventListener(()=>{clearTimeout(gt),Ee(ct.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(Ee,B)}catch(Rn){if(yn)return mi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${Rn?.message}]`),{appId:Vt,measurementId:yn};throw Rn}try{const Rn=yield function Xn(O){return ui.apply(this,arguments)}(O);return nt.deleteThrottleMetadata(Vt),Rn}catch(Rn){const Un=Rn;if(!function Nt(O){if(!(O instanceof Ie.ZR&&O.customData))return!1;const B=Number(O.customData.httpStatus);return 429===B||500===B||503===B||504===B}(Un)){if(nt.deleteThrottleMetadata(Vt),yn)return mi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${Un?.message}]`),{appId:Vt,measurementId:yn};throw Rn}const Ar=503===Number(null===(gt=Un?.customData)||void 0===gt?void 0:gt.httpStatus)?(0,Ie.$s)(K,nt.intervalMillis,Mt):(0,Ie.$s)(K,nt.intervalMillis),Gn={throttleEndTimeMillis:Date.now()+Ar,backoffCount:K+1};return nt.setThrottleMetadata(Vt,Gn),mi.debug(`Calling attemptFetch again in ${Ar} millis`),Ko(O,Gn,Ee,nt)}}),qt.apply(this,arguments)}class ii{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}let ns,Wn;function ca(){return(ca=(0,x.Z)(function*(O,B,K,Ee,nt){if(nt&&nt.global)O("event",K,Ee);else{const gt=yield B;O("event",K,Object.assign(Object.assign({},Ee),{send_to:gt}))}})).apply(this,arguments)}function Nn(){return(Nn=(0,x.Z)(function*(){if(!(0,Ie.hl)())return mi.warn(ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(O){return mi.warn(ct.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function yr(){return yr=(0,x.Z)(function*(O,B,K,Ee,nt,gt,Vt){var yn;const Rn=function Bt(O){return tn.apply(this,arguments)}(O);Rn.then(bo=>{K[bo.measurementId]=bo.appId,O.options.measurementId&&bo.measurementId!==O.options.measurementId&&mi.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${bo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bo=>mi.error(bo)),B.push(Rn);const Un=function Yr(){return Nn.apply(this,arguments)}().then(bo=>{if(bo)return Ee.getId()}),[Ar,Gn]=yield Promise.all([Rn,Un]);(function q(O){const B=window.document.getElementsByTagName("script");for(const K of Object.values(B))if(K.src&&K.src.includes(Ia)&&K.src.includes(O))return K;return null})(gt)||function ka(O,B){const K=document.createElement("script");K.src=`${Ia}?l=${O}&id=${B}`,K.async=!0,document.head.appendChild(K)}(gt,Ar.measurementId),Wn&&(nt("consent","default",Wn),function Cs(O){Wn=O}(void 0)),nt("js",new Date);const Yo=null!==(yn=Vt?.config)&&void 0!==yn?yn:{};return Yo[Ns]="firebase",Yo.update=!0,null!=Gn&&(Yo[li]=Gn),nt("config",Ar.measurementId,Yo),ns&&(nt("set",ns),function Il(O){ns=O}(void 0)),Ar.measurementId}),yr.apply(this,arguments)}class Au{constructor(B){this.app=B}_delete(){return delete Or[this.app.options.appId],Promise.resolve()}}let Or={},Qt=[];const La={};let Ss,is,Ci="dataLayer",Ts="gtag",fa=!1;function ql(O,B,K){!function Yl(){const O=[];if((0,Ie.ru)()&&O.push("This is a browser extension environment."),(0,Ie.zI)()||O.push("Cookies are not available."),O.length>0){const B=O.map((Ee,nt)=>`(${nt+1}) ${Ee}`).join(" "),K=ct.create("invalid-analytics-context",{errorInfo:B});mi.warn(K.message)}}();const Ee=O.options.appId;if(!Ee)throw ct.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw ct.create("no-api-key");mi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Or[Ee])throw ct.create("already-exists",{id:Ee});if(!fa){!function qs(O){let B=[];Array.isArray(window[O])?B=window[O]:window[O]=B}(Ci);const{wrappedGtag:gt,gtagCore:Vt}=function N(O,B,K,Ee,nt){let gt=function(...Vt){window[Ee].push(arguments)};return window[nt]&&"function"==typeof window[nt]&&(gt=window[nt]),window[nt]=function V(O,B,K,Ee){function gt(){return gt=(0,x.Z)(function*(Vt,yn,Rn){try{"event"===Vt?yield function Za(O,B,K,Ee,nt){return M.apply(this,arguments)}(O,B,K,yn,Rn):"config"===Vt?yield function ua(O,B,K,Ee,nt,gt){return Zs.apply(this,arguments)}(O,B,K,Ee,yn,Rn):"consent"===Vt?O("consent","update",Rn):O("set",yn)}catch(Un){mi.error(Un)}}),gt.apply(this,arguments)}return function nt(Vt,yn,Rn){return gt.apply(this,arguments)}}(gt,O,B,K),{gtagCore:gt,wrappedGtag:window[nt]}}(Or,Qt,La,Ci,Ts);is=gt,Ss=Vt,fa=!0}return Or[Ee]=function gs(O,B,K,Ee,nt,gt,Vt){return yr.apply(this,arguments)}(O,Qt,La,B,Ss,Ci,K),new Au(O)}function Xs(){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,x.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}const ga="@firebase/analytics";!function ma(){(0,ie._registerComponent)(new pe.wA(Po,(B,{options:K})=>ql(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,ie._registerComponent)(new pe.wA("analytics-internal",function O(B){try{const K=B.getProvider(Po).getImmediate();return{logEvent:(Ee,nt,gt)=>function qr(O,B,K,Ee){O=(0,Ie.m9)(O),function rs(O,B,K,Ee,nt){return ca.apply(this,arguments)}(is,Or[O.app.options.appId],B,K,Ee).catch(nt=>mi.error(nt))}(K,Ee,nt,gt)}}catch(K){throw ct.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,ie.registerVersion)(ga,"0.9.4"),(0,ie.registerVersion)(ga,"0.9.4","esm2017")}();var Qa=P(4408),Xl=P(7565);const No=new class Js extends Xl.v{}(class Ja extends Qa.o{constructor(B,K){super(B,K),this.scheduler=B,this.work=K}schedule(B,K=0){return K>0?super.schedule(B,K):(this.delay=K,this.state=B,this.scheduler.flush(this),this)}execute(B,K){return K>0||this.closed?super.execute(B,K):this._execute(B,K)}requestAsyncId(B,K,Ee=0){return null!=Ee&&Ee>0||null==Ee&&this.delay>0?super.requestAsyncId(B,K,Ee):(B.flush(this),0)}});var yi=P(4986),ba=P(8505),Ms=P(9468),Bs=P(5363);const Ji=new a.GfV("7.5.0"),ko="__angularfire_symbol__analyticsIsSupportedValue",wa="__angularfire_symbol__analyticsIsSupported",os="__angularfire_symbol__remoteConfigIsSupportedValue",ss="__angularfire_symbol__remoteConfigIsSupported",el="__angularfire_symbol__messagingIsSupportedValue",Ql="__angularfire_symbol__messagingIsSupported";function Gr(O,B,K){if(B){if(1===B.length)return B[0];const gt=B.filter(Vt=>Vt.app===K);if(1===gt.length)return gt[0]}return K.container.getProvider(O).getImmediate({optional:!0})}globalThis[wa]||(globalThis[wa]=Xs().then(O=>globalThis[ko]=O).catch(()=>globalThis[ko]=!1)),globalThis[Ql]||(globalThis[Ql]=aa().then(O=>globalThis[el]=O).catch(()=>globalThis[el]=!1)),globalThis[ss]||(globalThis[ss]=To().then(O=>globalThis[os]=O).catch(()=>globalThis[os]=!1));const ea=(O,B)=>{const K=B?[B]:(0,k.C6)(),Ee=[];return K.forEach(nt=>{nt.container.getProvider(O).instances.forEach(Vt=>{Ee.includes(Vt)||Ee.push(Vt)})}),Ee};function ta(){}class D{constructor(B,K=No){this.zone=B,this.delegate=K}now(){return this.delegate.now()}schedule(B,K,Ee){const nt=this.zone;return this.delegate.schedule(function(Vt){nt.runGuarded(()=>{B.apply(this,[Vt])})},K,Ee)}}class w{constructor(B){this.zone=B,this.task=null}call(B,K){const Ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ta,{},ta,ta)),K.pipe((0,ba.b)({next:Ee,complete:Ee,error:Ee})).subscribe(B).add(Ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _=(()=>{class O{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new D(Zone.current)),this.insideAngular=K.run(()=>new D(Zone.current,yi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(K){return new(K||O)(a.LFG(a.R0b))},O.\u0275prov=a.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function A(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function xt(O){return A(),function en(O){return function(K){return(K=K.lift(new w(O.ngZone))).pipe((0,Ms.R)(O.outsideAngular),(0,Bs.Q)(O.insideAngular))}}(A())(O)}},2090:(zt,rt,P)=>{"use strict";P.d(rt,{$s:()=>gn,BH:()=>Ve,G6:()=>fe,L:()=>Te,LL:()=>Fe,Pz:()=>je,Sg:()=>_e,UG:()=>Be,US:()=>pe,ZB:()=>ue,ZR:()=>Ye,aH:()=>Ke,b$:()=>se,eu:()=>ye,hl:()=>me,jU:()=>X,m9:()=>ar,ne:()=>fn,pd:()=>$r,r3:()=>jn,ru:()=>Ce,tV:()=>ae,uI:()=>z,vZ:()=>Hn,w1:()=>Se,xO:()=>gr,xb:()=>hr,z$:()=>De,zI:()=>ze,zd:()=>mr});const ie=function(Ae){const ge=[];let $e=0;for(let Et=0;Et<Ae.length;Et++){let lt=Ae.charCodeAt(Et);lt<128?ge[$e++]=lt:lt<2048?(ge[$e++]=lt>>6|192,ge[$e++]=63&lt|128):55296==(64512&lt)&&Et+1<Ae.length&&56320==(64512&Ae.charCodeAt(Et+1))?(lt=65536+((1023&lt)<<10)+(1023&Ae.charCodeAt(++Et)),ge[$e++]=lt>>18|240,ge[$e++]=lt>>12&63|128,ge[$e++]=lt>>6&63|128,ge[$e++]=63&lt|128):(ge[$e++]=lt>>12|224,ge[$e++]=lt>>6&63|128,ge[$e++]=63&lt|128)}return ge},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,ge){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $e=ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,Et=[];for(let lt=0;lt<Ae.length;lt+=3){const Zt=Ae[lt],Pe=lt+1<Ae.length,Le=Pe?Ae[lt+1]:0,ce=lt+2<Ae.length,st=ce?Ae[lt+2]:0;let Tn=(15&Le)<<2|st>>6,An=63&st;ce||(An=64,Pe||(Tn=64)),Et.push($e[Zt>>2],$e[(3&Zt)<<4|Le>>4],$e[Tn],$e[An])}return Et.join("")},encodeString(Ae,ge){return this.HAS_NATIVE_SUPPORT&&!ge?btoa(Ae):this.encodeByteArray(ie(Ae),ge)},decodeString(Ae,ge){return this.HAS_NATIVE_SUPPORT&&!ge?atob(Ae):function(Ae){const ge=[];let $e=0,Et=0;for(;$e<Ae.length;){const lt=Ae[$e++];if(lt<128)ge[Et++]=String.fromCharCode(lt);else if(lt>191&&lt<224){const Zt=Ae[$e++];ge[Et++]=String.fromCharCode((31&lt)<<6|63&Zt)}else if(lt>239&&lt<365){const ce=((7&lt)<<18|(63&Ae[$e++])<<12|(63&Ae[$e++])<<6|63&Ae[$e++])-65536;ge[Et++]=String.fromCharCode(55296+(ce>>10)),ge[Et++]=String.fromCharCode(56320+(1023&ce))}else{const Zt=Ae[$e++],Pe=Ae[$e++];ge[Et++]=String.fromCharCode((15&lt)<<12|(63&Zt)<<6|63&Pe)}}return ge.join("")}(this.decodeStringToByteArray(Ae,ge))},decodeStringToByteArray(Ae,ge){this.init_();const $e=ge?this.charToByteMapWebSafe_:this.charToByteMap_,Et=[];for(let lt=0;lt<Ae.length;){const Zt=$e[Ae.charAt(lt++)],Le=lt<Ae.length?$e[Ae.charAt(lt)]:0;++lt;const st=lt<Ae.length?$e[Ae.charAt(lt)]:64;++lt;const Rt=lt<Ae.length?$e[Ae.charAt(lt)]:64;if(++lt,null==Zt||null==Le||null==st||null==Rt)throw new ne;Et.push(Zt<<2|Le>>4),64!==st&&(Et.push(Le<<4&240|st>>2),64!==Rt&&Et.push(st<<6&192|Rt))}return Et},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Te=function(Ae){return function(Ae){const ge=ie(Ae);return pe.encodeByteArray(ge,!0)}(Ae).replace(/\./g,"")},ae=function(Ae){try{return pe.decodeString(Ae,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null};function ue(Ae,ge){if(!(ge instanceof Object))return ge;switch(ge.constructor){case Date:return new Date(ge.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return ge}for(const $e in ge)!ge.hasOwnProperty($e)||!Oe($e)||(Ae[$e]=ue(Ae[$e],ge[$e]));return Ae}function Oe(Ae){return"__proto__"!==Ae}const de=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ae=process.env.__FIREBASE_DEFAULTS__;return Ae?JSON.parse(Ae):void 0})()||(()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ge=Ae&&ae(Ae[1]);return ge&&JSON.parse(ge)})()}catch(Ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`)}},Ke=()=>{var Ae;return null===(Ae=de())||void 0===Ae?void 0:Ae.config},je=Ae=>{var ge;return null===(ge=de())||void 0===ge?void 0:ge[`_${Ae}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ge,$e)=>{this.resolve=ge,this.reject=$e})}wrapCallback(ge){return($e,Et)=>{$e?this.reject($e):this.resolve(Et),"function"==typeof ge&&(this.promise.catch(()=>{}),1===ge.length?ge($e):ge($e,Et))}}}function _e(Ae,ge){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Et=ge||"demo-project",lt=Ae.iat||0,Zt=Ae.sub||Ae.user_id;if(!Zt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pe=Object.assign({iss:`https://securetoken.google.com/${Et}`,aud:Et,iat:lt,exp:lt+3600,auth_time:lt,sub:Zt,user_id:Zt,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(Pe)),""].join(".")}function De(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function Be(){var Ae;const ge=null===(Ae=de())||void 0===Ae?void 0:Ae.forceEnvironment;if("node"===ge)return!0;if("browser"===ge)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function X(){return"object"==typeof self&&self.self===self}function Ce(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){const Ae=De();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function fe(){return!Be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function me(){try{return"object"==typeof indexedDB}catch{return!1}}function ye(){return new Promise((Ae,ge)=>{try{let $e=!0;const Et="validate-browser-context-for-indexeddb-analytics-module",lt=self.indexedDB.open(Et);lt.onsuccess=()=>{lt.result.close(),$e||self.indexedDB.deleteDatabase(Et),Ae(!0)},lt.onupgradeneeded=()=>{$e=!1},lt.onerror=()=>{var Zt;ge((null===(Zt=lt.error)||void 0===Zt?void 0:Zt.message)||"")}}catch($e){ge($e)}})}function ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ye extends Error{constructor(ge,$e,Et){super($e),this.code=ge,this.customData=Et,this.name="FirebaseError",Object.setPrototypeOf(this,Ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(ge,$e,Et){this.service=ge,this.serviceName=$e,this.errors=Et}create(ge,...$e){const Et=$e[0]||{},lt=`${this.service}/${ge}`,Zt=this.errors[ge],Pe=Zt?function Dt(Ae,ge){return Ae.replace(vt,($e,Et)=>{const lt=ge[Et];return null!=lt?String(lt):`<${Et}?>`})}(Zt,Et):"Error";return new Ye(lt,`${this.serviceName}: ${Pe} (${lt}).`,Et)}}const vt=/\{\$([^}]+)}/g;function jn(Ae,ge){return Object.prototype.hasOwnProperty.call(Ae,ge)}function hr(Ae){for(const ge in Ae)if(Object.prototype.hasOwnProperty.call(Ae,ge))return!1;return!0}function Hn(Ae,ge){if(Ae===ge)return!0;const $e=Object.keys(Ae),Et=Object.keys(ge);for(const lt of $e){if(!Et.includes(lt))return!1;const Zt=Ae[lt],Pe=ge[lt];if(Lt(Zt)&&Lt(Pe)){if(!Hn(Zt,Pe))return!1}else if(Zt!==Pe)return!1}for(const lt of Et)if(!$e.includes(lt))return!1;return!0}function Lt(Ae){return null!==Ae&&"object"==typeof Ae}function gr(Ae){const ge=[];for(const[$e,Et]of Object.entries(Ae))Array.isArray(Et)?Et.forEach(lt=>{ge.push(encodeURIComponent($e)+"="+encodeURIComponent(lt))}):ge.push(encodeURIComponent($e)+"="+encodeURIComponent(Et));return ge.length?"&"+ge.join("&"):""}function mr(Ae){const ge={};return Ae.replace(/^\?/,"").split("&").forEach(Et=>{if(Et){const[lt,Zt]=Et.split("=");ge[decodeURIComponent(lt)]=decodeURIComponent(Zt)}}),ge}function $r(Ae){const ge=Ae.indexOf("?");if(!ge)return"";const $e=Ae.indexOf("#",ge);return Ae.substring(ge,$e>0?$e:void 0)}function fn(Ae,ge){const $e=new on(Ae,ge);return $e.subscribe.bind($e)}class on{constructor(ge,$e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$e,this.task.then(()=>{ge(this)}).catch(Et=>{this.error(Et)})}next(ge){this.forEachObserver($e=>{$e.next(ge)})}error(ge){this.forEachObserver($e=>{$e.error(ge)}),this.close(ge)}complete(){this.forEachObserver(ge=>{ge.complete()}),this.close()}subscribe(ge,$e,Et){let lt;if(void 0===ge&&void 0===$e&&void 0===Et)throw new Error("Missing Observer.");lt=function Xr(Ae,ge){if("object"!=typeof Ae||null===Ae)return!1;for(const $e of ge)if($e in Ae&&"function"==typeof Ae[$e])return!0;return!1}(ge,["next","error","complete"])?ge:{next:ge,error:$e,complete:Et},void 0===lt.next&&(lt.next=ln),void 0===lt.error&&(lt.error=ln),void 0===lt.complete&&(lt.complete=ln);const Zt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?lt.error(this.finalError):lt.complete()}catch{}}),this.observers.push(lt),Zt}unsubscribeOne(ge){void 0===this.observers||void 0===this.observers[ge]||(delete this.observers[ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ge){if(!this.finalized)for(let $e=0;$e<this.observers.length;$e++)this.sendOne($e,ge)}sendOne(ge,$e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ge])try{$e(this.observers[ge])}catch(Et){typeof console<"u"&&console.error&&console.error(Et)}})}close(ge){this.finalized||(this.finalized=!0,void 0!==ge&&(this.finalError=ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}const Fr=1e3,Gt=2,Ct=144e5,Jt=.5;function gn(Ae,ge=Fr,$e=Gt){const Et=ge*Math.pow($e,Ae),lt=Math.round(Jt*Et*(Math.random()-.5)*2);return Math.min(Ct,Et+lt)}function ar(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},2078:(zt,rt,P)=>{"use strict";P.d(rt,{Br:()=>Io,dr:()=>tr,oU:()=>$n,cs:()=>Go,YG:()=>Jt,Sm:()=>gn,PM:()=>Dn,FN:()=>bn,Zi:()=>ar,Dq:()=>ge,W2:()=>Zt,IJ:()=>ce,W4:()=>st,fr:()=>Rt,Gu:()=>An,gu:()=>Yn,pK:()=>Lr,Ie:()=>Jr,rH:()=>ir,Ub:()=>Mi,Q$:()=>lr,q_:()=>jr,z0:()=>nr,fG:()=>Xt,zc:()=>Pn,O1:()=>fr,jP:()=>Ni,Nd:()=>Ue,t9:()=>jt,n0:()=>cn,jI:()=>He,yW:()=>Ht,g2:()=>sn,wd:()=>ur,sr:()=>xi,Pc:()=>F,r4:()=>Ro,HT:()=>ao,_q:()=>Kr,SH:()=>gi,as:()=>$r,YI:()=>Fi,QI:()=>fn,j9:()=>on,yF:()=>Ks});var a=P(4650),k=P(433),x=P(655),ie=P(8421),Ie=P(9751),pe=P(5577),ne=P(1144),he=P(576),Te=P(3268);const ae=["addListener","removeListener"],le=["addEventListener","removeEventListener"],ue=["on","off"];function Oe(d,y,p,S){if((0,he.m)(p)&&(S=p,p=void 0),S)return Oe(d,y,p).pipe((0,Te.Z)(S));const[G,at]=function we(d){return(0,he.m)(d.addEventListener)&&(0,he.m)(d.removeEventListener)}(d)?le.map(Ut=>rn=>d[Ut](y,rn,p)):function Xe(d){return(0,he.m)(d.addListener)&&(0,he.m)(d.removeListener)}(d)?ae.map(ke(d,y)):function ht(d){return(0,he.m)(d.on)&&(0,he.m)(d.off)}(d)?ue.map(ke(d,y)):[];if(!G&&(0,ne.z)(d))return(0,pe.z)(Ut=>Oe(Ut,y,p))((0,ie.Xf)(d));if(!G)throw new TypeError("Invalid event target");return new Ie.y(Ut=>{const rn=(...xn)=>Ut.next(1<xn.length?xn:xn[0]);return G(rn),()=>at(rn)})}function ke(d,y){return p=>S=>d[p](y,S)}var de=P(7579),ee=P(1135),Ze=P(2435),De=(P(181),P(6439),P(7838),P(1898),P(5179)),z=P(5730),Be=P(1843),X=P(6369),Ce=P(3539),Se=(P(3457),P(4349),P(1308)),ze=P(9300),Re=P(3900),Ye=P(1884),Fe=P(6895);const vt=De.i,_t=["*"],er=d=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(d):"function"==typeof requestAnimationFrame?requestAnimationFrame(d):setTimeout(d),hr=d=>!!d.resolveComponentFactory;let pn=(()=>{class d{constructor(p,S){this.injector=p,this.el=S,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(p){this.el.nativeElement.value=this.lastValue=p??"",Hn(this.el)}handleChangeEvent(p,S){p===this.el.nativeElement&&(S!==this.lastValue&&(this.lastValue=S,this.onChange(S)),Hn(this.el))}_handleBlurEvent(p){p===this.el.nativeElement&&(this.onTouched(),Hn(this.el))}registerOnChange(p){this.onChange=p}registerOnTouched(p){this.onTouched=p}setDisabledState(p){this.el.nativeElement.disabled=p}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let p;try{p=this.injector.get(k.a5)}catch{}if(!p)return;p.statusChanges&&(this.statusChanges=p.statusChanges.subscribe(()=>Hn(this.el)));const S=p.control;S&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(at=>{if(typeof S[at]<"u"){const Ut=S[at].bind(S);S[at]=(...rn)=>{Ut(...rn),Hn(this.el)}}})}}return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.zs3),a.Y36(a.SBq))},d.\u0275dir=a.lG2({type:d,hostBindings:function(p,S){1&p&&a.NdJ("ionBlur",function(at){return S._handleBlurEvent(at.target)})}}),d})();const Hn=d=>{er(()=>{const y=d.nativeElement,p=null!=y.value&&y.value.toString().length>0,S=Lt(y);Tr(y,S);const G=y.closest("ion-item");G&&Tr(G,p?[...S,"item-has-value"]:S)})},Lt=d=>{const y=d.classList,p=[];for(let S=0;S<y.length;S++){const G=y.item(S);null!==G&&gr(G,"ng-")&&p.push(`ion-${G.substring(3)}`)}return p},Tr=(d,y)=>{const p=d.classList;p.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),p.add(...y)},gr=(d,y)=>d.substring(0,y.length)===y;let $r=(()=>{class d extends pn{constructor(p,S){super(p,S)}_handleIonChange(p){this.handleChangeEvent(p,p.value)}registerOnChange(p){super.registerOnChange(S=>{p(""===S?null:parseFloat(S))})}}return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.zs3),a.Y36(a.SBq))},d.\u0275dir=a.lG2({type:d,selectors:[["ion-input","type","number"]],hostBindings:function(p,S){1&p&&a.NdJ("ionChange",function(at){return S._handleIonChange(at.target)})},features:[a._Bn([{provide:k.JU,useExisting:d,multi:!0}]),a.qOj]}),d})(),fn=(()=>{class d extends pn{constructor(p,S){super(p,S)}_handleChangeEvent(p){this.handleChangeEvent(p,p.value)}}return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.zs3),a.Y36(a.SBq))},d.\u0275dir=a.lG2({type:d,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(p,S){1&p&&a.NdJ("ionChange",function(at){return S._handleChangeEvent(at.target)})},features:[a._Bn([{provide:k.JU,useExisting:d,multi:!0}]),a.qOj]}),d})(),on=(()=>{class d extends pn{constructor(p,S){super(p,S)}_handleInputEvent(p){this.handleChangeEvent(p,p.value)}}return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.zs3),a.Y36(a.SBq))},d.\u0275dir=a.lG2({type:d,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(p,S){1&p&&a.NdJ("ionChange",function(at){return S._handleInputEvent(at.target)})},features:[a._Bn([{provide:k.JU,useExisting:d,multi:!0}]),a.qOj]}),d})();const un=(d,y)=>{const p=d.prototype;y.forEach(S=>{Object.defineProperty(p,S,{get(){return this.el[S]},set(G){this.z.runOutsideAngular(()=>this.el[S]=G)}})})},Xr=(d,y)=>{const p=d.prototype;y.forEach(S=>{p[S]=function(){const G=arguments;return this.z.runOutsideAngular(()=>this.el[S].apply(this.el,G))}})},ln=(d,y,p)=>{p.forEach(S=>d[S]=Oe(y,S))};function Ot(d){return function(p){const{defineCustomElementFn:S,inputs:G,methods:at}=d;return void 0!==S&&S(),G&&un(p,G),at&&Xr(p,at),p}}let tr=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-app"]],ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0})],d),d})(),$n=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],d),d})(),Jt=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement,ln(this,this.el,["ionFocus","ionBlur"])}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],d),d})(),gn=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["collapse"]})],d),d})(),Dn=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],d),d})(),bn=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["mode"]})],d),d})(),ar=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],d),d})(),ge=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","mode"]})],d),d})(),Zt=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement,ln(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],d),d})(),ce=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],d),d})(),st=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement,ln(this,this.el,["ionFocus","ionBlur"])}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],d),d})(),Rt=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],d),d})(),An=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],d),d})(),Yn=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],d),d})(),Lr=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement,ln(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],d),d})(),Jr=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],d),d})(),ir=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","mode","sticky"]})],d),d})(),Mi=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-item-group"]],ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0})],d),d})(),lr=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],d),d})(),jr=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],d),d})(),nr=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement,ln(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],d),d})(),Xt=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],d),d})(),Pn=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],d),d})(),fr=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement,ln(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],d),d})(),Ue=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-row"]],ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0})],d),d})(),jt=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement,ln(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],d),d})(),cn=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["disabled","value"]})],d),d})(),He=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement,ln(this,this.el,["ionSplitPaneVisible"])}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],d),d})(),Ht=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","mode"]})],d),d})(),sn=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement,ln(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],d),d})(),ur=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","size"]})],d),d})(),xi=(()=>{let d=class{constructor(p,S,G){this.z=G,p.detach(),this.el=S.nativeElement}};return d.\u0275fac=function(p){return new(p||d)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:_t,decls:1,vars:0,template:function(p,S){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,x.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","mode"]})],d),d})();class Ri{constructor(y={}){this.data=y}get(y){return this.data[y]}}let ai=(()=>{class d{constructor(p,S){this.zone=p,this.appRef=S}create(p,S,G,at){return new hi(p,S,G,this.appRef,this.zone,at)}}return d.\u0275fac=function(p){return new(p||d)(a.LFG(a.R0b),a.LFG(a.z2F))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})();class hi{constructor(y,p,S,G,at,Ut){this.resolverOrInjector=y,this.injector=p,this.location=S,this.appRef=G,this.zone=at,this.elementReferenceKey=Ut,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(y,p,S,G){return this.zone.run(()=>new Promise(at=>{const Ut=Object.assign({},S);void 0!==this.elementReferenceKey&&(Ut[this.elementReferenceKey]=y),at(Ws(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,y,p,Ut,G))}))}removeViewFromDom(y,p){return this.zone.run(()=>new Promise(S=>{const G=this.elRefMap.get(p);if(G){G.destroy(),this.elRefMap.delete(p);const at=this.elEventsMap.get(p);at&&(at(),this.elEventsMap.delete(p))}S()}))}}const Ws=(d,y,p,S,G,at,Ut,rn,xn,or,kn)=>{let pr;const Ei=a.zs3.create({providers:jo(or),parent:p});if(y&&hr(y)){const Oo=y.resolveComponentFactory(xn);pr=S?S.createComponent(Oo,S.length,Ei):Oo.create(Ei)}else{if(!S)return null;pr=S.createComponent(xn,{index:S.indexOf,injector:Ei,environmentInjector:y})}const ci=pr.instance,Nr=pr.location.nativeElement;if(or&&Object.assign(ci,or),kn)for(const Oo of kn)Nr.classList.add(Oo);const ws=To(d,ci,Nr);return rn.appendChild(Nr),S||G.attachView(pr.hostView),pr.changeDetectorRef.reattach(),at.set(Nr,pr),Ut.set(Nr,ws),Nr},Qo=[Be.L,Be.a,Be.b,Be.c,Be.d],To=(d,y,p)=>d.run(()=>{const S=Qo.filter(G=>"function"==typeof y[G]).map(G=>{const at=Ut=>y[G](Ut.detail);return p.addEventListener(G,at),()=>p.removeEventListener(G,at)});return()=>S.forEach(G=>G())}),Jo=new a.OlP("NavParamsToken"),jo=d=>[{provide:Jo,useValue:d},{provide:Ri,useFactory:Wi,deps:[Jo]}],Wi=d=>new Ri(d),bi=(d,y)=>((d=d.filter(p=>p.stackId!==y.stackId)).push(y),d),mo=(d,y)=>{const p=d.createUrlTree(["."],{relativeTo:y});return d.serializeUrl(p)},Ki=(d,y)=>{if(!d)return;const p=yo(y);for(let S=0;S<p.length;S++){if(S>=d.length)return p[S];if(p[S]!==d[S])return}},yo=d=>d.split("/").map(y=>y.trim()).filter(y=>""!==y),Oi=d=>{d&&(d.ref.destroy(),d.unlistenEvents())};class Es{constructor(y,p,S,G,at,Ut){this.containerEl=p,this.router=S,this.navCtrl=G,this.zone=at,this.location=Ut,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==y?yo(y):void 0}createView(y,p){var S;const G=mo(this.router,p),at=null===(S=y?.location)||void 0===S?void 0:S.nativeElement,Ut=To(this.zone,y.instance,at);return{id:this.nextId++,stackId:Ki(this.tabsPrefix,G),unlistenEvents:Ut,element:at,ref:y,url:G}}getExistingView(y){const p=mo(this.router,y),S=this.views.find(G=>G.url===p);return S&&S.ref.changeDetectorRef.reattach(),S}setActive(y){var p,S;const G=this.navCtrl.consumeTransition();let{direction:at,animation:Ut,animationBuilder:rn}=G;const xn=this.activeView,or=((d,y)=>!y||d.stackId!==y.stackId)(y,xn);or&&(at="back",Ut=void 0);const kn=this.views.slice();let pr;const Ei=this.router;Ei.getCurrentNavigation?pr=Ei.getCurrentNavigation():!(null===(p=Ei.navigations)||void 0===p)&&p.value&&(pr=Ei.navigations.value),null!==(S=pr?.extras)&&void 0!==S&&S.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ci=this.views.includes(y),Nr=this.insertView(y,at);ci||y.ref.changeDetectorRef.detectChanges();const ws=y.animationBuilder;return void 0===rn&&"back"===at&&!or&&void 0!==ws&&(rn=ws),xn&&(xn.animationBuilder=rn),this.zone.runOutsideAngular(()=>this.wait(()=>(xn&&xn.ref.changeDetectorRef.detach(),y.ref.changeDetectorRef.reattach(),this.transition(y,xn,Ut,this.canGoBack(1),!1,rn).then(()=>Ao(y,Nr,kn,this.location,this.zone)).then(()=>({enteringView:y,direction:at,animation:Ut,tabSwitch:or})))))}canGoBack(y,p=this.getActiveStackId()){return this.getStack(p).length>y}pop(y,p=this.getActiveStackId()){return this.zone.run(()=>{var S,G;const at=this.getStack(p);if(at.length<=y)return Promise.resolve(!1);const Ut=at[at.length-y-1];let rn=Ut.url;const xn=Ut.savedData;if(xn){const kn=xn.get("primary");null!==(G=null===(S=kn?.route)||void 0===S?void 0:S._routerState)&&void 0!==G&&G.snapshot.url&&(rn=kn.route._routerState.snapshot.url)}const{animationBuilder:or}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(rn,Object.assign(Object.assign({},Ut.savedExtras),{animation:or})).then(()=>!0)})}startBackTransition(){const y=this.activeView;if(y){const p=this.getStack(y.stackId),S=p[p.length-2],G=S.animationBuilder;return this.wait(()=>this.transition(S,y,"back",this.canGoBack(2),!0,G))}return Promise.resolve()}endBackTransition(y){y?(this.skipTransition=!0,this.pop(1)):this.activeView&&Mo(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(y){const p=this.getStack(y);return p.length>0?p[p.length-1]:void 0}getRootUrl(y){const p=this.getStack(y);return p.length>0?p[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Oi),this.activeView=void 0,this.views=[]}getStack(y){return this.views.filter(p=>p.stackId===y)}insertView(y,p){return this.activeView=y,this.views=((d,y,p)=>"root"===p?bi(d,y):"forward"===p?((d,y)=>(d.indexOf(y)>=0?d=d.filter(S=>S.stackId!==y.stackId||S.id<=y.id):d.push(y),d))(d,y):((d,y)=>d.indexOf(y)>=0?d.filter(S=>S.stackId!==y.stackId||S.id<=y.id):bi(d,y))(d,y))(this.views,y,p),this.views.slice()}transition(y,p,S,G,at,Ut){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(p===y)return Promise.resolve(!1);const rn=y?y.element:void 0,xn=p?p.element:void 0,or=this.containerEl;return rn&&rn!==xn&&(rn.classList.add("ion-page"),rn.classList.add("ion-page-invisible"),rn.parentElement!==or&&or.appendChild(rn),or.commit)?or.commit(rn,xn,{deepWait:!0,duration:void 0===S?0:void 0,direction:S,showGoBack:G,progressAnimation:at,animationBuilder:Ut}):Promise.resolve(!1)}wait(y){return(0,x.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const p=this.runningTask=y();return p.finally(()=>this.runningTask=void 0),p})}}const Ao=(d,y,p,S,G)=>"function"==typeof requestAnimationFrame?new Promise(at=>{requestAnimationFrame(()=>{Mo(d,y,p,S,G),at()})}):Promise.resolve(),Mo=(d,y,p,S,G)=>{G.run(()=>p.filter(at=>!y.includes(at)).forEach(Oi)),y.forEach(at=>{const rn=S.path().split("?")[0].split("#")[0];if(at!==d&&at.url!==rn){const xn=at.element;xn.setAttribute("aria-hidden","true"),xn.classList.add("ion-page-hidden"),at.ref.changeDetectorRef.detach()}})};let ni=(()=>{class d{get(p,S){const G=Ho();return G?G.get(p,S):null}getBoolean(p,S){const G=Ho();return!!G&&G.getBoolean(p,S)}getNumber(p,S){const G=Ho();return G?G.getNumber(p,S):0}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const Pi=new a.OlP("USERCONFIG"),Ho=()=>{if(typeof window<"u"){const d=window.Ionic;if(d?.config)return d.config}return null};let wi=(()=>{class d{constructor(p,S){this.doc=p,this.backButton=new de.x,this.keyboardDidShow=new de.x,this.keyboardDidHide=new de.x,this.pause=new de.x,this.resume=new de.x,this.resize=new de.x,S.run(()=>{var G;let at;this.win=p.defaultView,this.backButton.subscribeWithPriority=function(Ut,rn){return this.subscribe(xn=>xn.register(Ut,or=>S.run(()=>rn(or))))},br(this.pause,p,"pause"),br(this.resume,p,"resume"),br(this.backButton,p,"ionBackButton"),br(this.resize,this.win,"resize"),br(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),br(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Ut=>{at=Ut}),null!==(G=this.win)&&void 0!==G&&G.cordova?p.addEventListener("deviceready",()=>{at("cordova")},{once:!0}):at("dom")})}is(p){return(0,De.a)(this.win,p)}platforms(){return(0,De.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(p){return es(this.win.location.href,p)}isLandscape(){return!this.isPortrait()}isPortrait(){var p,S;return null===(S=(p=this.win).matchMedia)||void 0===S?void 0:S.call(p,"(orientation: portrait)").matches}testUserAgent(p){const S=this.win.navigator;return!!(S?.userAgent&&S.userAgent.indexOf(p)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return d.\u0275fac=function(p){return new(p||d)(a.LFG(Fe.K0),a.LFG(a.R0b))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const es=(d,y)=>{y=y.replace(/[[\]\\]/g,"\\$&");const S=new RegExp("[\\?&]"+y+"=([^&#]*)").exec(d);return S?decodeURIComponent(S[1].replace(/\+/g," ")):null},br=(d,y,p)=>{y&&y.addEventListener(p,S=>{d.next(S?.detail)})};let gi=(()=>{class d{constructor(p,S,G,at){this.location=S,this.serializer=G,this.router=at,this.direction=Yi,this.animated=xo,this.guessDirection="forward",this.lastNavId=-1,at&&at.events.subscribe(Ut=>{if(Ut instanceof Ze.OD){const rn=Ut.restoredState?Ut.restoredState.navigationId:Ut.id;this.guessDirection=rn<this.lastNavId?"back":"forward",this.guessAnimation=Ut.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Ut.id:rn}}),p.backButton.subscribeWithPriority(0,Ut=>{this.pop(),Ut()})}navigateForward(p,S={}){return this.setDirection("forward",S.animated,S.animationDirection,S.animation),this.navigate(p,S)}navigateBack(p,S={}){return this.setDirection("back",S.animated,S.animationDirection,S.animation),this.navigate(p,S)}navigateRoot(p,S={}){return this.setDirection("root",S.animated,S.animationDirection,S.animation),this.navigate(p,S)}back(p={animated:!0,animationDirection:"back"}){return this.setDirection("back",p.animated,p.animationDirection,p.animation),this.location.back()}pop(){return(0,x.mG)(this,void 0,void 0,function*(){let p=this.topOutlet;for(;p&&!(yield p.pop());)p=p.parentOutlet})}setDirection(p,S,G,at){this.direction=p,this.animated=vo(p,S,G),this.animationBuilder=at}setTopOutlet(p){this.topOutlet=p}consumeTransition(){let S,p="root";const G=this.animationBuilder;return"auto"===this.direction?(p=this.guessDirection,S=this.guessAnimation):(S=this.animated,p=this.direction),this.direction=Yi,this.animated=xo,this.animationBuilder=void 0,{direction:p,animation:S,animationBuilder:G}}navigate(p,S){if(Array.isArray(p))return this.router.navigate(p,S);{const G=this.serializer.parse(p.toString());return void 0!==S.queryParams&&(G.queryParams=Object.assign({},S.queryParams)),void 0!==S.fragment&&(G.fragment=S.fragment),this.router.navigateByUrl(G,S)}}}return d.\u0275fac=function(p){return new(p||d)(a.LFG(wi),a.LFG(Fe.Ye),a.LFG(Ze.Hx),a.LFG(Ze.F0,8))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const vo=(d,y,p)=>{if(!1!==y){if(void 0!==p)return p;if("forward"===d||"back"===d)return d;if("root"===d&&!0===y)return"forward"}},Yi="auto",xo=void 0;let Ni=(()=>{class d{constructor(p,S,G,at,Ut,rn,xn,or,kn,pr,Ei,ci,Nr){this.parentContexts=p,this.location=S,this.config=Ut,this.navCtrl=rn,this.componentFactoryResolver=xn,this.parentOutlet=Nr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ee.X(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.nativeEl=kn.nativeElement,this.name=G||Ze.eC,this.tabsPrefix="true"===at?mo(pr,ci):void 0,this.stackCtrl=new Es(this.tabsPrefix,this.nativeEl,pr,rn,Ei,or),p.onChildOutletCreated(this.name,this)}set animation(p){this.nativeEl.animation=p}set animated(p){this.nativeEl.animated=p}set swipeGesture(p){this._swipeGesture=p,this.nativeEl.swipeHandler=p?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:S=>this.stackCtrl.endBackTransition(S)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const p=this.getContext();p?.route&&this.activateWith(p.route,p.resolver||null)}new Promise(p=>(0,z.c)(this.nativeEl,p)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(p,S){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const S=this.getContext();this.activatedView.savedData=new Map(S.children.contexts);const G=this.activatedView.savedData.get("primary");if(G&&S.route&&(G.route=Object.assign({},S.route)),this.activatedView.savedExtras={},S.route){const at=S.route.snapshot;this.activatedView.savedExtras.queryParams=at.queryParams,this.activatedView.savedExtras.fragment=at.fragment}}const p=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,S){var G;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=p;let at,Ut=this.stackCtrl.getExistingView(p);if(Ut){at=this.activated=Ut.ref;const rn=Ut.savedData;rn&&(this.getContext().children.contexts=rn),this.updateActivatedRouteProxy(at.instance,p)}else{const rn=p._futureSnapshot;if(null==rn.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const xn=this.parentContexts.getOrCreateContext(this.name).children,or=new ee.X(null),kn=this.createActivatedRouteProxy(or,p),pr=new ji(kn,xn,this.location.injector),Ei=null!==(G=rn.routeConfig.component)&&void 0!==G?G:rn.component;if((S=S||this.componentFactoryResolver)&&hr(S)){const ci=S.resolveComponentFactory(Ei);at=this.activated=this.location.createComponent(ci,this.location.length,pr)}else at=this.activated=this.location.createComponent(Ei,{index:this.location.length,injector:pr,environmentInjector:S??this.environmentInjector});or.next(at.instance),Ut=this.stackCtrl.createView(this.activated,p),this.proxyMap.set(at.instance,kn),this.currentActivatedRoute$.next({component:at.instance,activatedRoute:p})}this.activatedView=Ut,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Ut).then(rn=>{this.activateEvents.emit(at.instance),this.stackEvents.emit(rn)})}canGoBack(p=1,S){return this.stackCtrl.canGoBack(p,S)}pop(p=1,S){return this.stackCtrl.pop(p,S)}getLastUrl(p){const S=this.stackCtrl.getLastUrl(p);return S?S.url:void 0}getLastRouteView(p){return this.stackCtrl.getLastUrl(p)}getRootView(p){return this.stackCtrl.getRootUrl(p)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(p,S){const G=new Ze.gz;return G._futureSnapshot=S._futureSnapshot,G._routerState=S._routerState,G.snapshot=S.snapshot,G.outlet=S.outlet,G.component=S.component,G._paramMap=this.proxyObservable(p,"paramMap"),G._queryParamMap=this.proxyObservable(p,"queryParamMap"),G.url=this.proxyObservable(p,"url"),G.params=this.proxyObservable(p,"params"),G.queryParams=this.proxyObservable(p,"queryParams"),G.fragment=this.proxyObservable(p,"fragment"),G.data=this.proxyObservable(p,"data"),G}proxyObservable(p,S){return p.pipe((0,ze.h)(G=>!!G),(0,Re.w)(G=>this.currentActivatedRoute$.pipe((0,ze.h)(at=>null!==at&&at.component===G),(0,Re.w)(at=>at&&at.activatedRoute[S]),(0,Ye.x)())))}updateActivatedRouteProxy(p,S){const G=this.proxyMap.get(p);if(!G)throw new Error("Could not find activated route proxy for view");G._futureSnapshot=S._futureSnapshot,G._routerState=S._routerState,G.snapshot=S.snapshot,G.outlet=S.outlet,G.component=S.component,this.currentActivatedRoute$.next({component:p,activatedRoute:S})}}return d.\u0275fac=function(p){return new(p||d)(a.Y36(Ze.y6),a.Y36(a.s_b),a.$8M("name"),a.$8M("tabs"),a.Y36(ni),a.Y36(gi),a.Y36(a._Vd,8),a.Y36(Fe.Ye),a.Y36(a.SBq),a.Y36(Ze.F0),a.Y36(a.R0b),a.Y36(Ze.gz),a.Y36(d,12))},d.\u0275dir=a.lG2({type:d,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),d})();class ji{constructor(y,p,S){this.route=y,this.childContexts=p,this.parent=S}get(y,p){return y===Ze.gz?this.route:y===Ze.y6?this.childContexts:this.parent.get(y,p)}}let Go=(()=>{class d{constructor(p,S,G){this.routerOutlet=p,this.navCtrl=S,this.config=G}onClick(p){var S;const G=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(S=this.routerOutlet)&&void 0!==S&&S.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),p.preventDefault()):null!=G&&(this.navCtrl.navigateBack(G,{animation:this.routerAnimation}),p.preventDefault())}}return d.\u0275fac=function(p){return new(p||d)(a.Y36(Ni,8),a.Y36(gi),a.Y36(ni))},d.\u0275dir=a.lG2({type:d,selectors:[["ion-back-button"]],hostBindings:function(p,S){1&p&&a.NdJ("click",function(at){return S.onClick(at)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),d})(),Fi=(()=>{class d{constructor(p,S,G,at,Ut){this.locationStrategy=p,this.navCtrl=S,this.elementRef=G,this.router=at,this.routerLink=Ut,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var p;if(null!==(p=this.routerLink)&&void 0!==p&&p.urlTree){const S=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=S}}onClick(p){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),p.preventDefault()}}return d.\u0275fac=function(p){return new(p||d)(a.Y36(Fe.S$),a.Y36(gi),a.Y36(a.SBq),a.Y36(Ze.F0),a.Y36(Ze.rH,8))},d.\u0275dir=a.lG2({type:d,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(p,S){1&p&&a.NdJ("click",function(at){return S.onClick(at)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[a.TTD]}),d})();class ri{constructor(y){this.ctrl=y}create(y){return this.ctrl.create(y||{})}dismiss(y,p,S){return this.ctrl.dismiss(y,p,S)}getTop(){return this.ctrl.getTop()}}let Io=(()=>{class d extends ri{constructor(){super(Ce.a)}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),ao=(()=>{class d extends ri{constructor(){super(Ce.l)}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Kr=(()=>{class d{open(p){return X.m.open(p)}close(p){return X.m.close(p)}toggle(p){return X.m.toggle(p)}enable(p,S){return X.m.enable(p,S)}swipeGesture(p,S){return X.m.swipeGesture(p,S)}isOpen(p){return X.m.isOpen(p)}isEnabled(p){return X.m.isEnabled(p)}get(p){return X.m.get(p)}getOpen(){return X.m.getOpen()}getMenus(){return X.m.getMenus()}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();class Do{}let Ln=(()=>{class d extends ri{constructor(p,S,G,at){super(Ce.m),this.angularDelegate=p,this.resolver=S,this.injector=G,this.environmentInjector=at}create(p){var S;return super.create(Object.assign(Object.assign({},p),{delegate:this.angularDelegate.create(null!==(S=this.resolver)&&void 0!==S?S:this.environmentInjector,this.injector,void 0,"modal")}))}}return d.\u0275fac=function(p){return new(p||d)(a.LFG(ai),a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(Do,8))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})(),hs=(()=>{class d extends ri{constructor(p,S,G,at){super(Ce.c),this.angularDelegate=p,this.resolver=S,this.injector=G,this.environmentInjector=at}create(p){var S;return super.create(Object.assign(Object.assign({},p),{delegate:this.angularDelegate.create(null!==(S=this.resolver)&&void 0!==S?S:this.environmentInjector,this.injector,void 0,"popover")}))}}return d.\u0275fac=function(p){return new(p||d)(a.LFG(ai),a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(Do,8))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})(),Ks=(()=>{class d extends ri{constructor(){super(Ce.t)}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();class Ro{shouldDetach(y){return!1}shouldAttach(y){return!1}store(y,p){}retrieve(y){return null}shouldReuseRoute(y,p){if(y.routeConfig!==p.routeConfig)return!1;const S=y.params,G=p.params,at=Object.keys(S),Ut=Object.keys(G);if(at.length!==Ut.length)return!1;for(const rn of at)if(G[rn]!==S[rn])return!1;return!0}}const Os=(d,y,p)=>()=>{if(y.defaultView&&typeof window<"u"){(d=>{const y=window,p=y.Ionic;p&&p.config&&"Object"!==p.config.constructor.name||(y.Ionic=y.Ionic||{},y.Ionic.config=Object.assign(Object.assign({},y.Ionic.config),d))})(Object.assign(Object.assign({},d),{_zoneGate:at=>p.run(at)}));const G="__zone_symbol__addEventListener"in y.body?"__zone_symbol__addEventListener":"addEventListener";return function Dt(){var d=[];if(typeof window<"u"){var y=window;(!y.customElements||y.Element&&(!y.Element.prototype.closest||!y.Element.prototype.matches||!y.Element.prototype.remove||!y.Element.prototype.getRootNode))&&d.push(P.e(6748).then(P.t.bind(P,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||y.NodeList&&!y.NodeList.prototype.forEach||!y.fetch||!function(){try{var S=new URL("b","http://a");return S.pathname="c%20d","http://a/c%20d"===S.href&&S.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&d.push(P.e(2214).then(P.t.bind(P,4144,23)))}return Promise.all(d)}().then(()=>((d,y)=>typeof window>"u"?Promise.resolve():(0,Se.p)().then(()=>(vt(),(0,Se.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),y))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:er,jmp:at=>p.runOutsideAngular(at),ael(at,Ut,rn,xn){at[G](Ut,rn,xn)},rel(at,Ut,rn,xn){at.removeEventListener(Ut,rn,xn)}}))}};let F=(()=>{class d{static forRoot(p){return{ngModule:d,providers:[{provide:Pi,useValue:p},{provide:a.ip1,useFactory:Os,multi:!0,deps:[Pi,Fe.K0,a.R0b]}]}}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({providers:[ai,Ln,hs],imports:[[Fe.ez]]}),d})()},181:(zt,rt,P)=>{"use strict";P.d(rt,{c:()=>ht});var a=P(5730),k=P(3457);let x;const Ie=we=>we.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pe=we=>(void 0===x&&(x=void 0===we.style.animationName&&void 0!==we.style.webkitAnimationName?"-webkit-":""),x),ne=(we,de,ee)=>{const Ze=de.startsWith("animation")?pe(we):"";we.style.setProperty(Ze+de,ee)},he=(we,de)=>{const ee=de.startsWith("animation")?pe(we):"";we.style.removeProperty(ee+de)},le=[],Xe=(we=[],de)=>{if(void 0!==de){const ee=Array.isArray(de)?de:[de];return[...we,...ee]}return we},ht=we=>{let de,ee,Ze,Ke,je,Ve,X,me,ye,ze,Re,vt,bt,_e=[],De=[],z=[],Be=!1,Ce={},se=[],xe=[],Se={},We=0,Ge=!1,fe=!1,Ye=!0,Fe=!1,Dt=!0,Yt=!1;const _t=we,hn=[],In=[],Cn=[],Kt=[],jn=[],er=[],hr=[],pn=[],Hn=[],Lt=[],Tr="function"==typeof AnimationEffect||void 0!==k.w&&"function"==typeof k.w.AnimationEffect,gr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Tr,$r=()=>Lt,Xr=(re,Ue)=>((Ue?.oneTimeCallback?In:hn).push({c:re,o:Ue}),bt),vr=()=>{if(gr)Lt.forEach(re=>{re.cancel()}),Lt.length=0;else{const re=Cn.slice();(0,a.r)(()=>{re.forEach(Ue=>{he(Ue,"animation-name"),he(Ue,"animation-duration"),he(Ue,"animation-timing-function"),he(Ue,"animation-iteration-count"),he(Ue,"animation-delay"),he(Ue,"animation-play-state"),he(Ue,"animation-fill-mode"),he(Ue,"animation-direction")})})}},Ot=()=>{jn.forEach(re=>{re?.parentNode&&re.parentNode.removeChild(re)}),jn.length=0},bn=()=>void 0!==je?je:X?X.getFill():"both",ar=()=>void 0!==ye?ye:void 0!==Ve?Ve:X?X.getDirection():"normal",Ae=()=>Ge?"linear":void 0!==Ze?Ze:X?X.getEasing():"linear",ge=()=>fe?0:void 0!==ze?ze:void 0!==ee?ee:X?X.getDuration():0,$e=()=>void 0!==Ke?Ke:X?X.getIterations():1,Et=()=>void 0!==Re?Re:void 0!==de?de:X?X.getDelay():0,Lr=()=>{0!==We&&(We--,0===We&&((()=>{Sr(),pn.forEach(wt=>wt()),Hn.forEach(wt=>wt());const re=Ye?1:0,Ue=se,et=xe,ft=Se;Cn.forEach(wt=>{const jt=wt.classList;Ue.forEach(cn=>jt.add(cn)),et.forEach(cn=>jt.remove(cn));for(const cn in ft)ft.hasOwnProperty(cn)&&ne(wt,cn,ft[cn])}),hn.forEach(wt=>wt.c(re,bt)),In.forEach(wt=>wt.c(re,bt)),In.length=0,Dt=!0,Ye&&(Fe=!0),Ye=!0})(),X&&X.animationFinish()))},Jr=(re=!0)=>{Ot();const Ue=(we=>(we.forEach(de=>{for(const ee in de)if(de.hasOwnProperty(ee)){const Ze=de[ee];if("easing"===ee)de["animation-timing-function"]=Ze,delete de[ee];else{const Ke=Ie(ee);Ke!==ee&&(de[Ke]=Ze,delete de[ee])}}}),we))(_e);Cn.forEach(et=>{if(Ue.length>0){const ft=((we=[])=>we.map(de=>{const ee=de.offset,Ze=[];for(const Ke in de)de.hasOwnProperty(Ke)&&"offset"!==Ke&&Ze.push(`${Ke}: ${de[Ke]};`);return`${100*ee}% { ${Ze.join(" ")} }`}).join(" "))(Ue);vt=void 0!==we?we:(we=>{let de=le.indexOf(we);return de<0&&(de=le.push(we)-1),`ion-animation-${de}`})(ft);const wt=((we,de,ee)=>{var Ze;const Ke=(we=>{const de=void 0!==we.getRootNode?we.getRootNode():we;return de.head||de})(ee),je=pe(ee),Ve=Ke.querySelector("#"+we);if(Ve)return Ve;const _e=(null!==(Ze=ee.ownerDocument)&&void 0!==Ze?Ze:document).createElement("style");return _e.id=we,_e.textContent=`@${je}keyframes ${we} { ${de} } @${je}keyframes ${we}-alt { ${de} }`,Ke.appendChild(_e),_e})(vt,ft,et);jn.push(wt),ne(et,"animation-duration",`${ge()}ms`),ne(et,"animation-timing-function",Ae()),ne(et,"animation-delay",`${Et()}ms`),ne(et,"animation-fill-mode",bn()),ne(et,"animation-direction",ar());const jt=$e()===1/0?"infinite":$e().toString();ne(et,"animation-iteration-count",jt),ne(et,"animation-play-state","paused"),re&&ne(et,"animation-name",`${wt.id}-alt`),(0,a.r)(()=>{ne(et,"animation-name",wt.id||null)})}})},Mi=(re=!0)=>{(()=>{er.forEach(ft=>ft()),hr.forEach(ft=>ft());const re=De,Ue=z,et=Ce;Cn.forEach(ft=>{const wt=ft.classList;re.forEach(jt=>wt.add(jt)),Ue.forEach(jt=>wt.remove(jt));for(const jt in et)et.hasOwnProperty(jt)&&ne(ft,jt,et[jt])})})(),_e.length>0&&(gr?(Cn.forEach(re=>{const Ue=re.animate(_e,{id:_t,delay:Et(),duration:ge(),easing:Ae(),iterations:$e(),fill:bn(),direction:ar()});Ue.pause(),Lt.push(Ue)}),Lt.length>0&&(Lt[0].onfinish=()=>{Lr()})):Jr(re)),Be=!0},pi=re=>{if(re=Math.min(Math.max(re,0),.9999),gr)Lt.forEach(Ue=>{Ue.currentTime=Ue.effect.getComputedTiming().delay+ge()*re,Ue.pause()});else{const Ue=`-${ge()*re}ms`;Cn.forEach(et=>{_e.length>0&&(ne(et,"animation-delay",Ue),ne(et,"animation-play-state","paused"))})}},On=re=>{Lt.forEach(Ue=>{Ue.effect.updateTiming({delay:Et(),duration:ge(),easing:Ae(),iterations:$e(),fill:bn(),direction:ar()})}),void 0!==re&&pi(re)},xr=(re=!0,Ue)=>{(0,a.r)(()=>{Cn.forEach(et=>{ne(et,"animation-name",vt||null),ne(et,"animation-duration",`${ge()}ms`),ne(et,"animation-timing-function",Ae()),ne(et,"animation-delay",void 0!==Ue?`-${Ue*ge()}ms`:`${Et()}ms`),ne(et,"animation-fill-mode",bn()||null),ne(et,"animation-direction",ar()||null);const ft=$e()===1/0?"infinite":$e().toString();ne(et,"animation-iteration-count",ft),re&&ne(et,"animation-name",`${vt}-alt`),(0,a.r)(()=>{ne(et,"animation-name",vt||null)})})})},lr=(re=!1,Ue=!0,et)=>(re&&Kt.forEach(ft=>{ft.update(re,Ue,et)}),gr?On(et):xr(Ue,et),bt),Xt=()=>{Be&&(gr?Lt.forEach(re=>{re.pause()}):Cn.forEach(re=>{ne(re,"animation-play-state","paused")}),Yt=!0)},fr=()=>{me=void 0,Lr()},Sr=()=>{me&&clearTimeout(me)},Y=re=>new Promise(Ue=>{re?.sync&&(fe=!0,Xr(()=>fe=!1,{oneTimeCallback:!0})),Be||Mi(),Fe&&(gr?(pi(0),On()):xr(),Fe=!1),Dt&&(We=Kt.length+1,Dt=!1),Xr(()=>Ue(),{oneTimeCallback:!0}),Kt.forEach(et=>{et.play()}),gr?(Lt.forEach(re=>{re.play()}),(0===_e.length||0===Cn.length)&&Lr()):(()=>{if(Sr(),(0,a.r)(()=>{Cn.forEach(re=>{_e.length>0&&ne(re,"animation-play-state","running")})}),0===_e.length||0===Cn.length)Lr();else{const re=Et()||0,Ue=ge()||0,et=$e()||1;isFinite(et)&&(me=setTimeout(fr,re+Ue*et+100)),((we,de)=>{let ee;const Ze={passive:!0},je=Ve=>{we===Ve.target&&(ee&&ee(),Sr(),(0,a.r)(()=>{Cn.forEach(re=>{he(re,"animation-duration"),he(re,"animation-delay"),he(re,"animation-play-state")}),(0,a.r)(Lr)}))};we&&(we.addEventListener("webkitAnimationEnd",je,Ze),we.addEventListener("animationend",je,Ze),ee=()=>{we.removeEventListener("webkitAnimationEnd",je,Ze),we.removeEventListener("animationend",je,Ze)})})(Cn[0])}})(),Yt=!1}),Me=(re,Ue)=>{const et=_e[0];return void 0===et||void 0!==et.offset&&0!==et.offset?_e=[{offset:0,[re]:Ue},..._e]:et[re]=Ue,bt};return bt={parentAnimation:X,elements:Cn,childAnimations:Kt,id:_t,animationFinish:Lr,from:Me,to:(re,Ue)=>{const et=_e[_e.length-1];return void 0===et||void 0!==et.offset&&1!==et.offset?_e=[..._e,{offset:1,[re]:Ue}]:et[re]=Ue,bt},fromTo:(re,Ue,et)=>Me(re,Ue).to(re,et),parent:re=>(X=re,bt),play:Y,pause:()=>(Kt.forEach(re=>{re.pause()}),Xt(),bt),stop:()=>{Kt.forEach(re=>{re.stop()}),Be&&(vr(),Be=!1),Ge=!1,fe=!1,Dt=!0,ye=void 0,ze=void 0,Re=void 0,We=0,Fe=!1,Ye=!0,Yt=!1},destroy:re=>(Kt.forEach(Ue=>{Ue.destroy(re)}),(re=>{vr(),re&&Ot()})(re),Cn.length=0,Kt.length=0,_e.length=0,hn.length=0,In.length=0,Be=!1,Dt=!0,bt),keyframes:re=>{const Ue=_e!==re;return _e=re,Ue&&(re=>{gr?$r().forEach(Ue=>{if(Ue.effect.setKeyframes)Ue.effect.setKeyframes(re);else{const et=new KeyframeEffect(Ue.effect.target,re,Ue.effect.getTiming());Ue.effect=et}}):Jr()})(_e),bt},addAnimation:re=>{if(null!=re)if(Array.isArray(re))for(const Ue of re)Ue.parent(bt),Kt.push(Ue);else re.parent(bt),Kt.push(re);return bt},addElement:re=>{if(null!=re)if(1===re.nodeType)Cn.push(re);else if(re.length>=0)for(let Ue=0;Ue<re.length;Ue++)Cn.push(re[Ue]);else console.error("Invalid addElement value");return bt},update:lr,fill:re=>(je=re,lr(!0),bt),direction:re=>(Ve=re,lr(!0),bt),iterations:re=>(Ke=re,lr(!0),bt),duration:re=>(!gr&&0===re&&(re=1),ee=re,lr(!0),bt),easing:re=>(Ze=re,lr(!0),bt),delay:re=>(de=re,lr(!0),bt),getWebAnimations:$r,getKeyframes:()=>_e,getFill:bn,getDirection:ar,getDelay:Et,getIterations:$e,getEasing:Ae,getDuration:ge,afterAddRead:re=>(pn.push(re),bt),afterAddWrite:re=>(Hn.push(re),bt),afterClearStyles:(re=[])=>{for(const Ue of re)Se[Ue]="";return bt},afterStyles:(re={})=>(Se=re,bt),afterRemoveClass:re=>(xe=Xe(xe,re),bt),afterAddClass:re=>(se=Xe(se,re),bt),beforeAddRead:re=>(er.push(re),bt),beforeAddWrite:re=>(hr.push(re),bt),beforeClearStyles:(re=[])=>{for(const Ue of re)Ce[Ue]="";return bt},beforeStyles:(re={})=>(Ce=re,bt),beforeRemoveClass:re=>(z=Xe(z,re),bt),beforeAddClass:re=>(De=Xe(De,re),bt),onFinish:Xr,isRunning:()=>0!==We&&!Yt,progressStart:(re=!1,Ue)=>(Kt.forEach(et=>{et.progressStart(re,Ue)}),Xt(),Ge=re,Be||Mi(),lr(!1,!0,Ue),bt),progressStep:re=>(Kt.forEach(Ue=>{Ue.progressStep(re)}),pi(re),bt),progressEnd:(re,Ue,et)=>(Ge=!1,Kt.forEach(ft=>{ft.progressEnd(re,Ue,et)}),void 0!==et&&(ze=et),Fe=!1,Ye=!0,0===re?(ye="reverse"===ar()?"normal":"reverse","reverse"===ye&&(Ye=!1),gr?(lr(),pi(1-Ue)):(Re=(1-Ue)*ge()*-1,lr(!1,!1))):1===re&&(gr?(lr(),pi(Ue)):(Re=Ue*ge()*-1,lr(!1,!1))),void 0!==re&&(Xr(()=>{ze=void 0,ye=void 0,Re=void 0},{oneTimeCallback:!0}),X||Y()),bt)}}},4349:(zt,rt,P)=>{"use strict";P.d(rt,{G:()=>Ie});class k{constructor(ne,he,Te,ae,le){this.id=he,this.name=Te,this.disableScroll=le,this.priority=1e6*ae+he,this.ctrl=ne}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ne=this.ctrl.capture(this.name,this.id,this.priority);return ne&&this.disableScroll&&this.ctrl.disableScroll(this.id),ne}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class x{constructor(ne,he,Te,ae){this.id=he,this.disable=Te,this.disableScroll=ae,this.ctrl=ne}block(){if(this.ctrl){if(this.disable)for(const ne of this.disable)this.ctrl.disableGesture(ne,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ne of this.disable)this.ctrl.enableGesture(ne,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ie="backdrop-no-scroll",Ie=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ne){var he;return new k(this,this.newID(),ne.name,null!==(he=ne.priority)&&void 0!==he?he:0,!!ne.disableScroll)}createBlocker(ne={}){return new x(this,this.newID(),ne.disable,!!ne.disableScroll)}start(ne,he,Te){return this.canStart(ne)?(this.requestedStart.set(he,Te),!0):(this.requestedStart.delete(he),!1)}capture(ne,he,Te){if(!this.start(ne,he,Te))return!1;const ae=this.requestedStart;let le=-1e4;if(ae.forEach(ue=>{le=Math.max(le,ue)}),le===Te){this.capturedId=he,ae.clear();const ue=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ne}});return document.dispatchEvent(ue),!0}return ae.delete(he),!1}release(ne){this.requestedStart.delete(ne),this.capturedId===ne&&(this.capturedId=void 0)}disableGesture(ne,he){let Te=this.disabledGestures.get(ne);void 0===Te&&(Te=new Set,this.disabledGestures.set(ne,Te)),Te.add(he)}enableGesture(ne,he){const Te=this.disabledGestures.get(ne);void 0!==Te&&Te.delete(he)}disableScroll(ne){this.disabledScroll.add(ne),1===this.disabledScroll.size&&document.body.classList.add(ie)}enableScroll(ne){this.disabledScroll.delete(ne),0===this.disabledScroll.size&&document.body.classList.remove(ie)}canStart(ne){return!(void 0!==this.capturedId||this.isDisabled(ne))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ne){const he=this.disabledGestures.get(ne);return!!(he&&he.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(zt,rt,P)=>{"use strict";P.r(rt),P.d(rt,{MENU_BACK_BUTTON_PRIORITY:()=>Ie,OVERLAY_BACK_BUTTON_PRIORITY:()=>ie,blockHardwareBackButton:()=>k,startHardwareBackButton:()=>x});var a=P(5861);const k=()=>{document.addEventListener("backbutton",()=>{})},x=()=>{const pe=document;let ne=!1;pe.addEventListener("backbutton",()=>{if(ne)return;let he=0,Te=[];const ae=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Oe,ke){Te.push({priority:Oe,handler:ke,id:he++})}}});pe.dispatchEvent(ae);const le=function(){var Oe=(0,a.Z)(function*(ke){try{if(ke?.handler){const Xe=ke.handler(ue);null!=Xe&&(yield Xe)}}catch(Xe){console.error(Xe)}});return function(Xe){return Oe.apply(this,arguments)}}(),ue=()=>{if(Te.length>0){let Oe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Te.forEach(ke=>{ke.priority>=Oe.priority&&(Oe=ke)}),ne=!0,Te=Te.filter(ke=>ke.id!==Oe.id),le(Oe).then(()=>ne=!1)}};ue()})},ie=100,Ie=99},5730:(zt,rt,P)=>{"use strict";P.d(rt,{a:()=>ne,b:()=>he,c:()=>x,d:()=>ke,e:()=>Xe,f:()=>Oe,g:()=>Te,h:()=>Ke,i:()=>pe,j:()=>ie,k:()=>ue,l:()=>ht,m:()=>le,n:()=>we,o:()=>Ze,p:()=>ee,q:()=>je,r:()=>ae,s:()=>Ve,t:()=>a,u:()=>de});const a=(_e,De=0)=>new Promise(z=>{k(_e,De,z)}),k=(_e,De=0,z)=>{let Be,X;const Ce={passive:!0},xe=()=>{Be&&Be()},Se=We=>{(void 0===We||_e===We.target)&&(xe(),z(We))};return _e&&(_e.addEventListener("webkitTransitionEnd",Se,Ce),_e.addEventListener("transitionend",Se,Ce),X=setTimeout(Se,De+500),Be=()=>{X&&(clearTimeout(X),X=void 0),_e.removeEventListener("webkitTransitionEnd",Se,Ce),_e.removeEventListener("transitionend",Se,Ce)}),xe},x=(_e,De)=>{_e.componentOnReady?_e.componentOnReady().then(z=>De(z)):ae(()=>De(_e))},ie=(_e,De=[])=>{const z={};return De.forEach(Be=>{_e.hasAttribute(Be)&&(null!==_e.getAttribute(Be)&&(z[Be]=_e.getAttribute(Be)),_e.removeAttribute(Be))}),z},Ie=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],pe=(_e,De)=>{let z=Ie;return De&&De.length>0&&(z=z.filter(Be=>!De.includes(Be))),ie(_e,z)},ne=(_e,De,z,Be)=>{var X;if(typeof window<"u"){const se=null===(X=window?.Ionic)||void 0===X?void 0:X.config;if(se){const xe=se.get("_ael");if(xe)return xe(_e,De,z,Be);if(se._ael)return se._ael(_e,De,z,Be)}}return _e.addEventListener(De,z,Be)},he=(_e,De,z,Be)=>{var X;if(typeof window<"u"){const se=null===(X=window?.Ionic)||void 0===X?void 0:X.config;if(se){const xe=se.get("_rel");if(xe)return xe(_e,De,z,Be);if(se._rel)return se._rel(_e,De,z,Be)}}return _e.removeEventListener(De,z,Be)},Te=(_e,De=_e)=>_e.shadowRoot||De,ae=_e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_e):"function"==typeof requestAnimationFrame?requestAnimationFrame(_e):setTimeout(_e),le=_e=>!!_e.shadowRoot&&!!_e.attachShadow,ue=_e=>{const De=_e.closest("ion-item");return De?De.querySelector("ion-label"):null},Oe=_e=>{if(_e.focus(),_e.classList.contains("ion-focusable")){const De=_e.closest("ion-app");De&&De.setFocus([_e])}},ke=(_e,De)=>{let z;const Be=_e.getAttribute("aria-labelledby"),X=_e.id;let Ce=null!==Be&&""!==Be.trim()?Be:De+"-lbl",se=null!==Be&&""!==Be.trim()?document.getElementById(Be):ue(_e);return se?(null===Be&&(se.id=Ce),z=se.textContent,se.setAttribute("aria-hidden","true")):""!==X.trim()&&(se=document.querySelector(`label[for="${X}"]`),se&&(""!==se.id?Ce=se.id:se.id=Ce=`${X}-lbl`,z=se.textContent)),{label:se,labelId:Ce,labelText:z}},Xe=(_e,De,z,Be,X)=>{if(_e||le(De)){let Ce=De.querySelector("input.aux-input");Ce||(Ce=De.ownerDocument.createElement("input"),Ce.type="hidden",Ce.classList.add("aux-input"),De.appendChild(Ce)),Ce.disabled=X,Ce.name=z,Ce.value=Be||""}},ht=(_e,De,z)=>Math.max(_e,Math.min(De,z)),we=(_e,De)=>{if(!_e){const z="ASSERT: "+De;throw console.error(z),new Error(z)}},de=_e=>_e.timeStamp||Date.now(),ee=_e=>{if(_e){const De=_e.changedTouches;if(De&&De.length>0){const z=De[0];return{x:z.clientX,y:z.clientY}}if(void 0!==_e.pageX)return{x:_e.pageX,y:_e.pageY}}return{x:0,y:0}},Ze=_e=>{const De="rtl"===document.dir;switch(_e){case"start":return De;case"end":return!De;default:throw new Error(`"${_e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ke=(_e,De)=>{const z=_e._original||_e;return{_original:_e,emit:je(z.emit.bind(z),De)}},je=(_e,De=0)=>{let z;return(...Be)=>{clearTimeout(z),z=setTimeout(_e,De,...Be)}},Ve=(_e,De)=>{if(_e??(_e={}),De??(De={}),_e===De)return!0;const z=Object.keys(_e);if(z.length!==Object.keys(De).length)return!1;for(const Be of z)if(!(Be in De)||_e[Be]!==De[Be])return!1;return!0}},1843:(zt,rt,P)=>{"use strict";P.d(rt,{L:()=>ie,a:()=>Ie,b:()=>pe,c:()=>ne,d:()=>he,e:()=>De,g:()=>X,l:()=>Ve,s:()=>z,t:()=>le});var a=P(5861),k=P(1308),x=P(5730);const ie="ionViewWillEnter",Ie="ionViewDidEnter",pe="ionViewWillLeave",ne="ionViewDidLeave",he="ionViewWillUnload",le=Ce=>new Promise((se,xe)=>{(0,k.c)(()=>{ue(Ce),Oe(Ce).then(Se=>{Se.animation&&Se.animation.destroy(),ke(Ce),se(Se)},Se=>{ke(Ce),xe(Se)})})}),ue=Ce=>{const se=Ce.enteringEl,xe=Ce.leavingEl;Be(se,xe,Ce.direction),Ce.showGoBack?se.classList.add("can-go-back"):se.classList.remove("can-go-back"),z(se,!1),se.style.setProperty("pointer-events","none"),xe&&(z(xe,!1),xe.style.setProperty("pointer-events","none"))},Oe=function(){var Ce=(0,a.Z)(function*(se){const xe=yield Xe(se);return xe&&k.B.isBrowser?ht(xe,se):we(se)});return function(xe){return Ce.apply(this,arguments)}}(),ke=Ce=>{const se=Ce.enteringEl,xe=Ce.leavingEl;se.classList.remove("ion-page-invisible"),se.style.removeProperty("pointer-events"),void 0!==xe&&(xe.classList.remove("ion-page-invisible"),xe.style.removeProperty("pointer-events"))},Xe=function(){var Ce=(0,a.Z)(function*(se){return se.leavingEl&&se.animated&&0!==se.duration?se.animationBuilder?se.animationBuilder:"ios"===se.mode?(yield Promise.resolve().then(P.bind(P,6439))).iosTransitionAnimation:(yield Promise.resolve().then(P.bind(P,7838))).mdTransitionAnimation:void 0});return function(xe){return Ce.apply(this,arguments)}}(),ht=function(){var Ce=(0,a.Z)(function*(se,xe){yield de(xe,!0);const Se=se(xe.baseEl,xe);Ke(xe.enteringEl,xe.leavingEl);const We=yield Ze(Se,xe);return xe.progressCallback&&xe.progressCallback(void 0),We&&je(xe.enteringEl,xe.leavingEl),{hasCompleted:We,animation:Se}});return function(xe,Se){return Ce.apply(this,arguments)}}(),we=function(){var Ce=(0,a.Z)(function*(se){const xe=se.enteringEl,Se=se.leavingEl;return yield de(se,!1),Ke(xe,Se),je(xe,Se),{hasCompleted:!0}});return function(xe){return Ce.apply(this,arguments)}}(),de=function(){var Ce=(0,a.Z)(function*(se,xe){const We=(void 0!==se.deepWait?se.deepWait:xe)?[De(se.enteringEl),De(se.leavingEl)]:[_e(se.enteringEl),_e(se.leavingEl)];yield Promise.all(We),yield ee(se.viewIsReady,se.enteringEl)});return function(xe,Se){return Ce.apply(this,arguments)}}(),ee=function(){var Ce=(0,a.Z)(function*(se,xe){se&&(yield se(xe))});return function(xe,Se){return Ce.apply(this,arguments)}}(),Ze=(Ce,se)=>{const xe=se.progressCallback,Se=new Promise(We=>{Ce.onFinish(Ge=>We(1===Ge))});return xe?(Ce.progressStart(!0),xe(Ce)):Ce.play(),Se},Ke=(Ce,se)=>{Ve(se,pe),Ve(Ce,ie)},je=(Ce,se)=>{Ve(Ce,Ie),Ve(se,ne)},Ve=(Ce,se)=>{if(Ce){const xe=new CustomEvent(se,{bubbles:!1,cancelable:!1});Ce.dispatchEvent(xe)}},_e=Ce=>Ce?new Promise(se=>(0,x.c)(Ce,se)):Promise.resolve(),De=function(){var Ce=(0,a.Z)(function*(se){const xe=se;if(xe){if(null!=xe.componentOnReady){if(null!=(yield xe.componentOnReady()))return}else if(null!=xe.__registerHost)return void(yield new Promise(We=>(0,x.r)(We)));yield Promise.all(Array.from(xe.children).map(De))}});return function(xe){return Ce.apply(this,arguments)}}(),z=(Ce,se)=>{se?(Ce.setAttribute("aria-hidden","true"),Ce.classList.add("ion-page-hidden")):(Ce.hidden=!1,Ce.removeAttribute("aria-hidden"),Ce.classList.remove("ion-page-hidden"))},Be=(Ce,se,xe)=>{void 0!==Ce&&(Ce.style.zIndex="back"===xe?"99":"101"),void 0!==se&&(se.style.zIndex="100")},X=Ce=>Ce.classList.contains("ion-page")?Ce:Ce.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ce},6369:(zt,rt,P)=>{"use strict";P.d(rt,{m:()=>le});var a=P(5861),k=P(7593),x=P(5730),ie=P(5179),Ie=P(181);const pe=ue=>(0,Ie.c)().duration(ue?400:300),ne=ue=>{let Oe,ke;const Xe=ue.width+8,ht=(0,Ie.c)(),we=(0,Ie.c)();ue.isEndSide?(Oe=Xe+"px",ke="0px"):(Oe=-Xe+"px",ke="0px"),ht.addElement(ue.menuInnerEl).fromTo("transform",`translateX(${Oe})`,`translateX(${ke})`);const ee="ios"===(0,ie.b)(ue),Ze=ee?.2:.25;return we.addElement(ue.backdropEl).fromTo("opacity",.01,Ze),pe(ee).addAnimation([ht,we])},he=ue=>{let Oe,ke;const Xe=(0,ie.b)(ue),ht=ue.width;ue.isEndSide?(Oe=-ht+"px",ke=ht+"px"):(Oe=ht+"px",ke=-ht+"px");const we=(0,Ie.c)().addElement(ue.menuInnerEl).fromTo("transform",`translateX(${ke})`,"translateX(0px)"),de=(0,Ie.c)().addElement(ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${Oe})`),ee=(0,Ie.c)().addElement(ue.backdropEl).fromTo("opacity",.01,.32);return pe("ios"===Xe).addAnimation([we,de,ee])},Te=ue=>{const Oe=(0,ie.b)(ue),ke=ue.width*(ue.isEndSide?-1:1)+"px",Xe=(0,Ie.c)().addElement(ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${ke})`);return pe("ios"===Oe).addAnimation(Xe)},le=(()=>{const ue=new Map,Oe=[],ke=function(){var me=(0,a.Z)(function*(ye){const ze=yield Ke(ye);return!!ze&&ze.open()});return function(ze){return me.apply(this,arguments)}}(),Xe=function(){var me=(0,a.Z)(function*(ye){const ze=yield void 0!==ye?Ke(ye):je();return void 0!==ze&&ze.close()});return function(ze){return me.apply(this,arguments)}}(),ht=function(){var me=(0,a.Z)(function*(ye){const ze=yield Ke(ye);return!!ze&&ze.toggle()});return function(ze){return me.apply(this,arguments)}}(),we=function(){var me=(0,a.Z)(function*(ye,ze){const Re=yield Ke(ze);return Re&&(Re.disabled=!ye),Re});return function(ze,Re){return me.apply(this,arguments)}}(),de=function(){var me=(0,a.Z)(function*(ye,ze){const Re=yield Ke(ze);return Re&&(Re.swipeGesture=ye),Re});return function(ze,Re){return me.apply(this,arguments)}}(),ee=function(){var me=(0,a.Z)(function*(ye){if(null!=ye){const ze=yield Ke(ye);return void 0!==ze&&ze.isOpen()}return void 0!==(yield je())});return function(ze){return me.apply(this,arguments)}}(),Ze=function(){var me=(0,a.Z)(function*(ye){const ze=yield Ke(ye);return!!ze&&!ze.disabled});return function(ze){return me.apply(this,arguments)}}(),Ke=function(){var me=(0,a.Z)(function*(ye){return yield fe(),"start"===ye||"end"===ye?Ge(Ye=>Ye.side===ye&&!Ye.disabled)||Ge(Ye=>Ye.side===ye):null!=ye?Ge(Re=>Re.menuId===ye):Ge(Re=>!Re.disabled)||(Oe.length>0?Oe[0].el:void 0)});return function(ze){return me.apply(this,arguments)}}(),je=function(){var me=(0,a.Z)(function*(){return yield fe(),xe()});return function(){return me.apply(this,arguments)}}(),Ve=function(){var me=(0,a.Z)(function*(){return yield fe(),Se()});return function(){return me.apply(this,arguments)}}(),_e=function(){var me=(0,a.Z)(function*(){return yield fe(),We()});return function(){return me.apply(this,arguments)}}(),De=(me,ye)=>{ue.set(me,ye)},X=me=>{const ye=me.side;Oe.filter(ze=>ze.side===ye&&ze!==me).forEach(ze=>ze.disabled=!0)},Ce=function(){var me=(0,a.Z)(function*(ye,ze,Re){if(We())return!1;if(ze){const Ye=yield je();Ye&&ye.el!==Ye&&(yield Ye.setOpen(!1,!1))}return ye._setOpen(ze,Re)});return function(ze,Re,Ye){return me.apply(this,arguments)}}(),xe=()=>Ge(me=>me._isOpen),Se=()=>Oe.map(me=>me.el),We=()=>Oe.some(me=>me.isAnimating),Ge=me=>{const ye=Oe.find(me);if(void 0!==ye)return ye.el},fe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(me=>new Promise(ye=>(0,x.c)(me,ye))));return De("reveal",Te),De("push",he),De("overlay",ne),typeof document<"u"&&document.addEventListener("ionBackButton",me=>{const ye=xe();ye&&me.detail.register(k.MENU_BACK_BUTTON_PRIORITY,()=>ye.close())}),{registerAnimation:De,get:Ke,getMenus:Ve,getOpen:je,isEnabled:Ze,swipeGesture:de,isAnimating:_e,isOpen:ee,enable:we,toggle:ht,close:Xe,open:ke,_getOpenSync:xe,_createAnimation:(me,ye)=>{const ze=ue.get(me);if(!ze)throw new Error("animation not registered");return ze(ye)},_register:me=>{Oe.indexOf(me)<0&&(me.disabled||X(me),Oe.push(me))},_unregister:me=>{const ye=Oe.indexOf(me);ye>-1&&Oe.splice(ye,1)},_setOpen:Ce,_setActiveMenu:X}})()},3457:(zt,rt,P)=>{"use strict";P.d(rt,{w:()=>a});const a=typeof window<"u"?window:void 0},1898:(zt,rt,P)=>{"use strict";P.r(rt),P.d(rt,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>Te});var a=P(4349);const k=(Oe,ke,Xe,ht)=>{const we=x(Oe)?{capture:!!ht.capture,passive:!!ht.passive}:!!ht.capture;let de,ee;return Oe.__zone_symbol__addEventListener?(de="__zone_symbol__addEventListener",ee="__zone_symbol__removeEventListener"):(de="addEventListener",ee="removeEventListener"),Oe[de](ke,Xe,we),()=>{Oe[ee](ke,Xe,we)}},x=Oe=>{if(void 0===ie)try{const ke=Object.defineProperty({},"passive",{get:()=>{ie=!0}});Oe.addEventListener("optsTest",()=>{},ke)}catch{ie=!1}return!!ie};let ie;const ne=Oe=>Oe instanceof Document?Oe:Oe.ownerDocument,Te=Oe=>{let ke=!1,Xe=!1,ht=!0,we=!1;const de=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Oe),ee=de.canStart,Ze=de.onWillStart,Ke=de.onStart,je=de.onEnd,Ve=de.notCaptured,_e=de.onMove,De=de.threshold,z=de.passive,Be=de.blurOnStart,X={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ce=((Oe,ke,Xe)=>{const ht=Xe*(Math.PI/180),we="x"===Oe,de=Math.cos(ht),ee=ke*ke;let Ze=0,Ke=0,je=!1,Ve=0;return{start(_e,De){Ze=_e,Ke=De,Ve=0,je=!0},detect(_e,De){if(!je)return!1;const z=_e-Ze,Be=De-Ke,X=z*z+Be*Be;if(X<ee)return!1;const Ce=Math.sqrt(X),se=(we?z:Be)/Ce;return Ve=se>de?1:se<-de?-1:0,je=!1,!0},isGesture:()=>0!==Ve,getDirection:()=>Ve}})(de.direction,de.threshold,de.maxAngle),se=a.G.createGesture({name:Oe.gestureName,priority:Oe.gesturePriority,disableScroll:Oe.disableScroll}),We=()=>{ke&&(we=!1,_e&&_e(X))},Ge=()=>!!se.capture()&&(ke=!0,ht=!1,X.startX=X.currentX,X.startY=X.currentY,X.startTime=X.currentTime,Ze?Ze(X).then(me):me(),!0),me=()=>{Be&&(()=>{if(typeof document<"u"){const Fe=document.activeElement;Fe?.blur&&Fe.blur()}})(),Ke&&Ke(X),ht=!0},ye=()=>{ke=!1,Xe=!1,we=!1,ht=!0,se.release()},ze=Fe=>{const Dt=ke,vt=ht;if(ye(),vt){if(ae(X,Fe),Dt)return void(je&&je(X));Ve&&Ve(X)}},Re=((Oe,ke,Xe,ht,we)=>{let de,ee,Ze,Ke,je,Ve,_e,De=0;const z=fe=>{De=Date.now()+2e3,ke(fe)&&(!ee&&Xe&&(ee=k(Oe,"touchmove",Xe,we)),Ze||(Ze=k(fe.target,"touchend",X,we)),Ke||(Ke=k(fe.target,"touchcancel",X,we)))},Be=fe=>{De>Date.now()||ke(fe)&&(!Ve&&Xe&&(Ve=k(ne(Oe),"mousemove",Xe,we)),_e||(_e=k(ne(Oe),"mouseup",Ce,we)))},X=fe=>{se(),ht&&ht(fe)},Ce=fe=>{xe(),ht&&ht(fe)},se=()=>{ee&&ee(),Ze&&Ze(),Ke&&Ke(),ee=Ze=Ke=void 0},xe=()=>{Ve&&Ve(),_e&&_e(),Ve=_e=void 0},Se=()=>{se(),xe()},We=(fe=!0)=>{fe?(de||(de=k(Oe,"touchstart",z,we)),je||(je=k(Oe,"mousedown",Be,we))):(de&&de(),je&&je(),de=je=void 0,Se())};return{enable:We,stop:Se,destroy:()=>{We(!1),ht=Xe=ke=void 0}}})(de.el,Fe=>{const Dt=ue(Fe);return!(Xe||!ht||(le(Fe,X),X.startX=X.currentX,X.startY=X.currentY,X.startTime=X.currentTime=Dt,X.velocityX=X.velocityY=X.deltaX=X.deltaY=0,X.event=Fe,ee&&!1===ee(X))||(se.release(),!se.start()))&&(Xe=!0,0===De?Ge():(Ce.start(X.startX,X.startY),!0))},Fe=>{ke?!we&&ht&&(we=!0,ae(X,Fe),requestAnimationFrame(We)):(ae(X,Fe),Ce.detect(X.currentX,X.currentY)&&(!Ce.isGesture()||!Ge())&&Ye())},ze,{capture:!1,passive:z}),Ye=()=>{ye(),Re.stop(),Ve&&Ve(X)};return{enable(Fe=!0){Fe||(ke&&ze(void 0),ye()),Re.enable(Fe)},destroy(){se.destroy(),Re.destroy()}}},ae=(Oe,ke)=>{if(!ke)return;const Xe=Oe.currentX,ht=Oe.currentY,we=Oe.currentTime;le(ke,Oe);const de=Oe.currentX,ee=Oe.currentY,Ke=(Oe.currentTime=ue(ke))-we;if(Ke>0&&Ke<100){const Ve=(ee-ht)/Ke;Oe.velocityX=(de-Xe)/Ke*.7+.3*Oe.velocityX,Oe.velocityY=.7*Ve+.3*Oe.velocityY}Oe.deltaX=de-Oe.startX,Oe.deltaY=ee-Oe.startY,Oe.event=ke},le=(Oe,ke)=>{let Xe=0,ht=0;if(Oe){const we=Oe.changedTouches;if(we&&we.length>0){const de=we[0];Xe=de.clientX,ht=de.clientY}else void 0!==Oe.pageX&&(Xe=Oe.pageX,ht=Oe.pageY)}ke.currentX=Xe,ke.currentY=ht},ue=Oe=>Oe.timeStamp||Date.now()},1308:(zt,rt,P)=>{"use strict";P.d(rt,{B:()=>_r,H:()=>Cn,a:()=>Ye,b:()=>Qr,c:()=>ti,e:()=>Sn,f:()=>Pr,g:()=>Fe,h:()=>hn,i:()=>$n,j:()=>ar,k:()=>vi,p:()=>ht,r:()=>ir,s:()=>ke});var a=P(5861);let x,ie,Ie,pe=!1,ne=!1,he=!1,Te=!1,ae=!1;const le=typeof window<"u"?window:{},ue=le.document||{head:{}},Oe={$flags$:0,$resourcesUrl$:"",jmp:Y=>Y(),raf:Y=>requestAnimationFrame(Y),ael:(Y,oe,Me,Je)=>Y.addEventListener(oe,Me,Je),rel:(Y,oe,Me,Je)=>Y.removeEventListener(oe,Me,Je),ce:(Y,oe)=>new CustomEvent(Y,oe)},ke=Y=>{Object.assign(Oe,Y)},ht=Y=>Promise.resolve(Y),we=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),de=(Y,oe,Me,Je)=>{Me&&Me.map(([yt,re,Ue])=>{const et=Ze(Y,yt),ft=ee(oe,Ue),wt=Ke(yt);Oe.ael(et,re,ft,wt),(oe.$rmListeners$=oe.$rmListeners$||[]).push(()=>Oe.rel(et,re,ft,wt))})},ee=(Y,oe)=>Me=>{try{256&Y.$flags$?Y.$lazyInstance$[oe](Me):(Y.$queuedListeners$=Y.$queuedListeners$||[]).push([oe,Me])}catch(Je){On(Je)}},Ze=(Y,oe)=>4&oe?ue:8&oe?le:16&oe?ue.body:Y,Ke=Y=>0!=(2&Y),z="s-id",Be="sty-id",X="c-id",se="http://www.w3.org/1999/xlink",We=new WeakMap,Ge=(Y,oe,Me)=>{let Je=jr.get(Y);we&&Me?(Je=Je||new CSSStyleSheet,"string"==typeof Je?Je=oe:Je.replaceSync(oe)):Je=oe,jr.set(Y,Je)},fe=(Y,oe,Me,Je)=>{let yt=ye(oe,Me);const re=jr.get(yt);if(Y=11===Y.nodeType?Y:ue,re)if("string"==typeof re){let et,Ue=We.get(Y=Y.head||Y);Ue||We.set(Y,Ue=new Set),Ue.has(yt)||(Y.host&&(et=Y.querySelector(`[${Be}="${yt}"]`))?et.innerHTML=re:(et=ue.createElement("style"),et.innerHTML=re,Y.insertBefore(et,Y.querySelector("link"))),Ue&&Ue.add(yt))}else Y.adoptedStyleSheets.includes(re)||(Y.adoptedStyleSheets=[...Y.adoptedStyleSheets,re]);return yt},ye=(Y,oe)=>"sc-"+(oe&&32&Y.$flags$?Y.$tagName$+"-"+oe:Y.$tagName$),ze=Y=>Y.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ye=Y=>Rr.push(Y),Fe=Y=>Jr(Y).$modeName$,Dt={},_t=Y=>"object"==(Y=typeof Y)||"function"===Y,hn=(Y,oe,...Me)=>{let Je=null,yt=null,re=null,Ue=!1,et=!1;const ft=[],wt=cn=>{for(let mn=0;mn<cn.length;mn++)Je=cn[mn],Array.isArray(Je)?wt(Je):null!=Je&&"boolean"!=typeof Je&&((Ue="function"!=typeof Y&&!_t(Je))&&(Je=String(Je)),Ue&&et?ft[ft.length-1].$text$+=Je:ft.push(Ue?In(null,Je):Je),et=Ue)};if(wt(Me),oe){oe.key&&(yt=oe.key),oe.name&&(re=oe.name);{const cn=oe.className||oe.class;cn&&(oe.class="object"!=typeof cn?cn:Object.keys(cn).filter(mn=>cn[mn]).join(" "))}}if("function"==typeof Y)return Y(null===oe?{}:oe,ft,jn);const jt=In(Y,null);return jt.$attrs$=oe,ft.length>0&&(jt.$children$=ft),jt.$key$=yt,jt.$name$=re,jt},In=(Y,oe)=>({$flags$:0,$tag$:Y,$text$:oe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Cn={},jn={forEach:(Y,oe)=>Y.map(er).forEach(oe),map:(Y,oe)=>Y.map(er).map(oe).map(hr)},er=Y=>({vattrs:Y.$attrs$,vchildren:Y.$children$,vkey:Y.$key$,vname:Y.$name$,vtag:Y.$tag$,vtext:Y.$text$}),hr=Y=>{if("function"==typeof Y.vtag){const Me=Object.assign({},Y.vattrs);return Y.vkey&&(Me.key=Y.vkey),Y.vname&&(Me.name=Y.vname),hn(Y.vtag,Me,...Y.vchildren||[])}const oe=In(Y.vtag,Y.vtext);return oe.$attrs$=Y.vattrs,oe.$children$=Y.vchildren,oe.$key$=Y.vkey,oe.$name$=Y.vname,oe},pn=(Y,oe,Me,Je,yt,re)=>{if(Me!==Je){let Ue=pi(Y,oe),et=oe.toLowerCase();if("class"===oe){const ft=Y.classList,wt=Lt(Me),jt=Lt(Je);ft.remove(...wt.filter(cn=>cn&&!jt.includes(cn))),ft.add(...jt.filter(cn=>cn&&!wt.includes(cn)))}else if("style"===oe){for(const ft in Me)(!Je||null==Je[ft])&&(ft.includes("-")?Y.style.removeProperty(ft):Y.style[ft]="");for(const ft in Je)(!Me||Je[ft]!==Me[ft])&&(ft.includes("-")?Y.style.setProperty(ft,Je[ft]):Y.style[ft]=Je[ft])}else if("key"!==oe)if("ref"===oe)Je&&Je(Y);else if(Ue||"o"!==oe[0]||"n"!==oe[1]){const ft=_t(Je);if((Ue||ft&&null!==Je)&&!yt)try{if(Y.tagName.includes("-"))Y[oe]=Je;else{const jt=Je??"";"list"===oe?Ue=!1:(null==Me||Y[oe]!=jt)&&(Y[oe]=jt)}}catch{}let wt=!1;et!==(et=et.replace(/^xlink\:?/,""))&&(oe=et,wt=!0),null==Je||!1===Je?(!1!==Je||""===Y.getAttribute(oe))&&(wt?Y.removeAttributeNS(se,oe):Y.removeAttribute(oe)):(!Ue||4&re||yt)&&!ft&&(Je=!0===Je?"":Je,wt?Y.setAttributeNS(se,oe,Je):Y.setAttribute(oe,Je))}else oe="-"===oe[2]?oe.slice(3):pi(le,et)?et.slice(2):et[2]+oe.slice(3),Me&&Oe.rel(Y,oe,Me,!1),Je&&Oe.ael(Y,oe,Je,!1)}},Hn=/\s/,Lt=Y=>Y?Y.split(Hn):[],Tr=(Y,oe,Me,Je)=>{const yt=11===oe.$elm$.nodeType&&oe.$elm$.host?oe.$elm$.host:oe.$elm$,re=Y&&Y.$attrs$||Dt,Ue=oe.$attrs$||Dt;for(Je in re)Je in Ue||pn(yt,Je,re[Je],void 0,Me,oe.$flags$);for(Je in Ue)pn(yt,Je,re[Je],Ue[Je],Me,oe.$flags$)},gr=(Y,oe,Me,Je)=>{const yt=oe.$children$[Me];let Ue,et,ft,re=0;if(pe||(he=!0,"slot"===yt.$tag$&&(x&&Je.classList.add(x+"-s"),yt.$flags$|=yt.$children$?2:1)),null!==yt.$text$)Ue=yt.$elm$=ue.createTextNode(yt.$text$);else if(1&yt.$flags$)Ue=yt.$elm$=ue.createTextNode("");else{if(Te||(Te="svg"===yt.$tag$),Ue=yt.$elm$=ue.createElementNS(Te?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&yt.$flags$?"slot-fb":yt.$tag$),Te&&"foreignObject"===yt.$tag$&&(Te=!1),Tr(null,yt,Te),(Y=>null!=Y)(x)&&Ue["s-si"]!==x&&Ue.classList.add(Ue["s-si"]=x),yt.$children$)for(re=0;re<yt.$children$.length;++re)et=gr(Y,yt,re,Ue),et&&Ue.appendChild(et);"svg"===yt.$tag$?Te=!1:"foreignObject"===Ue.tagName&&(Te=!0)}return Ue["s-hn"]=Ie,3&yt.$flags$&&(Ue["s-sr"]=!0,Ue["s-cr"]=ie,Ue["s-sn"]=yt.$name$||"",ft=Y&&Y.$children$&&Y.$children$[Me],ft&&ft.$tag$===yt.$tag$&&Y.$elm$&&mr(Y.$elm$,!1)),Ue},mr=(Y,oe)=>{Oe.$flags$|=1;const Me=Y.childNodes;for(let Je=Me.length-1;Je>=0;Je--){const yt=Me[Je];yt["s-hn"]!==Ie&&yt["s-ol"]&&(Xr(yt).insertBefore(yt,un(yt)),yt["s-ol"].remove(),yt["s-ol"]=void 0,he=!0),oe&&mr(yt,oe)}Oe.$flags$&=-2},$r=(Y,oe,Me,Je,yt,re)=>{let et,Ue=Y["s-cr"]&&Y["s-cr"].parentNode||Y;for(Ue.shadowRoot&&Ue.tagName===Ie&&(Ue=Ue.shadowRoot);yt<=re;++yt)Je[yt]&&(et=gr(null,Me,yt,Y),et&&(Je[yt].$elm$=et,Ue.insertBefore(et,un(oe))))},sr=(Y,oe,Me,Je,yt)=>{for(;oe<=Me;++oe)(Je=Y[oe])&&(yt=Je.$elm$,tr(Je),ne=!0,yt["s-ol"]?yt["s-ol"].remove():mr(yt,!0),yt.remove())},on=(Y,oe)=>Y.$tag$===oe.$tag$&&("slot"===Y.$tag$?Y.$name$===oe.$name$:Y.$key$===oe.$key$),un=Y=>Y&&Y["s-ol"]||Y,Xr=Y=>(Y["s-ol"]?Y["s-ol"]:Y).parentNode,ln=(Y,oe)=>{const Me=oe.$elm$=Y.$elm$,Je=Y.$children$,yt=oe.$children$,re=oe.$tag$,Ue=oe.$text$;let et;null===Ue?(Te="svg"===re||"foreignObject"!==re&&Te,"slot"===re||Tr(Y,oe,Te),null!==Je&&null!==yt?((Y,oe,Me,Je)=>{let Hr,qe,yt=0,re=0,Ue=0,et=0,ft=oe.length-1,wt=oe[0],jt=oe[ft],cn=Je.length-1,mn=Je[0],Mn=Je[cn];for(;yt<=ft&&re<=cn;)if(null==wt)wt=oe[++yt];else if(null==jt)jt=oe[--ft];else if(null==mn)mn=Je[++re];else if(null==Mn)Mn=Je[--cn];else if(on(wt,mn))ln(wt,mn),wt=oe[++yt],mn=Je[++re];else if(on(jt,Mn))ln(jt,Mn),jt=oe[--ft],Mn=Je[--cn];else if(on(wt,Mn))("slot"===wt.$tag$||"slot"===Mn.$tag$)&&mr(wt.$elm$.parentNode,!1),ln(wt,Mn),Y.insertBefore(wt.$elm$,jt.$elm$.nextSibling),wt=oe[++yt],Mn=Je[--cn];else if(on(jt,mn))("slot"===wt.$tag$||"slot"===Mn.$tag$)&&mr(jt.$elm$.parentNode,!1),ln(jt,mn),Y.insertBefore(jt.$elm$,wt.$elm$),jt=oe[--ft],mn=Je[++re];else{for(Ue=-1,et=yt;et<=ft;++et)if(oe[et]&&null!==oe[et].$key$&&oe[et].$key$===mn.$key$){Ue=et;break}Ue>=0?(qe=oe[Ue],qe.$tag$!==mn.$tag$?Hr=gr(oe&&oe[re],Me,Ue,Y):(ln(qe,mn),oe[Ue]=void 0,Hr=qe.$elm$),mn=Je[++re]):(Hr=gr(oe&&oe[re],Me,re,Y),mn=Je[++re]),Hr&&Xr(wt.$elm$).insertBefore(Hr,un(wt.$elm$))}yt>ft?$r(Y,null==Je[cn+1]?null:Je[cn+1].$elm$,Me,Je,re,cn):re>cn&&sr(oe,yt,ft)})(Me,Je,oe,yt):null!==yt?(null!==Y.$text$&&(Me.textContent=""),$r(Me,null,oe,yt,0,yt.length-1)):null!==Je&&sr(Je,0,Je.length-1),Te&&"svg"===re&&(Te=!1)):(et=Me["s-cr"])?et.parentNode.textContent=Ue:Y.$text$!==Ue&&(Me.data=Ue)},vr=Y=>{const oe=Y.childNodes;let Me,Je,yt,re,Ue,et;for(Je=0,yt=oe.length;Je<yt;Je++)if(Me=oe[Je],1===Me.nodeType){if(Me["s-sr"])for(Ue=Me["s-sn"],Me.hidden=!1,re=0;re<yt;re++)if(et=oe[re].nodeType,oe[re]["s-hn"]!==Me["s-hn"]||""!==Ue){if(1===et&&Ue===oe[re].getAttribute("slot")){Me.hidden=!0;break}}else if(1===et||3===et&&""!==oe[re].textContent.trim()){Me.hidden=!0;break}vr(Me)}},Ot=[],Vr=Y=>{let oe,Me,Je,yt,re,Ue,et=0;const ft=Y.childNodes,wt=ft.length;for(;et<wt;et++){if(oe=ft[et],oe["s-sr"]&&(Me=oe["s-cr"])&&Me.parentNode)for(Je=Me.parentNode.childNodes,yt=oe["s-sn"],Ue=Je.length-1;Ue>=0;Ue--)Me=Je[Ue],!Me["s-cn"]&&!Me["s-nr"]&&Me["s-hn"]!==oe["s-hn"]&&(fi(Me,yt)?(re=Ot.find(jt=>jt.$nodeToRelocate$===Me),ne=!0,Me["s-sn"]=Me["s-sn"]||yt,re?re.$slotRefNode$=oe:Ot.push({$slotRefNode$:oe,$nodeToRelocate$:Me}),Me["s-sr"]&&Ot.map(jt=>{fi(jt.$nodeToRelocate$,Me["s-sn"])&&(re=Ot.find(cn=>cn.$nodeToRelocate$===Me),re&&!jt.$slotRefNode$&&(jt.$slotRefNode$=re.$slotRefNode$))})):Ot.some(jt=>jt.$nodeToRelocate$===Me)||Ot.push({$nodeToRelocate$:Me}));1===oe.nodeType&&Vr(oe)}},fi=(Y,oe)=>1===Y.nodeType?null===Y.getAttribute("slot")&&""===oe||Y.getAttribute("slot")===oe:Y["s-sn"]===oe||""===oe,tr=Y=>{Y.$attrs$&&Y.$attrs$.ref&&Y.$attrs$.ref(null),Y.$children$&&Y.$children$.map(tr)},$n=Y=>Jr(Y).$hostElement$,Sn=(Y,oe,Me)=>{const Je=$n(Y);return{emit:yt=>Fr(Je,oe,{bubbles:!!(4&Me),composed:!!(2&Me),cancelable:!!(1&Me),detail:yt})}},Fr=(Y,oe,Me)=>{const Je=Oe.ce(oe,Me);return Y.dispatchEvent(Je),Je},Gt=(Y,oe)=>{oe&&!Y.$onRenderResolve$&&oe["s-p"]&&oe["s-p"].push(new Promise(Me=>Y.$onRenderResolve$=Me))},Ct=(Y,oe)=>{if(Y.$flags$|=16,!(4&Y.$flags$))return Gt(Y,Y.$ancestorComponent$),ti(()=>Jt(Y,oe));Y.$flags$|=512},Jt=(Y,oe)=>{const Je=Y.$lazyInstance$;let yt;return oe&&(Y.$flags$|=256,Y.$queuedListeners$&&(Y.$queuedListeners$.map(([re,Ue])=>ge(Je,re,Ue)),Y.$queuedListeners$=null),yt=ge(Je,"componentWillLoad")),yt=$e(yt,()=>ge(Je,"componentWillRender")),$e(yt,()=>gn(Y,Je,oe))},gn=function(){var Y=(0,a.Z)(function*(oe,Me,Je){const yt=oe.$hostElement$,Ue=yt["s-rc"];Je&&(Y=>{const oe=Y.$cmpMeta$,Me=Y.$hostElement$,Je=oe.$flags$,re=fe(Me.shadowRoot?Me.shadowRoot:Me.getRootNode(),oe,Y.$modeName$);10&Je&&(Me["s-sc"]=re,Me.classList.add(re+"-h"),2&Je&&Me.classList.add(re+"-s"))})(oe);Dn(oe,Me),Ue&&(Ue.map(ft=>ft()),yt["s-rc"]=void 0);{const ft=yt["s-p"],wt=()=>bn(oe);0===ft.length?wt():(Promise.all(ft).then(wt),oe.$flags$|=4,ft.length=0)}});return function(Me,Je,yt){return Y.apply(this,arguments)}}(),Dn=(Y,oe,Me)=>{try{oe=oe.render&&oe.render(),Y.$flags$&=-17,Y.$flags$|=2,((Y,oe)=>{const Me=Y.$hostElement$,Je=Y.$cmpMeta$,yt=Y.$vnode$||In(null,null),re=(Y=>Y&&Y.$tag$===Cn)(oe)?oe:hn(null,null,oe);if(Ie=Me.tagName,Je.$attrsToReflect$&&(re.$attrs$=re.$attrs$||{},Je.$attrsToReflect$.map(([Ue,et])=>re.$attrs$[et]=Me[Ue])),re.$tag$=null,re.$flags$|=4,Y.$vnode$=re,re.$elm$=yt.$elm$=Me.shadowRoot||Me,x=Me["s-sc"],ie=Me["s-cr"],pe=0!=(1&Je.$flags$),ne=!1,ln(yt,re),Oe.$flags$|=1,he){Vr(re.$elm$);let Ue,et,ft,wt,jt,cn,mn=0;for(;mn<Ot.length;mn++)Ue=Ot[mn],et=Ue.$nodeToRelocate$,et["s-ol"]||(ft=ue.createTextNode(""),ft["s-nr"]=et,et.parentNode.insertBefore(et["s-ol"]=ft,et));for(mn=0;mn<Ot.length;mn++)if(Ue=Ot[mn],et=Ue.$nodeToRelocate$,Ue.$slotRefNode$){for(wt=Ue.$slotRefNode$.parentNode,jt=Ue.$slotRefNode$.nextSibling,ft=et["s-ol"];ft=ft.previousSibling;)if(cn=ft["s-nr"],cn&&cn["s-sn"]===et["s-sn"]&&wt===cn.parentNode&&(cn=cn.nextSibling,!cn||!cn["s-nr"])){jt=cn;break}(!jt&&wt!==et.parentNode||et.nextSibling!==jt)&&et!==jt&&(!et["s-hn"]&&et["s-ol"]&&(et["s-hn"]=et["s-ol"].parentNode.nodeName),wt.insertBefore(et,jt))}else 1===et.nodeType&&(et.hidden=!0)}ne&&vr(re.$elm$),Oe.$flags$&=-2,Ot.length=0})(Y,oe)}catch(Je){On(Je,Y.$hostElement$)}return null},bn=Y=>{const Me=Y.$hostElement$,yt=Y.$lazyInstance$,re=Y.$ancestorComponent$;ge(yt,"componentDidRender"),64&Y.$flags$?ge(yt,"componentDidUpdate"):(Y.$flags$|=64,Et(Me),ge(yt,"componentDidLoad"),Y.$onReadyResolve$(Me),re||Ae()),Y.$onInstanceResolve$(Me),Y.$onRenderResolve$&&(Y.$onRenderResolve$(),Y.$onRenderResolve$=void 0),512&Y.$flags$&&ei(()=>Ct(Y,!1)),Y.$flags$&=-517},ar=Y=>{{const oe=Jr(Y),Me=oe.$hostElement$.isConnected;return Me&&2==(18&oe.$flags$)&&Ct(oe,!1),Me}},Ae=Y=>{Et(ue.documentElement),ei(()=>Fr(le,"appload",{detail:{namespace:"ionic"}}))},ge=(Y,oe,Me)=>{if(Y&&Y[oe])try{return Y[oe](Me)}catch(Je){On(Je)}},$e=(Y,oe)=>Y&&Y.then?Y.then(oe):oe(),Et=Y=>Y.classList.add("hydrated"),Zt=(Y,oe,Me,Je,yt,re,Ue)=>{let et,ft,wt,jt;if(1===re.nodeType){for(et=re.getAttribute(X),et&&(ft=et.split("."),(ft[0]===Ue||"0"===ft[0])&&(wt={$flags$:0,$hostId$:ft[0],$nodeId$:ft[1],$depth$:ft[2],$index$:ft[3],$tag$:re.tagName.toLowerCase(),$elm$:re,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},oe.push(wt),re.removeAttribute(X),Y.$children$||(Y.$children$=[]),Y.$children$[wt.$index$]=wt,Y=wt,Je&&"0"===wt.$depth$&&(Je[wt.$index$]=wt.$elm$))),jt=re.childNodes.length-1;jt>=0;jt--)Zt(Y,oe,Me,Je,yt,re.childNodes[jt],Ue);if(re.shadowRoot)for(jt=re.shadowRoot.childNodes.length-1;jt>=0;jt--)Zt(Y,oe,Me,Je,yt,re.shadowRoot.childNodes[jt],Ue)}else if(8===re.nodeType)ft=re.nodeValue.split("."),(ft[1]===Ue||"0"===ft[1])&&(et=ft[0],wt={$flags$:0,$hostId$:ft[1],$nodeId$:ft[2],$depth$:ft[3],$index$:ft[4],$elm$:re,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===et?(wt.$elm$=re.nextSibling,wt.$elm$&&3===wt.$elm$.nodeType&&(wt.$text$=wt.$elm$.textContent,oe.push(wt),re.remove(),Y.$children$||(Y.$children$=[]),Y.$children$[wt.$index$]=wt,Je&&"0"===wt.$depth$&&(Je[wt.$index$]=wt.$elm$))):wt.$hostId$===Ue&&("s"===et?(wt.$tag$="slot",re["s-sn"]=ft[5]?wt.$name$=ft[5]:"",re["s-sr"]=!0,Je&&(wt.$elm$=ue.createElement(wt.$tag$),wt.$name$&&wt.$elm$.setAttribute("name",wt.$name$),re.parentNode.insertBefore(wt.$elm$,re),re.remove(),"0"===wt.$depth$&&(Je[wt.$index$]=wt.$elm$)),Me.push(wt),Y.$children$||(Y.$children$=[]),Y.$children$[wt.$index$]=wt):"r"===et&&(Je?re.remove():(yt["s-cr"]=re,re["s-cn"]=!0))));else if(Y&&"style"===Y.$tag$){const cn=In(null,re.textContent);cn.$elm$=re,cn.$index$="0",Y.$children$=[cn]}},Pe=(Y,oe)=>{if(1===Y.nodeType){let Me=0;for(;Me<Y.childNodes.length;Me++)Pe(Y.childNodes[Me],oe);if(Y.shadowRoot)for(Me=0;Me<Y.shadowRoot.childNodes.length;Me++)Pe(Y.shadowRoot.childNodes[Me],oe)}else if(8===Y.nodeType){const Me=Y.nodeValue.split(".");"o"===Me[0]&&(oe.set(Me[1]+"."+Me[2],Y),Y.nodeValue="",Y["s-en"]=Me[3])}},It=(Y,oe,Me)=>{if(oe.$members$){Y.watchers&&(oe.$watchers$=Y.watchers);const Je=Object.entries(oe.$members$),yt=Y.prototype;if(Je.map(([re,[Ue]])=>{31&Ue||2&Me&&32&Ue?Object.defineProperty(yt,re,{get(){return((Y,oe)=>Jr(this).$instanceValues$.get(oe))(0,re)},set(et){((Y,oe,Me,Je)=>{const yt=Jr(Y),re=yt.$hostElement$,Ue=yt.$instanceValues$.get(oe),et=yt.$flags$,ft=yt.$lazyInstance$;Me=((Y,oe)=>null==Y||_t(Y)?Y:4&oe?"false"!==Y&&(""===Y||!!Y):2&oe?parseFloat(Y):1&oe?String(Y):Y)(Me,Je.$members$[oe][0]);const wt=Number.isNaN(Ue)&&Number.isNaN(Me);if((!(8&et)||void 0===Ue)&&Me!==Ue&&!wt&&(yt.$instanceValues$.set(oe,Me),ft)){if(Je.$watchers$&&128&et){const cn=Je.$watchers$[oe];cn&&cn.map(mn=>{try{ft[mn](Me,Ue,oe)}catch(Mn){On(Mn,re)}})}2==(18&et)&&Ct(yt,!1)}})(this,re,et,oe)},configurable:!0,enumerable:!0}):1&Me&&64&Ue&&Object.defineProperty(yt,re,{value(...et){const ft=Jr(this);return ft.$onInstancePromise$.then(()=>ft.$lazyInstance$[re](...et))}})}),1&Me){const re=new Map;yt.attributeChangedCallback=function(Ue,et,ft){Oe.jmp(()=>{const wt=re.get(Ue);if(this.hasOwnProperty(wt))ft=this[wt],delete this[wt];else if(yt.hasOwnProperty(wt)&&"number"==typeof this[wt]&&this[wt]==ft)return;this[wt]=(null!==ft||"boolean"!=typeof this[wt])&&ft})},Y.observedAttributes=Je.filter(([Ue,et])=>15&et[0]).map(([Ue,et])=>{const ft=et[1]||Ue;return re.set(ft,Ue),512&et[0]&&oe.$attrsToReflect$.push([Ue,ft]),ft})}}return Y},Rt=function(){var Y=(0,a.Z)(function*(oe,Me,Je,yt,re){if(!(32&Me.$flags$)){{if(Me.$flags$|=32,(re=lr(Je)).then){const wt=()=>{};re=yield re,wt()}re.isProxied||(Je.$watchers$=re.watchers,It(re,Je,2),re.isProxied=!0);const ft=()=>{};Me.$flags$|=8;try{new re(Me)}catch(wt){On(wt)}Me.$flags$&=-9,Me.$flags$|=128,ft(),Tn(Me.$lazyInstance$)}if(re.style){let ft=re.style;"string"!=typeof ft&&(ft=ft[Me.$modeName$=(Y=>Rr.map(oe=>oe(Y)).find(oe=>!!oe))(oe)]);const wt=ye(Je,Me.$modeName$);if(!jr.has(wt)){const jt=()=>{};Ge(wt,ft,!!(1&Je.$flags$)),jt()}}}const Ue=Me.$ancestorComponent$,et=()=>Ct(Me,!0);Ue&&Ue["s-rc"]?Ue["s-rc"].push(et):et()});return function(Me,Je,yt,re,Ue){return Y.apply(this,arguments)}}(),Tn=Y=>{ge(Y,"connectedCallback")},Yn=Y=>{const oe=Y["s-cr"]=ue.createComment("");oe["s-cn"]=!0,Y.insertBefore(oe,Y.firstChild)},Qr=(Y,oe={})=>{const Je=[],yt=oe.exclude||[],re=le.customElements,Ue=ue.head,et=Ue.querySelector("meta[charset]"),ft=ue.createElement("style"),wt=[],jt=ue.querySelectorAll(`[${Be}]`);let cn,mn=!0,Mn=0;for(Object.assign(Oe,oe),Oe.$resourcesUrl$=new URL(oe.resourcesUrl||"./",ue.baseURI).href,Oe.$flags$|=2;Mn<jt.length;Mn++)Ge(jt[Mn].getAttribute(Be),ze(jt[Mn].innerHTML),!0);Y.map(Hr=>{Hr[1].map(qe=>{const He={$flags$:qe[0],$tagName$:qe[1],$members$:qe[2],$listeners$:qe[3]};He.$members$=qe[2],He.$listeners$=qe[3],He.$attrsToReflect$=[],He.$watchers$={};const ot=He.$tagName$,At=class extends HTMLElement{constructor(Ht){super(Ht),Mi(Ht=this,He),1&He.$flags$&&Ht.attachShadow({mode:"open",delegatesFocus:!!(16&He.$flags$)})}connectedCallback(){cn&&(clearTimeout(cn),cn=null),mn?wt.push(this):Oe.jmp(()=>(Y=>{if(!(1&Oe.$flags$)){const oe=Jr(Y),Me=oe.$cmpMeta$,Je=()=>{};if(1&oe.$flags$)de(Y,oe,Me.$listeners$),Tn(oe.$lazyInstance$);else{let yt;if(oe.$flags$|=1,yt=Y.getAttribute(z),yt){if(1&Me.$flags$){const re=fe(Y.shadowRoot,Me,Y.getAttribute("s-mode"));Y.classList.remove(re+"-h",re+"-s")}((Y,oe,Me,Je)=>{const re=Y.shadowRoot,Ue=[],ft=re?[]:null,wt=Je.$vnode$=In(oe,null);Oe.$orgLocNodes$||Pe(ue.body,Oe.$orgLocNodes$=new Map),Y[z]=Me,Y.removeAttribute(z),Zt(wt,Ue,[],ft,Y,Y,Me),Ue.map(jt=>{const cn=jt.$hostId$+"."+jt.$nodeId$,mn=Oe.$orgLocNodes$.get(cn),Mn=jt.$elm$;mn&&""===mn["s-en"]&&mn.parentNode.insertBefore(Mn,mn.nextSibling),re||(Mn["s-hn"]=oe,mn&&(Mn["s-ol"]=mn,Mn["s-ol"]["s-nr"]=Mn)),Oe.$orgLocNodes$.delete(cn)}),re&&ft.map(jt=>{jt&&re.appendChild(jt)})})(Y,Me.$tagName$,yt,oe)}yt||12&Me.$flags$&&Yn(Y);{let re=Y;for(;re=re.parentNode||re.host;)if(1===re.nodeType&&re.hasAttribute("s-id")&&re["s-p"]||re["s-p"]){Gt(oe,oe.$ancestorComponent$=re);break}}Me.$members$&&Object.entries(Me.$members$).map(([re,[Ue]])=>{if(31&Ue&&Y.hasOwnProperty(re)){const et=Y[re];delete Y[re],Y[re]=et}}),ei(()=>Rt(Y,oe,Me))}Je()}})(this))}disconnectedCallback(){Oe.jmp(()=>(Y=>{if(!(1&Oe.$flags$)){const oe=Jr(this),Me=oe.$lazyInstance$;oe.$rmListeners$&&(oe.$rmListeners$.map(Je=>Je()),oe.$rmListeners$=void 0),ge(Me,"disconnectedCallback")}})())}componentOnReady(){return Jr(this).$onReadyPromise$}};He.$lazyBundleId$=Hr[0],!yt.includes(ot)&&!re.get(ot)&&(Je.push(ot),re.define(ot,It(At,He,1)))})}),ft.innerHTML=Je+"{visibility:hidden}.hydrated{visibility:inherit}",ft.setAttribute("data-styles",""),Ue.insertBefore(ft,et?et.nextSibling:Ue.firstChild),mn=!1,wt.length?wt.map(Hr=>Hr.connectedCallback()):Oe.jmp(()=>cn=setTimeout(Ae,30))},vi=Y=>{const oe=new URL(Y,Oe.$resourcesUrl$);return oe.origin!==le.location.origin?oe.href:oe.pathname},Lr=new WeakMap,Jr=Y=>Lr.get(Y),ir=(Y,oe)=>Lr.set(oe.$lazyInstance$=Y,oe),Mi=(Y,oe)=>{const Me={$flags$:0,$hostElement$:Y,$cmpMeta$:oe,$instanceValues$:new Map};return Me.$onInstancePromise$=new Promise(Je=>Me.$onInstanceResolve$=Je),Me.$onReadyPromise$=new Promise(Je=>Me.$onReadyResolve$=Je),Y["s-p"]=[],Y["s-rc"]=[],de(Y,Me,oe.$listeners$),Lr.set(Y,Me)},pi=(Y,oe)=>oe in Y,On=(Y,oe)=>(0,console.error)(Y,oe),xr=new Map,lr=(Y,oe,Me)=>{const Je=Y.$tagName$.replace(/-/g,"_"),yt=Y.$lazyBundleId$,re=xr.get(yt);return re?re[Je]:P(863)(`./${yt}.entry.js`).then(Ue=>(xr.set(yt,Ue),Ue[Je]),On)},jr=new Map,Rr=[],nr=[],Xt=[],Pn=(Y,oe)=>Me=>{Y.push(Me),ae||(ae=!0,oe&&4&Oe.$flags$?ei(Sr):Oe.raf(Sr))},fr=Y=>{for(let oe=0;oe<Y.length;oe++)try{Y[oe](performance.now())}catch(Me){On(Me)}Y.length=0},Sr=()=>{fr(nr),fr(Xt),(ae=nr.length>0)&&Oe.raf(Sr)},ei=Y=>ht().then(Y),Pr=Pn(nr,!1),ti=Pn(Xt,!0),_r={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5179:(zt,rt,P)=>{"use strict";P.d(rt,{a:()=>le,b:()=>We,c:()=>x,g:()=>ae,i:()=>Ge});var a=P(1308);class k{constructor(){this.m=new Map}reset(me){this.m=new Map(Object.entries(me))}get(me,ye){const ze=this.m.get(me);return void 0!==ze?ze:ye}getBoolean(me,ye=!1){const ze=this.m.get(me);return void 0===ze?ye:"string"==typeof ze?"true"===ze:!!ze}getNumber(me,ye){const ze=parseFloat(this.m.get(me));return isNaN(ze)?void 0!==ye?ye:NaN:ze}set(me,ye){this.m.set(me,ye)}}const x=new k,Te="ionic-persist-config",ae=fe=>ue(fe),le=(fe,me)=>("string"==typeof fe&&(me=fe,fe=void 0),ae(fe).includes(me)),ue=(fe=window)=>{if(typeof fe>"u")return[];fe.Ionic=fe.Ionic||{};let me=fe.Ionic.platforms;return null==me&&(me=fe.Ionic.platforms=Oe(fe),me.forEach(ye=>fe.document.documentElement.classList.add(`plt-${ye}`))),me},Oe=fe=>{const me=x.get("platform");return Object.keys(xe).filter(ye=>{const ze=me?.[ye];return"function"==typeof ze?ze(fe):xe[ye](fe)})},Xe=fe=>!!(Ce(fe,/iPad/i)||Ce(fe,/Macintosh/i)&&je(fe)),de=fe=>Ce(fe,/android|sink/i),je=fe=>se(fe,"(any-pointer:coarse)"),_e=fe=>De(fe)||z(fe),De=fe=>!!(fe.cordova||fe.phonegap||fe.PhoneGap),z=fe=>!!fe.Capacitor?.isNative,Ce=(fe,me)=>me.test(fe.navigator.userAgent),se=(fe,me)=>{var ye;return null===(ye=fe.matchMedia)||void 0===ye?void 0:ye.call(fe,me).matches},xe={ipad:Xe,iphone:fe=>Ce(fe,/iPhone/i),ios:fe=>Ce(fe,/iPhone|iPod/i)||Xe(fe),android:de,phablet:fe=>{const me=fe.innerWidth,ye=fe.innerHeight,ze=Math.min(me,ye),Re=Math.max(me,ye);return ze>390&&ze<520&&Re>620&&Re<800},tablet:fe=>{const me=fe.innerWidth,ye=fe.innerHeight,ze=Math.min(me,ye),Re=Math.max(me,ye);return Xe(fe)||(fe=>de(fe)&&!Ce(fe,/mobile/i))(fe)||ze>460&&ze<820&&Re>780&&Re<1400},cordova:De,capacitor:z,electron:fe=>Ce(fe,/electron/i),pwa:fe=>{var me;return!!(null!==(me=fe.matchMedia)&&void 0!==me&&me.call(fe,"(display-mode: standalone)").matches||fe.navigator.standalone)},mobile:je,mobileweb:fe=>je(fe)&&!_e(fe),desktop:fe=>!je(fe),hybrid:_e};let Se;const We=fe=>fe&&(0,a.g)(fe)||Se,Ge=(fe={})=>{if(typeof window>"u")return;const me=window.document,ye=window,ze=ye.Ionic=ye.Ionic||{},Re={};fe._ael&&(Re.ael=fe._ael),fe._rel&&(Re.rel=fe._rel),fe._ce&&(Re.ce=fe._ce),(0,a.s)(Re);const Ye=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(fe=>{try{const me=fe.sessionStorage.getItem(Te);return null!==me?JSON.parse(me):{}}catch{return{}}})(ye)),{persistConfig:!1}),ze.config),(fe=>{const me={};return fe.location.search.slice(1).split("&").map(ye=>ye.split("=")).map(([ye,ze])=>[decodeURIComponent(ye),decodeURIComponent(ze)]).filter(([ye])=>((fe,me)=>fe.substr(0,me.length)===me)(ye,"ionic:")).map(([ye,ze])=>[ye.slice("ionic:".length),ze]).forEach(([ye,ze])=>{me[ye]=ze}),me})(ye)),fe);x.reset(Ye),x.getBoolean("persistConfig")&&((fe,me)=>{try{fe.sessionStorage.setItem(Te,JSON.stringify(me))}catch{return}})(ye,Ye),ue(ye),ze.config=x,ze.mode=Se=x.get("mode",me.documentElement.getAttribute("mode")||(le(ye,"ios")?"ios":"md")),x.set("mode",Se),me.documentElement.setAttribute("mode",Se),me.documentElement.classList.add(Se),x.getBoolean("_testing")&&x.set("animated",!1);const Fe=vt=>{var bt;return null===(bt=vt.tagName)||void 0===bt?void 0:bt.startsWith("ION-")},Dt=vt=>["ios","md"].includes(vt);(0,a.a)(vt=>{for(;vt;){const bt=vt.mode||vt.getAttribute("mode");if(bt){if(Dt(bt))return bt;Fe(vt)&&console.warn('Invalid ionic mode: "'+bt+'", expected: "ios" or "md"')}vt=vt.parentElement}return Se})}},6439:(zt,rt,P)=>{"use strict";P.r(rt),P.d(rt,{iosTransitionAnimation:()=>Oe,shadow:()=>ne});var a=P(181),k=P(1843);P(3457),P(1308);const pe=ke=>document.querySelector(`${ke}.ion-cloned-element`),ne=ke=>ke.shadowRoot||ke,he=ke=>{const Xe="ION-TABS"===ke.tagName?ke:ke.querySelector("ion-tabs"),ht="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Xe){const we=Xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=we?we.querySelector(ht):null}return ke.querySelector(ht)},Te=(ke,Xe)=>{const ht="ION-TABS"===ke.tagName?ke:ke.querySelector("ion-tabs");let we=[];if(null!=ht){const de=ht.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=de&&(we=de.querySelectorAll("ion-buttons"))}else we=ke.querySelectorAll("ion-buttons");for(const de of we){const ee=de.closest("ion-header"),Ze=ee&&!ee.classList.contains("header-collapse-condense-inactive"),Ke=de.querySelector("ion-back-button"),je=de.classList.contains("buttons-collapse");if(null!==Ke&&("start"===de.slot||""===de.slot)&&(je&&Ze&&Xe||!je))return Ke}return null},le=(ke,Xe,ht,we,de,ee)=>{const Ze=Xe?`calc(100% - ${ee.right+4}px)`:ee.left-4+"px",Ke=Xe?"7px":"-7px",je=Xe?"-4px":"4px",Ve=Xe?"-4px":"4px",_e=Xe?"right":"left",De=Xe?"left":"right",X=ht?[{offset:0,opacity:1,transform:`translate3d(${je}, ${ee.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ke}, ${de.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ke}, ${de.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${je}, ${ee.top-46}px, 0) scale(1)`}],xe=ht?[{offset:0,opacity:1,transform:`translate3d(${Ve}, ${ee.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ve}, ${ee.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ve}, ${ee.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ve}, ${ee.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ve}, ${ee.top-46}px, 0) scale(1)`}],Se=(0,a.c)(),We=(0,a.c)(),Ge=pe("ion-back-button"),fe=ne(Ge).querySelector(".button-text"),me=ne(Ge).querySelector("ion-icon");Ge.text=we.text,Ge.mode=we.mode,Ge.icon=we.icon,Ge.color=we.color,Ge.disabled=we.disabled,Ge.style.setProperty("display","block"),Ge.style.setProperty("position","fixed"),We.addElement(me),Se.addElement(fe),Se.beforeStyles({"transform-origin":`${_e} center`}).beforeAddWrite(()=>{we.style.setProperty("display","none"),Ge.style.setProperty(_e,Ze)}).afterAddWrite(()=>{we.style.setProperty("display",""),Ge.style.setProperty("display","none"),Ge.style.removeProperty(_e)}).keyframes(X),We.beforeStyles({"transform-origin":`${De} center`}).keyframes(xe),ke.addAnimation([Se,We])},ue=(ke,Xe,ht,we,de,ee)=>{const Ze=Xe?`calc(100% - ${de.right}px)`:`${de.left}px`,Ke=Xe?"-18px":"18px",je=Xe?"right":"left",De=ht?[{offset:0,opacity:0,transform:`translate3d(${Ke}, ${ee.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${de.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${de.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ke}, ${ee.top-4}px, 0) scale(0.5)`}],z=pe("ion-title"),Be=(0,a.c)();z.innerText=we.innerText,z.size=we.size,z.color=we.color,Be.addElement(z),Be.beforeStyles({"transform-origin":`${je} center`,height:"46px",display:"",position:"relative",[je]:Ze}).beforeAddWrite(()=>{we.style.setProperty("display","none")}).afterAddWrite(()=>{we.style.setProperty("display",""),z.style.setProperty("display","none")}).keyframes(De),ke.addAnimation(Be)},Oe=(ke,Xe)=>{var ht;try{const we="cubic-bezier(0.32,0.72,0,1)",de="opacity",ee="transform",Ze="0%",je="rtl"===ke.ownerDocument.dir,Ve=je?"-99.5%":"99.5%",_e=je?"33%":"-33%",De=Xe.enteringEl,z=Xe.leavingEl,Be="back"===Xe.direction,X=De.querySelector(":scope > ion-content"),Ce=De.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),se=De.querySelectorAll(":scope > ion-header > ion-toolbar"),xe=(0,a.c)(),Se=(0,a.c)();if(xe.addElement(De).duration((null!==(ht=Xe.duration)&&void 0!==ht?ht:0)||540).easing(Xe.easing||we).fill("both").beforeRemoveClass("ion-page-invisible"),z&&null!=ke){const me=(0,a.c)();me.addElement(ke),xe.addAnimation(me)}if(X||0!==se.length||0!==Ce.length?(Se.addElement(X),Se.addElement(Ce)):Se.addElement(De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),xe.addAnimation(Se),Be?Se.beforeClearStyles([de]).fromTo("transform",`translateX(${_e})`,`translateX(${Ze})`).fromTo(de,.8,1):Se.beforeClearStyles([de]).fromTo("transform",`translateX(${Ve})`,`translateX(${Ze})`),X){const me=ne(X).querySelector(".transition-effect");if(me){const ye=me.querySelector(".transition-cover"),ze=me.querySelector(".transition-shadow"),Re=(0,a.c)(),Ye=(0,a.c)(),Fe=(0,a.c)();Re.addElement(me).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ye.addElement(ye).beforeClearStyles([de]).fromTo(de,0,.1),Fe.addElement(ze).beforeClearStyles([de]).fromTo(de,.03,.7),Re.addAnimation([Ye,Fe]),Se.addAnimation([Re])}}const We=De.querySelector("ion-header.header-collapse-condense"),{forward:Ge,backward:fe}=((ke,Xe,ht,we,de)=>{const ee=Te(we,ht),Ze=he(de),Ke=he(we),je=Te(de,ht),Ve=null!==ee&&null!==Ze&&!ht,_e=null!==Ke&&null!==je&&ht;if(Ve){const De=Ze.getBoundingClientRect(),z=ee.getBoundingClientRect();ue(ke,Xe,ht,Ze,De,z),le(ke,Xe,ht,ee,De,z)}else if(_e){const De=Ke.getBoundingClientRect(),z=je.getBoundingClientRect();ue(ke,Xe,ht,Ke,De,z),le(ke,Xe,ht,je,De,z)}return{forward:Ve,backward:_e}})(xe,je,Be,De,z);if(se.forEach(me=>{const ye=(0,a.c)();ye.addElement(me),xe.addAnimation(ye);const ze=(0,a.c)();ze.addElement(me.querySelector("ion-title"));const Re=(0,a.c)(),Ye=Array.from(me.querySelectorAll("ion-buttons,[menuToggle]")),Fe=me.closest("ion-header"),Dt=Fe?.classList.contains("header-collapse-condense-inactive");let vt;vt=Ye.filter(Be?In=>{const Cn=In.classList.contains("buttons-collapse");return Cn&&!Dt||!Cn}:In=>!In.classList.contains("buttons-collapse")),Re.addElement(vt);const bt=(0,a.c)();bt.addElement(me.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Yt=(0,a.c)();Yt.addElement(ne(me).querySelector(".toolbar-background"));const _t=(0,a.c)(),hn=me.querySelector("ion-back-button");if(hn&&_t.addElement(hn),ye.addAnimation([ze,Re,bt,Yt,_t]),Re.fromTo(de,.01,1),bt.fromTo(de,.01,1),Be)Dt||ze.fromTo("transform",`translateX(${_e})`,`translateX(${Ze})`).fromTo(de,.01,1),bt.fromTo("transform",`translateX(${_e})`,`translateX(${Ze})`),_t.fromTo(de,.01,1);else if(We||ze.fromTo("transform",`translateX(${Ve})`,`translateX(${Ze})`).fromTo(de,.01,1),bt.fromTo("transform",`translateX(${Ve})`,`translateX(${Ze})`),Yt.beforeClearStyles([de,"transform"]),Fe?.translucent?Yt.fromTo("transform",je?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Yt.fromTo(de,.01,"var(--opacity)"),Ge||_t.fromTo(de,.01,1),hn&&!Ge){const Cn=(0,a.c)();Cn.addElement(ne(hn).querySelector(".button-text")).fromTo("transform",je?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ye.addAnimation(Cn)}}),z){const me=(0,a.c)(),ye=z.querySelector(":scope > ion-content"),ze=z.querySelectorAll(":scope > ion-header > ion-toolbar"),Re=z.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ye||0!==ze.length||0!==Re.length?(me.addElement(ye),me.addElement(Re)):me.addElement(z.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),xe.addAnimation(me),Be){me.beforeClearStyles([de]).fromTo("transform",`translateX(${Ze})`,je?"translateX(-100%)":"translateX(100%)");const Ye=(0,k.g)(z);xe.afterAddWrite(()=>{"normal"===xe.getDirection()&&Ye.style.setProperty("display","none")})}else me.fromTo("transform",`translateX(${Ze})`,`translateX(${_e})`).fromTo(de,1,.8);if(ye){const Ye=ne(ye).querySelector(".transition-effect");if(Ye){const Fe=Ye.querySelector(".transition-cover"),Dt=Ye.querySelector(".transition-shadow"),vt=(0,a.c)(),bt=(0,a.c)(),Yt=(0,a.c)();vt.addElement(Ye).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),bt.addElement(Fe).beforeClearStyles([de]).fromTo(de,.1,0),Yt.addElement(Dt).beforeClearStyles([de]).fromTo(de,.7,.03),vt.addAnimation([bt,Yt]),me.addAnimation([vt])}}ze.forEach(Ye=>{const Fe=(0,a.c)();Fe.addElement(Ye);const Dt=(0,a.c)();Dt.addElement(Ye.querySelector("ion-title"));const vt=(0,a.c)(),bt=Ye.querySelectorAll("ion-buttons,[menuToggle]"),Yt=Ye.closest("ion-header"),_t=Yt?.classList.contains("header-collapse-condense-inactive"),hn=Array.from(bt).filter(hr=>{const pn=hr.classList.contains("buttons-collapse");return pn&&!_t||!pn});vt.addElement(hn);const In=(0,a.c)(),Cn=Ye.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Cn.length>0&&In.addElement(Cn);const Kt=(0,a.c)();Kt.addElement(ne(Ye).querySelector(".toolbar-background"));const jn=(0,a.c)(),er=Ye.querySelector("ion-back-button");if(er&&jn.addElement(er),Fe.addAnimation([Dt,vt,In,jn,Kt]),xe.addAnimation(Fe),jn.fromTo(de,.99,0),vt.fromTo(de,.99,0),In.fromTo(de,.99,0),Be){if(_t||Dt.fromTo("transform",`translateX(${Ze})`,je?"translateX(-100%)":"translateX(100%)").fromTo(de,.99,0),In.fromTo("transform",`translateX(${Ze})`,je?"translateX(-100%)":"translateX(100%)"),Kt.beforeClearStyles([de,"transform"]),Yt?.translucent?Kt.fromTo("transform","translateX(0px)",je?"translateX(-100%)":"translateX(100%)"):Kt.fromTo(de,"var(--opacity)",0),er&&!fe){const pn=(0,a.c)();pn.addElement(ne(er).querySelector(".button-text")).fromTo("transform",`translateX(${Ze})`,`translateX(${(je?-124:124)+"px"})`),Fe.addAnimation(pn)}}else _t||Dt.fromTo("transform",`translateX(${Ze})`,`translateX(${_e})`).fromTo(de,.99,0).afterClearStyles([ee,de]),In.fromTo("transform",`translateX(${Ze})`,`translateX(${_e})`).afterClearStyles([ee,de]),jn.afterClearStyles([de]),Dt.afterClearStyles([de]),vt.afterClearStyles([de])})}return xe}catch(we){throw we}}},7838:(zt,rt,P)=>{"use strict";P.r(rt),P.d(rt,{mdTransitionAnimation:()=>Ie});var a=P(181),k=P(1843);P(3457),P(1308);const Ie=(pe,ne)=>{var he,Te,ae;const Oe="back"===ne.direction,Xe=ne.leavingEl,ht=(0,k.g)(ne.enteringEl),we=ht.querySelector("ion-toolbar"),de=(0,a.c)();if(de.addElement(ht).fill("both").beforeRemoveClass("ion-page-invisible"),Oe?de.duration((null!==(he=ne.duration)&&void 0!==he?he:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):de.duration((null!==(Te=ne.duration)&&void 0!==Te?Te:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),we){const ee=(0,a.c)();ee.addElement(we),de.addAnimation(ee)}if(Xe&&Oe){de.duration((null!==(ae=ne.duration)&&void 0!==ae?ae:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ee=(0,a.c)();ee.addElement((0,k.g)(Xe)).onFinish(Ze=>{1===Ze&&ee.elements.length>0&&ee.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),de.addAnimation(ee)}return de}},3539:(zt,rt,P)=>{"use strict";P.d(rt,{B:()=>ye,G:()=>ze,a:()=>he,b:()=>Te,c:()=>Oe,d:()=>Be,e:()=>Xe,f:()=>Ce,g:()=>Se,h:()=>pe,i:()=>Ge,j:()=>de,k:()=>De,l:()=>ae,m:()=>le,s:()=>me,t:()=>ke});var a=P(5861),k=P(5179),x=P(7593),ie=P(5730);let Ie=0;const pe=new WeakMap,ne=Re=>({create:Ye=>ht(Re,Ye),dismiss:(Ye,Fe,Dt)=>Ve(document,Ye,Fe,Re,Dt),getTop:()=>(0,a.Z)(function*(){return De(document,Re)})()}),he=ne("ion-alert"),Te=ne("ion-action-sheet"),ae=ne("ion-loading"),le=ne("ion-modal"),Oe=ne("ion-popover"),ke=ne("ion-toast"),Xe=Re=>{typeof document<"u"&&je(document);const Ye=Ie++;Re.overlayIndex=Ye,Re.hasAttribute("id")||(Re.id=`ion-overlay-${Ye}`)},ht=(Re,Ye)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Re).then(()=>{const Fe=document.createElement(Re);return Fe.classList.add("overlay-hidden"),Object.assign(Fe,Object.assign(Object.assign({},Ye),{hasController:!0})),se(document).appendChild(Fe),new Promise(Dt=>(0,ie.c)(Fe,Dt))}):Promise.resolve(),we='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',de=(Re,Ye)=>{let Fe=Re.querySelector(we);const Dt=Fe?.shadowRoot;Dt&&(Fe=Dt.querySelector(we)||Fe),Fe?(0,ie.f)(Fe):Ye.focus()},Ze=(Re,Ye)=>{const Fe=Array.from(Re.querySelectorAll(we));let Dt=Fe.length>0?Fe[Fe.length-1]:null;const vt=Dt?.shadowRoot;vt&&(Dt=vt.querySelector(we)||Dt),Dt?Dt.focus():Ye.focus()},je=Re=>{0===Ie&&(Ie=1,Re.addEventListener("focus",Ye=>{((Re,Ye)=>{const Fe=De(Ye,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Dt=Re.target;Fe&&Dt&&!Fe.classList.contains("ion-disable-focus-trap")&&(Fe.shadowRoot?(()=>{if(Fe.contains(Dt))Fe.lastFocus=Dt;else{const Yt=Fe.lastFocus;de(Fe,Fe),Yt===Ye.activeElement&&Ze(Fe,Fe),Fe.lastFocus=Ye.activeElement}})():(()=>{if(Fe===Dt)Fe.lastFocus=void 0;else{const Yt=(0,ie.g)(Fe);if(!Yt.contains(Dt))return;const _t=Yt.querySelector(".ion-overlay-wrapper");if(!_t)return;if(_t.contains(Dt))Fe.lastFocus=Dt;else{const hn=Fe.lastFocus;de(_t,Fe),hn===Ye.activeElement&&Ze(_t,Fe),Fe.lastFocus=Ye.activeElement}}})())})(Ye,Re)},!0),Re.addEventListener("ionBackButton",Ye=>{const Fe=De(Re);Fe?.backdropDismiss&&Ye.detail.register(x.OVERLAY_BACK_BUTTON_PRIORITY,()=>Fe.dismiss(void 0,ye))}),Re.addEventListener("keyup",Ye=>{if("Escape"===Ye.key){const Fe=De(Re);Fe?.backdropDismiss&&Fe.dismiss(void 0,ye)}}))},Ve=(Re,Ye,Fe,Dt,vt)=>{const bt=De(Re,Dt,vt);return bt?bt.dismiss(Ye,Fe):Promise.reject("overlay does not exist")},De=(Re,Ye,Fe)=>{const Dt=((Re,Ye)=>(void 0===Ye&&(Ye="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Re.querySelectorAll(Ye)).filter(Fe=>Fe.overlayIndex>0)))(Re,Ye).filter(vt=>!(Re=>Re.classList.contains("overlay-hidden"))(vt));return void 0===Fe?Dt[Dt.length-1]:Dt.find(vt=>vt.id===Fe)},z=(Re=!1)=>{const Fe=se(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Fe&&(Re?Fe.setAttribute("aria-hidden","true"):Fe.removeAttribute("aria-hidden"))},Be=function(){var Re=(0,a.Z)(function*(Ye,Fe,Dt,vt,bt){var Yt,_t;if(Ye.presented)return;z(!0),Ye.presented=!0,Ye.willPresent.emit(),null===(Yt=Ye.willPresentShorthand)||void 0===Yt||Yt.emit();const hn=(0,k.b)(Ye),In=Ye.enterAnimation?Ye.enterAnimation:k.c.get(Fe,"ios"===hn?Dt:vt);(yield xe(Ye,In,Ye.el,bt))&&(Ye.didPresent.emit(),null===(_t=Ye.didPresentShorthand)||void 0===_t||_t.emit()),"ION-TOAST"!==Ye.el.tagName&&X(Ye.el),Ye.keyboardClose&&(null===document.activeElement||!Ye.el.contains(document.activeElement))&&Ye.el.focus()});return function(Fe,Dt,vt,bt,Yt){return Re.apply(this,arguments)}}(),X=function(){var Re=(0,a.Z)(function*(Ye){let Fe=document.activeElement;if(!Fe)return;const Dt=Fe?.shadowRoot;Dt&&(Fe=Dt.querySelector(we)||Fe),yield Ye.onDidDismiss(),Fe.focus()});return function(Fe){return Re.apply(this,arguments)}}(),Ce=function(){var Re=(0,a.Z)(function*(Ye,Fe,Dt,vt,bt,Yt,_t){var hn,In;if(!Ye.presented)return!1;z(!1),Ye.presented=!1;try{Ye.el.style.setProperty("pointer-events","none"),Ye.willDismiss.emit({data:Fe,role:Dt}),null===(hn=Ye.willDismissShorthand)||void 0===hn||hn.emit({data:Fe,role:Dt});const Cn=(0,k.b)(Ye),Kt=Ye.leaveAnimation?Ye.leaveAnimation:k.c.get(vt,"ios"===Cn?bt:Yt);Dt!==ze&&(yield xe(Ye,Kt,Ye.el,_t)),Ye.didDismiss.emit({data:Fe,role:Dt}),null===(In=Ye.didDismissShorthand)||void 0===In||In.emit({data:Fe,role:Dt}),pe.delete(Ye),Ye.el.classList.add("overlay-hidden"),Ye.el.style.removeProperty("pointer-events"),void 0!==Ye.el.lastFocus&&(Ye.el.lastFocus=void 0)}catch(Cn){console.error(Cn)}return Ye.el.remove(),!0});return function(Fe,Dt,vt,bt,Yt,_t,hn){return Re.apply(this,arguments)}}(),se=Re=>Re.querySelector("ion-app")||Re.body,xe=function(){var Re=(0,a.Z)(function*(Ye,Fe,Dt,vt){Dt.classList.remove("overlay-hidden");const Yt=Fe(Ye.el,vt);(!Ye.animated||!k.c.getBoolean("animated",!0))&&Yt.duration(0),Ye.keyboardClose&&Yt.beforeAddWrite(()=>{const hn=Dt.ownerDocument.activeElement;hn?.matches("input,ion-input, ion-textarea")&&hn.blur()});const _t=pe.get(Ye)||[];return pe.set(Ye,[..._t,Yt]),yield Yt.play(),!0});return function(Fe,Dt,vt,bt){return Re.apply(this,arguments)}}(),Se=(Re,Ye)=>{let Fe;const Dt=new Promise(vt=>Fe=vt);return We(Re,Ye,vt=>{Fe(vt.detail)}),Dt},We=(Re,Ye,Fe)=>{const Dt=vt=>{(0,ie.b)(Re,Ye,Dt),Fe(vt)};(0,ie.a)(Re,Ye,Dt)},Ge=Re=>"cancel"===Re||Re===ye,fe=Re=>Re(),me=(Re,Ye)=>{if("function"==typeof Re)return k.c.get("_zoneGate",fe)(()=>{try{return Re(Ye)}catch(Dt){throw Dt}})},ye="backdrop",ze="gesture"},5041:(zt,rt,P)=>{"use strict";P.d(rt,{y:()=>Ke});var a=P(655),k=P(2078),x=P(4650),ie=P(7556),Ie=P(2435),pe=P(1343),ne=P(6895);const he=function(){return["/homed"]},Te=function(){return["/set-reportes"]},ae=function(){return["/lista-reporte"]},le=function(){return["/citasd"]};function ue(je,Ve){1&je&&(x.TgZ(0,"ion-menu-toggle",2)(1,"ion-item",11)(2,"ion-label",8),x._uU(3,"Pantalla principal"),x.qZA(),x._UZ(4,"ion-icon",12),x.qZA(),x._UZ(5,"ion-row",6),x.TgZ(6,"ion-item",11)(7,"ion-label",8),x._uU(8,"Agregar reportes"),x.qZA(),x._UZ(9,"ion-icon",13),x.qZA(),x._UZ(10,"ion-row",6),x.TgZ(11,"ion-item",11)(12,"ion-label",8),x._uU(13,"Lista reportes"),x.qZA(),x._UZ(14,"ion-icon",14),x.qZA(),x._UZ(15,"ion-row",6),x.TgZ(16,"ion-item",11)(17,"ion-label",8),x._uU(18,"Citas"),x.qZA(),x._UZ(19,"ion-icon",14),x.qZA()()),2&je&&(x.xp6(1),x.Q6J("routerLink",x.DdM(4,he)),x.xp6(5),x.Q6J("routerLink",x.DdM(5,Te)),x.xp6(5),x.Q6J("routerLink",x.DdM(6,ae)),x.xp6(5),x.Q6J("routerLink",x.DdM(7,le)))}const Oe=function(){return["/home"]},ke=function(){return["/historial"]},Xe=function(){return["/medicamento"]},ht=function(){return["/vmedicamentos"]},we=function(){return["/a-citas"]},de=function(){return["/vcitas"]},ee=function(){return["/directorio"]};function Ze(je,Ve){1&je&&(x.TgZ(0,"ion-menu-toggle")(1,"ion-item",11)(2,"ion-label",8),x._uU(3,"Pantalla principal"),x.qZA(),x._UZ(4,"ion-icon",12),x.qZA(),x._UZ(5,"ion-row",6),x.TgZ(6,"ion-item",11)(7,"ion-label",8),x._uU(8,"Historial clinico"),x.qZA(),x._UZ(9,"ion-icon",13),x.qZA(),x._UZ(10,"ion-row",6),x.TgZ(11,"ion-item",11)(12,"ion-label",8),x._uU(13,"Agregar medicamentos"),x.qZA(),x._UZ(14,"ion-icon",15),x.qZA(),x._UZ(15,"ion-row",6),x.TgZ(16,"ion-item",11)(17,"ion-label",8),x._uU(18,"Medicamentos "),x.qZA(),x._UZ(19,"ion-icon",16),x.qZA(),x._UZ(20,"ion-row",6),x.TgZ(21,"ion-item",11)(22,"ion-label",8),x._uU(23,"Agregar citas"),x.qZA(),x._UZ(24,"ion-icon",15),x.qZA(),x._UZ(25,"ion-row",6),x.TgZ(26,"ion-item",11)(27,"ion-label",8),x._uU(28,"Citas"),x.qZA(),x._UZ(29,"ion-icon",14),x.qZA(),x._UZ(30,"ion-row",6),x.TgZ(31,"ion-item",11)(32,"ion-label",8),x._uU(33,"Directorio de doctores"),x.qZA(),x._UZ(34,"ion-icon",17),x.qZA()()),2&je&&(x.xp6(1),x.Q6J("routerLink",x.DdM(7,Oe)),x.xp6(5),x.Q6J("routerLink",x.DdM(8,ke)),x.xp6(5),x.Q6J("routerLink",x.DdM(9,Xe)),x.xp6(5),x.Q6J("routerLink",x.DdM(10,ht)),x.xp6(5),x.Q6J("routerLink",x.DdM(11,we)),x.xp6(5),x.Q6J("routerLink",x.DdM(12,de)),x.xp6(5),x.Q6J("routerLink",x.DdM(13,ee)))}let Ke=(()=>{class je{constructor(_e,De,z,Be){this.auth=_e,this.router=De,this.store=z,this.navCtrl=Be,this.uid="",this.rold="Doctor",this.rolp="Paciente"}menu(){return(0,a.mG)(this,void 0,void 0,function*(){const _e=yield this.auth.getUid();_e&&(this.uid=_e),this.store.getDoc("Pacientes",this.uid).subscribe(Be=>{Be&&(this.pacientes=Be)}),this.store.getDoc("Doctores",this.uid).subscribe(Be=>{Be&&(this.doctores=Be)}),this.doctores&&(console.log("Doctor"),this.pages=[{tittle:"set-reportes",page:"set-reportes",icon:"reader-outline"},{tittle:"lista-reporte",page:"lista-reporte",icon:"list-outline"}],this.openPage("tabiniciald"))})}openPage(_e){this.router.navigate([_e])}logout(){this.auth.cerrars(),this.router.navigate(["./login"]).then(()=>{window.location.reload()})}}return je.\u0275fac=function(_e){return new(_e||je)(x.Y36(ie.e),x.Y36(Ie.F0),x.Y36(pe.C),x.Y36(k.SH))},je.\u0275cmp=x.Xpm({type:je,selectors:[["app-root"]],viewQuery:function(_e,De){if(1&_e&&x.Gf(k.O1,5),2&_e){let z;x.iGM(z=x.CRH())&&(De.nav=z.first)}},decls:19,vars:2,consts:[["contentId","main"],["contentId","main","menuId","main"],["color","secundario"],[1,"subtitulo"],["color","secundario",4,"ngIf"],[4,"ngIf"],[2,"height","10px"],["color","secundario","button","true","detail","true",3,"click"],[1,"normal"],["slot","start","name","log-out-outline"],["id","main"],["color","secundario","button","true","detail","true",3,"routerLink"],["slot","start","name","home-outline"],["slot","start","name","reader-outline"],["slot","start","name","list-outline"],["slot","start","name","add-circle-outline"],["slot","start","name","medkit-outline"],["slot","start","name","albums-outline"]],template:function(_e,De){1&_e&&(x.TgZ(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-header")(4,"ion-toolbar",2)(5,"ion-title",3),x._uU(6,"Menu"),x.qZA()()(),x.TgZ(7,"ion-content",2),x.YNc(8,ue,20,8,"ion-menu-toggle",4),x.YNc(9,Ze,35,14,"ion-menu-toggle",5),x._UZ(10,"ion-row",6),x.TgZ(11,"ion-footer")(12,"ion-toolbar",2)(13,"ion-menu-toggle")(14,"ion-item",7),x.NdJ("click",function(){return De.logout()}),x.TgZ(15,"ion-label",8),x._uU(16,"Cerrar Sesion"),x.qZA(),x._UZ(17,"ion-icon",9),x.qZA()()()()()(),x._UZ(18,"ion-router-outlet",10),x.qZA()()),2&_e&&(x.xp6(8),x.Q6J("ngIf",De.doctores),x.xp6(1),x.Q6J("ngIf",De.pacientes))},dependencies:[ne.O5,k.dr,k.W2,k.fr,k.Gu,k.gu,k.Ie,k.Q$,k.z0,k.zc,k.Nd,k.jI,k.wd,k.sr,k.jP,k.YI,Ie.rH]}),je})()},7556:(zt,rt,P)=>{"use strict";P.d(rt,{e:()=>Ie});var a=P(655),k=P(4650),x=P(1205),ie=P(3101);let Ie=(()=>{class pe{constructor(he,Te){this.auth=he,this.create=Te}login(he,Te){return this.auth.signInWithEmailAndPassword(he,Te)}registrar(he,Te){return this.auth.createUserWithEmailAndPassword(he,Te)}cerrars(){return this.auth.signOut}getUid(){return(0,a.mG)(this,void 0,void 0,function*(){return(yield this.auth.currentUser)?.uid})}}return pe.\u0275fac=function(he){return new(he||pe)(k.LFG(x.zQ),k.LFG(ie.ST))},pe.\u0275prov=k.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},1343:(zt,rt,P)=>{"use strict";P.d(rt,{C:()=>ie});var a=P(655),k=P(4650),x=P(3101);let ie=(()=>{class Ie{constructor(ne){this.firestore=ne}createDoc(ne,he,Te){return this.firestore.collection(he).doc(Te).set(ne)}agregar(ne,he){return this.firestore.collection(he).doc().set(ne)}getId(){return this.firestore.createId()}consultar(ne){return this.firestore.collection(ne).valueChanges()}getDoc(ne,he){return this.firestore.collection(ne).doc(he).valueChanges()}deletedoc(ne,he){return this.firestore.collection(ne).doc(he).delete()}updatedoc(ne,he,Te){return this.firestore.collection(ne).doc(he).update(Te)}update(ne,he,Te){return(0,a.mG)(this,void 0,void 0,function*(){return yield this.firestore.collection(ne).doc(he)})}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(k.LFG(x.ST))},Ie.\u0275prov=k.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},3719:(zt,rt,P)=>{"use strict";P.d(rt,{C:()=>x});var a=P(4650),k=P(3101);let x=(()=>{class ie{constructor(pe){this.database=pe}createRepo(pe,ne,he){return this.database.collection(ne).doc(he).set(pe)}getRepo(pe,ne){return this.database.collection(pe).doc(ne).valueChanges()}deletetRepo(pe,ne){return this.database.collection(pe).doc(ne).delete()}updateRepo(pe,ne,he){return this.database.collection(ne).doc(he).update(pe)}getId(){return this.database.createId()}getCollection(pe){return this.database.collection(pe).valueChanges()}}return ie.\u0275fac=function(pe){return new(pe||ie)(a.LFG(k.ST))},ie.\u0275prov=a.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})()},9820:(zt,rt,P)=>{"use strict";var a=P(1481),k=P(4650),x=P(2435),ie=P(2078),Ie=P(5041),pe=P(655),ne=P(3719),he=P(7556),Te=P(6895),ae=P(433);function le(X,Ce){if(1&X&&(k.TgZ(0,"ion-select-option",21),k._uU(1),k.qZA()),2&X){const se=Ce.$implicit;k.Q6J("value",se.uid),k.xp6(1),k.Oqu(se.nombre)}}function ue(X,Ce){if(1&X){const se=k.EpF();k.TgZ(0,"div",10)(1,"ion-item")(2,"ion-buttons",11)(3,"ion-button",3),k.NdJ("click",function(){k.CHM(se);const Se=k.oxw();return k.KtG(Se.enablenewReportes=!1)}),k._UZ(4,"ion-icon",12),k.qZA(),k.TgZ(5,"ion-button",13),k.NdJ("click",function(){k.CHM(se);const Se=k.oxw();return k.KtG(Se.guardarRepo())}),k._UZ(6,"ion-icon",14),k.qZA()()(),k.TgZ(7,"h3",8),k._uU(8,"Agregar informaci\xf3n personal"),k.qZA(),k.TgZ(9,"ion-item")(10,"ion-label",15),k._uU(11,"Nombre Completo:"),k.qZA(),k.TgZ(12,"ion-select",16),k.NdJ("ngModelChange",function(Se){k.CHM(se);const We=k.oxw();return k.KtG(We.newReportes.idpaciente=Se)}),k.YNc(13,le,2,2,"ion-select-option",17),k.qZA()(),k.TgZ(14,"ion-item")(15,"ion-label",15),k._uU(16,"Peso:"),k.qZA(),k.TgZ(17,"ion-input",18),k.NdJ("ngModelChange",function(Se){k.CHM(se);const We=k.oxw();return k.KtG(We.newReportes.peso=Se)}),k.qZA()(),k.TgZ(18,"ion-item")(19,"ion-label",15),k._uU(20,"Altura:"),k.qZA(),k.TgZ(21,"ion-input",18),k.NdJ("ngModelChange",function(Se){k.CHM(se);const We=k.oxw();return k.KtG(We.newReportes.altura=Se)}),k.qZA()(),k.TgZ(22,"ion-item",19)(23,"ion-label",15),k._uU(24,"Medicamentos que consume:"),k.qZA(),k.TgZ(25,"ion-textarea",20),k.NdJ("ngModelChange",function(Se){k.CHM(se);const We=k.oxw();return k.KtG(We.newReportes.medicamentos=Se)}),k.qZA()(),k.TgZ(26,"ion-item",19)(27,"ion-label",15),k._uU(28,"Condici\xf3n m\xe9dica:"),k.qZA(),k.TgZ(29,"ion-textarea",20),k.NdJ("ngModelChange",function(Se){k.CHM(se);const We=k.oxw();return k.KtG(We.newReportes.condicion=Se)}),k.qZA()()()}if(2&X){const se=k.oxw();k.xp6(12),k.Q6J("ngModel",se.newReportes.idpaciente),k.xp6(1),k.Q6J("ngForOf",se.infopacientes),k.xp6(4),k.Q6J("ngModel",se.newReportes.peso),k.xp6(4),k.Q6J("ngModel",se.newReportes.altura),k.xp6(4),k.Q6J("ngModel",se.newReportes.medicamentos),k.xp6(4),k.Q6J("ngModel",se.newReportes.condicion)}}function Oe(X,Ce){if(1&X){const se=k.EpF();k.TgZ(0,"ion-item")(1,"ion-label",22),k._uU(2),k.qZA(),k.TgZ(3,"ion-buttons",11)(4,"ion-button",3),k.NdJ("click",function(){const We=k.CHM(se).$implicit,Ge=k.oxw();return Ge.newReportes=We,k.KtG(Ge.enablenewReportes=!0)}),k._UZ(5,"ion-icon",23),k.qZA(),k.TgZ(6,"ion-button",3),k.NdJ("click",function(){const We=k.CHM(se).$implicit,Ge=k.oxw();return k.KtG(Ge.deleteReporte(We))}),k._UZ(7,"ion-icon",24),k.qZA()()()}if(2&X){const se=Ce.$implicit;k.xp6(2),k.Oqu(se.nombre)}}let ke=(()=>{class X{constructor(se,xe,Se,We,Ge,fe){this.menuController=se,this.firestoreService=xe,this.loadingCtrl=Se,this.toastController=We,this.alertController=Ge,this.auth=fe,this.almacenarReporte=[],this.pacientes=[],this.doctores=[],this.infopacientes=[],this.reporte={nombre:"",idpaciente:"",edad:0,peso:0,altura:0,medicamentos:"",condicion:"",id:this.firestoreService.getId(),iddoctor:"",especialidad:"",doctorname:"",fecha:new Date},this.enablenewReportes=!1,this.path="reportes/"}ngOnInit(){this.leertRepo(),this.getpacientes()}getpacientes(){this.firestoreService.getCollection("Pacientes").subscribe(se=>{se&&(this.infopacientes=se)})}openMenu(){this.menuController.toggle("main")}guardarRepo(){return(0,pe.mG)(this,void 0,void 0,function*(){let se=!1;const xe=yield this.auth.getUid();this.showLoading(),this.firestoreService.getCollection("Pacientes").subscribe(Se=>{Se&&(this.pacientes=Se,this.pacientes.forEach(We=>{We.uid==this.newReportes.idpaciente&&this.firestoreService.getCollection("Doctores").subscribe(Ge=>{this.doctores=Ge,this.doctores.forEach(fe=>{fe.uid==xe&&xe&&(this.uiddoctor=xe,this.newReportes={nombre:We.nombre+" "+We.apellido,idpaciente:We.uid,edad:We.edad,peso:this.newReportes.peso,altura:this.newReportes.altura,medicamentos:this.newReportes.medicamentos,condicion:this.newReportes.condicion,iddoctor:xe,especialidad:fe.especialidad,doctorname:fe.nombre+" "+fe.apellido,id:this.firestoreService.getId(),fecha:new Date},se||(this.firestoreService.createRepo(this.newReportes,this.path,this.newReportes.id).then(me=>{this.loading.dismiss(),this.presentToast("Guardado con exito")}).catch(me=>{this.presentToast("No se pudo guardar")}),se=!0))})})}))})})}leertRepo(){return(0,pe.mG)(this,void 0,void 0,function*(){this.uiddoctor=yield this.auth.getUid(),this.firestoreService.getCollection(this.path).subscribe(se=>{this.almacenarReporte=[],se.forEach(xe=>{xe.iddoctor==this.uiddoctor&&(this.reporte=xe,this.almacenarReporte.push(xe))})})})}deleteReporte(se){return(0,pe.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"normal",header:"Advertencia",message:"\xbfSeguro que deseas <strong>eliminar</strong> este reporte?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"normal",handler:()=>{console.log("Alert canceled")}},{text:"OK",role:"confirm",handler:()=>{console.log("Alert confirmed"),this.firestoreService.deletetRepo(this.path,se.id).then(Se=>{this.alertController.dismiss(),this.presentToast("Eliminado con exito")}).catch(Se=>{this.presentToast("No se pudo eliminar")})}}]})).present()})}nuevo(){this.enablenewReportes=!0,this.newReportes={nombre:"",idpaciente:"",edad:0,peso:0,altura:0,medicamentos:"",condicion:"",id:this.firestoreService.getId(),iddoctor:"",especialidad:"",doctorname:"",fecha:new Date}}showLoading(){return(0,pe.mG)(this,void 0,void 0,function*(){this.loading=yield this.loadingCtrl.create({cssClass:"normal",message:"Guardando...",spinner:"circles"}),yield this.loading.present()})}presentToast(se){return(0,pe.mG)(this,void 0,void 0,function*(){yield(yield this.toastController.create({cssClass:"normal",message:se,duration:2e3,icon:"thumbs-up-outline",color:"light"})).present()})}}return X.\u0275fac=function(se){return new(se||X)(k.Y36(ie._q),k.Y36(ne.C),k.Y36(ie.HT),k.Y36(ie.yF),k.Y36(ie.Br),k.Y36(he.e))},X.\u0275cmp=k.Xpm({type:X,selectors:[["app-set-reportes"]],decls:16,vars:2,consts:[["color","principal"],[1,"subtitulo"],["slot","start"],[3,"click"],["color","blanco","slot","icon-only","name","menu-outline"],[1,"header"],["color","dark",1,"normal",3,"click"],["class","new-report",4,"ngIf"],[1,"subtitulo","p-3","encabezado"],[4,"ngFor","ngForOf"],[1,"new-report"],["slot","end"],["slot","icon-only","color","dark","name","close"],["color","color1",3,"click"],["slot","icon-only","name","save-outline"],["position","floating",1,"normal"],["interface","popover","placeholder","Selecciona Paciente",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number","inputmode","numeric",1,"normal",3,"ngModel","ngModelChange"],["counter","true"],["type","text","inputmode","text","maxlength","120",1,"normal",3,"ngModel","ngModelChange"],[3,"value"],[1,"normal"],["slot","icon-only","name","create-outline",1,"color1"],["slot","icon-only","color","danger","name","trash-outline"]],template:function(se,xe){1&se&&(k.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),k._uU(3," Agregar Reporte "),k.qZA(),k.TgZ(4,"ion-buttons",2)(5,"ion-button",3),k.NdJ("click",function(){return xe.openMenu()}),k._UZ(6,"ion-icon",4),k.qZA()()()(),k.TgZ(7,"ion-content")(8,"div",5)(9,"ion-button",6),k.NdJ("click",function(){return xe.nuevo()}),k._uU(10,"Nuevo"),k.qZA()(),k.YNc(11,ue,30,6,"div",7),k.TgZ(12,"ion-card")(13,"h3",8),k._uU(14,"Lista de reportes"),k.qZA(),k.YNc(15,Oe,8,1,"ion-item",9),k.qZA()()),2&se&&(k.xp6(11),k.Q6J("ngIf",xe.enablenewReportes),k.xp6(4),k.Q6J("ngForOf",xe.almacenarReporte))},dependencies:[Te.sg,Te.O5,ie.YG,ie.Sm,ie.PM,ie.W2,ie.Gu,ie.gu,ie.pK,ie.Ie,ie.Q$,ie.t9,ie.n0,ie.g2,ie.wd,ie.sr,ie.as,ie.QI,ie.j9,ae.JJ,ae.nD,ae.On],styles:[".color1[_ngcontent-%COMP%]{color:#00d4ff}ion-content[_ngcontent-%COMP%]{background-color:#f2f;height:calc(100vh - 60px);display:flex;flex-direction:column;justify-content:center}.divider[_ngcontent-%COMP%]{background-color:#e5e5e5;margin-top:.5rem}.item[_ngcontent-%COMP%]{padding:1rem;margin-top:.5rem;border-radius:.5rem;box-shadow:0 0 10px #0000001a;transition:box-shadow .3s ease}.item[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #0003}h4[_ngcontent-%COMP%]{margin:.25rem 0;font-weight:500;font-size:1rem}ion-select[_ngcontent-%COMP%]{--padding-end: .5rem;font-size:1rem;font-weight:500}.encabezado[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#333;margin-bottom:1rem}.normal[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#333}.color1[_ngcontent-%COMP%]{color:#3880ff}"]}),X})(),Xe=(()=>{class X{constructor(se){this.menuController=se}ngOnInit(){}}return X.\u0275fac=function(se){return new(se||X)(k.Y36(ie._q))},X.\u0275cmp=k.Xpm({type:X,selectors:[["app-reportes"]],inputs:{reporte:"reporte"},decls:25,vars:6,consts:[[1,"custom-card"],[1,"normal"],[1,"custom-label"],[1,"peque\xf1a"]],template:function(se,xe){1&se&&(k.TgZ(0,"ion-card",0)(1,"ion-item",1)(2,"label",2),k._uU(3,"Nombre:"),k.qZA(),k._uU(4),k.qZA(),k.TgZ(5,"ion-item",3)(6,"label",2),k._uU(7,"Edad:"),k.qZA(),k._uU(8),k.qZA(),k.TgZ(9,"ion-item",3)(10,"label",2),k._uU(11,"Peso:"),k.qZA(),k._uU(12),k.qZA(),k.TgZ(13,"ion-item",3)(14,"label",2),k._uU(15,"Altura:"),k.qZA(),k._uU(16),k.qZA(),k.TgZ(17,"ion-item",3)(18,"label",2),k._uU(19,"Medicamentos:"),k.qZA(),k._uU(20),k.qZA(),k.TgZ(21,"ion-item",3)(22,"label",2),k._uU(23,"Condici\xf3n m\xe9dica:"),k.qZA(),k._uU(24),k.qZA()()),2&se&&(k.xp6(4),k.hij(" ",xe.reporte.nombre,""),k.xp6(4),k.hij(" ",xe.reporte.edad,""),k.xp6(4),k.hij(" ",xe.reporte.peso,""),k.xp6(4),k.hij(" ",xe.reporte.altura,""),k.xp6(4),k.hij(" ",xe.reporte.medicamentos,""),k.xp6(4),k.hij(" ",xe.reporte.condicion,""))},dependencies:[ie.PM,ie.Ie],styles:['@charset "UTF-8";.custom-card[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 4px 8px #0003;margin:20px;padding:20px}.custom-label[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.normal[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}.peque\\f1 a[_ngcontent-%COMP%]{font-size:1em;color:#666}']}),X})();function ht(X,Ce){if(1&X&&(k.TgZ(0,"div"),k._UZ(1,"app-reportes",8),k.qZA()),2&X){const se=Ce.$implicit;k.xp6(1),k.Q6J("reporte",se)}}const de=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",loadChildren:()=>P.e(4987).then(P.bind(P,4987)).then(X=>X.LoginPageModule)},{path:"rpaciente",loadChildren:()=>P.e(7995).then(P.bind(P,7995)).then(X=>X.RpacientePageModule)},{path:"rdoctor",loadChildren:()=>P.e(5340).then(P.bind(P,5340)).then(X=>X.RdoctorPageModule)},{path:"tabiniciald",loadChildren:()=>P.e(175).then(P.bind(P,175)).then(X=>X.TabinicialdPageModule)},{path:"tabinicialp",loadChildren:()=>P.e(8177).then(P.bind(P,8177)).then(X=>X.TabinicialpPageModule)},{path:"medicacion",loadChildren:()=>P.e(8619).then(P.bind(P,8619)).then(X=>X.MedicacionPageModule)},{path:"a-citas",loadChildren:()=>P.e(8265).then(P.bind(P,8265)).then(X=>X.ACitasPageModule)},{path:"pacientes",loadChildren:()=>P.e(5214).then(P.bind(P,5214)).then(X=>X.PacientesPageModule)},{path:"set-reportes",component:ke},{path:"lista-reporte",component:(()=>{class X{constructor(se,xe){this.firestoreService=se,this.menuController=xe,this.reporte=[],this.path="reportes/",this.loadReportes()}ngOnInit(){}loadReportes(){this.firestoreService.getCollection(this.path).subscribe(se=>{console.log(se),this.reporte=se})}openMenu(){this.menuController.toggle("main")}}return X.\u0275fac=function(se){return new(se||X)(k.Y36(ne.C),k.Y36(ie._q))},X.\u0275cmp=k.Xpm({type:X,selectors:[["app-home"]],decls:11,vars:1,consts:[["color","principal"],[1,"subtitulo"],["slot","start"],[3,"click"],["color","blanco","slot","icon-only","name","menu-outline"],[1,"subtitulo","p-2","encabezado"],["color","blanco"],[4,"ngFor","ngForOf"],[1,"normal",3,"reporte"]],template:function(se,xe){1&se&&(k.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),k._uU(3," Agregar Reporte "),k.qZA(),k.TgZ(4,"ion-buttons",2)(5,"ion-button",3),k.NdJ("click",function(){return xe.openMenu()}),k._UZ(6,"ion-icon",4),k.qZA()()()(),k.TgZ(7,"H3",5),k._uU(8,"Lista de reportes"),k.qZA(),k.TgZ(9,"ion-content",6),k.YNc(10,ht,2,1,"div",7),k.qZA()),2&se&&(k.xp6(10),k.Q6J("ngForOf",xe.reporte))},dependencies:[Te.sg,ie.YG,ie.Sm,ie.W2,ie.Gu,ie.gu,ie.wd,ie.sr,Xe]}),X})()},{path:"homed",loadChildren:()=>P.e(3982).then(P.bind(P,3982)).then(X=>X.HomePageModule)},{path:"historial",loadChildren:()=>P.e(3690).then(P.bind(P,3690)).then(X=>X.HistorialPageModule)},{path:"medicamento",loadChildren:()=>P.e(8619).then(P.bind(P,8619)).then(X=>X.MedicacionPageModule)},{path:"a-citas",loadChildren:()=>P.e(8265).then(P.bind(P,8265)).then(X=>X.ACitasPageModule)},{path:"home",loadChildren:()=>P.e(8253).then(P.bind(P,8253)).then(X=>X.HomePageModule)},{path:"directorio",loadChildren:()=>P.e(3334).then(P.bind(P,3334)).then(X=>X.DirectorioPageModule)},{path:"vmedicamentos",loadChildren:()=>P.e(5066).then(P.bind(P,5066)).then(X=>X.VmedicamentosPageModule)},{path:"vcitas",loadChildren:()=>P.e(6826).then(P.bind(P,6826)).then(X=>X.VcitasPageModule)},{path:"citasd",loadChildren:()=>P.e(551).then(P.bind(P,551)).then(X=>X.CitasPageModule)}];let ee=(()=>{class X{}return X.\u0275fac=function(se){return new(se||X)},X.\u0275mod=k.oAB({type:X}),X.\u0275inj=k.cJS({imports:[x.Bz.forRoot(de,{preloadingStrategy:x.wm}),x.Bz]}),X})();const Ze_firebaseConfig={apiKey:"AIzaSyCHL6tp2jTDcPJOyUq7Q4a176ggDLlUXdg",authDomain:"medmate-2411d.firebaseapp.com",projectId:"medmate-2411d",storageBucket:"medmate-2411d.appspot.com",messagingSenderId:"942003967782",appId:"1:942003967782:web:ad536ad97975c7bd10d3e7",measurementId:"G-0C6BWKF8Y4"};var Ke=P(2011),je=P(3101),Ve=P(1205);let _e=(()=>{class X{}return X.\u0275fac=function(se){return new(se||X)},X.\u0275mod=k.oAB({type:X}),X.\u0275inj=k.cJS({imports:[Te.ez,ie.Pc,x.Bz]}),X})(),De=(()=>{class X{}return X.\u0275fac=function(se){return new(se||X)},X.\u0275mod=k.oAB({type:X}),X.\u0275inj=k.cJS({imports:[Te.ez,ie.Pc,x.Bz,_e]}),X})(),z=(()=>{class X{}return X.\u0275fac=function(se){return new(se||X)},X.\u0275mod=k.oAB({type:X}),X.\u0275inj=k.cJS({imports:[Te.ez,ie.Pc,ae.u5]}),X})(),Be=(()=>{class X{}return X.\u0275fac=function(se){return new(se||X)},X.\u0275mod=k.oAB({type:X,bootstrap:[Ie.y]}),X.\u0275inj=k.cJS({providers:[{provide:x.wN,useClass:ie.r4}],imports:[a.b2,ie.Pc.forRoot(),ee,z,Ke.hO.initializeApp(Ze_firebaseConfig),je.yb,ae.u5,Ve.ww,De]}),X})();(0,k.G48)(),a.q6().bootstrapModule(Be).catch(X=>console.log(X))},1135:(zt,rt,P)=>{"use strict";P.d(rt,{X:()=>k});var a=P(7579);class k extends a.x{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const Ie=super._subscribe(ie);return!Ie.closed&&ie.next(this._value),Ie}getValue(){const{hasError:ie,thrownError:Ie,_value:pe}=this;if(ie)throw Ie;return this._throwIfClosed(),pe}next(ie){super.next(this._value=ie)}}},9751:(zt,rt,P)=>{"use strict";P.d(rt,{y:()=>he});var a=P(2961),k=P(727),x=P(8822),ie=P(9635),Ie=P(2416),pe=P(576),ne=P(2806);let he=(()=>{class ue{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Xe=new ue;return Xe.source=this,Xe.operator=ke,Xe}subscribe(ke,Xe,ht){const we=function le(ue){return ue&&ue instanceof a.Lv||function ae(ue){return ue&&(0,pe.m)(ue.next)&&(0,pe.m)(ue.error)&&(0,pe.m)(ue.complete)}(ue)&&(0,k.Nn)(ue)}(ke)?ke:new a.Hp(ke,Xe,ht);return(0,ne.x)(()=>{const{operator:de,source:ee}=this;we.add(de?de.call(we,ee):ee?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Xe){ke.error(Xe)}}forEach(ke,Xe){return new(Xe=Te(Xe))((ht,we)=>{const de=new a.Hp({next:ee=>{try{ke(ee)}catch(Ze){we(Ze),de.unsubscribe()}},error:we,complete:ht});this.subscribe(de)})}_subscribe(ke){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(ke)}[x.L](){return this}pipe(...ke){return(0,ie.U)(ke)(this)}toPromise(ke){return new(ke=Te(ke))((Xe,ht)=>{let we;this.subscribe(de=>we=de,de=>ht(de),()=>Xe(we))})}}return ue.create=Oe=>new ue(Oe),ue})();function Te(ue){var Oe;return null!==(Oe=ue??Ie.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(zt,rt,P)=>{"use strict";P.d(rt,{x:()=>ne});var a=P(9751),k=P(727);const ie=(0,P(3888).d)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=P(8737),pe=P(2806);let ne=(()=>{class Te extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const ue=new he(this,this);return ue.operator=le,ue}_throwIfClosed(){if(this.closed)throw new ie}next(le){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ue of this.currentObservers)ue.next(le)}})}error(le){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:ue}=this;for(;ue.length;)ue.shift().error(le)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:ue,isStopped:Oe,observers:ke}=this;return ue||Oe?k.Lc:(this.currentObservers=null,ke.push(le),new k.w0(()=>{this.currentObservers=null,(0,Ie.P)(ke,le)}))}_checkFinalizedStatuses(le){const{hasError:ue,thrownError:Oe,isStopped:ke}=this;ue?le.error(Oe):ke&&le.complete()}asObservable(){const le=new a.y;return le.source=this,le}}return Te.create=(ae,le)=>new he(ae,le),Te})();class he extends ne{constructor(ae,le){super(),this.destination=ae,this.source=le}next(ae){var le,ue;null===(ue=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===ue||ue.call(le,ae)}error(ae){var le,ue;null===(ue=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===ue||ue.call(le,ae)}complete(){var ae,le;null===(le=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===le||le.call(ae)}_subscribe(ae){var le,ue;return null!==(ue=null===(le=this.source)||void 0===le?void 0:le.subscribe(ae))&&void 0!==ue?ue:k.Lc}}},2961:(zt,rt,P)=>{"use strict";P.d(rt,{Hp:()=>ht,Lv:()=>ue});var a=P(576),k=P(727),x=P(2416),ie=P(7849);function Ie(){}const pe=Te("C",void 0,void 0);function Te(Ke,je,Ve){return{kind:Ke,value:je,error:Ve}}var ae=P(3410),le=P(2806);class ue extends k.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,k.Nn)(je)&&je.add(this)):this.destination=Ze}static create(je,Ve,_e){return new ht(je,Ve,_e)}next(je){this.isStopped?ee(function he(Ke){return Te("N",Ke,void 0)}(je),this):this._next(je)}error(je){this.isStopped?ee(function ne(Ke){return Te("E",void 0,Ke)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?ee(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function ke(Ke,je){return Oe.call(Ke,je)}class Xe{constructor(je){this.partialObserver=je}next(je){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(je)}catch(_e){we(_e)}}error(je){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(je)}catch(_e){we(_e)}else we(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(Ve){we(Ve)}}}class ht extends ue{constructor(je,Ve,_e){let De;if(super(),(0,a.m)(je)||!je)De={next:je??void 0,error:Ve??void 0,complete:_e??void 0};else{let z;this&&x.v.useDeprecatedNextContext?(z=Object.create(je),z.unsubscribe=()=>this.unsubscribe(),De={next:je.next&&ke(je.next,z),error:je.error&&ke(je.error,z),complete:je.complete&&ke(je.complete,z)}):De=je}this.destination=new Xe(De)}}function we(Ke){x.v.useDeprecatedSynchronousErrorHandling?(0,le.O)(Ke):(0,ie.h)(Ke)}function ee(Ke,je){const{onStoppedNotification:Ve}=x.v;Ve&&ae.z.setTimeout(()=>Ve(Ke,je))}const Ze={closed:!0,next:Ie,error:function de(Ke){throw Ke},complete:Ie}},727:(zt,rt,P)=>{"use strict";P.d(rt,{Lc:()=>pe,w0:()=>Ie,Nn:()=>ne});var a=P(576);const x=(0,P(3888).d)(Te=>function(le){Te(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((ue,Oe)=>`${Oe+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var ie=P(8737);class Ie{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const ke of le)ke.remove(this);else le.remove(this);const{initialTeardown:ue}=this;if((0,a.m)(ue))try{ue()}catch(ke){ae=ke instanceof x?ke.errors:[ke]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const ke of Oe)try{he(ke)}catch(Xe){ae=ae??[],Xe instanceof x?ae=[...ae,...Xe.errors]:ae.push(Xe)}}if(ae)throw new x(ae)}}add(ae){var le;if(ae&&ae!==this)if(this.closed)he(ae);else{if(ae instanceof Ie){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(ae)}}_hasParent(ae){const{_parentage:le}=this;return le===ae||Array.isArray(le)&&le.includes(ae)}_addParent(ae){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ae),le):le?[le,ae]:ae}_removeParent(ae){const{_parentage:le}=this;le===ae?this._parentage=null:Array.isArray(le)&&(0,ie.P)(le,ae)}remove(ae){const{_finalizers:le}=this;le&&(0,ie.P)(le,ae),ae instanceof Ie&&ae._removeParent(this)}}Ie.EMPTY=(()=>{const Te=new Ie;return Te.closed=!0,Te})();const pe=Ie.EMPTY;function ne(Te){return Te instanceof Ie||Te&&"closed"in Te&&(0,a.m)(Te.remove)&&(0,a.m)(Te.add)&&(0,a.m)(Te.unsubscribe)}function he(Te){(0,a.m)(Te)?Te():Te.unsubscribe()}},2416:(zt,rt,P)=>{"use strict";P.d(rt,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(zt,rt,P)=>{"use strict";P.d(rt,{z:()=>Ie});var a=P(8189),x=P(7669),ie=P(8996);function Ie(...pe){return function k(){return(0,a.J)(1)}()((0,ie.D)(pe,(0,x.yG)(pe)))}},515:(zt,rt,P)=>{"use strict";P.d(rt,{E:()=>k});const k=new(P(9751).y)(Ie=>Ie.complete())},8996:(zt,rt,P)=>{"use strict";P.d(rt,{D:()=>je});var a=P(8421),k=P(5363),x=P(9468),pe=P(9751),he=P(2202),Te=P(576),ae=P(9672);function ue(Ve,_e){if(!Ve)throw new Error("Iterable cannot be null");return new pe.y(De=>{(0,ae.f)(De,_e,()=>{const z=Ve[Symbol.asyncIterator]();(0,ae.f)(De,_e,()=>{z.next().then(Be=>{Be.done?De.complete():De.next(Be.value)})},0,!0)})})}var Oe=P(3670),ke=P(8239),Xe=P(1144),ht=P(6495),we=P(2206),de=P(4532),ee=P(3260);function je(Ve,_e){return _e?function Ke(Ve,_e){if(null!=Ve){if((0,Oe.c)(Ve))return function ie(Ve,_e){return(0,a.Xf)(Ve).pipe((0,x.R)(_e),(0,k.Q)(_e))}(Ve,_e);if((0,Xe.z)(Ve))return function ne(Ve,_e){return new pe.y(De=>{let z=0;return _e.schedule(function(){z===Ve.length?De.complete():(De.next(Ve[z++]),De.closed||this.schedule())})})}(Ve,_e);if((0,ke.t)(Ve))return function Ie(Ve,_e){return(0,a.Xf)(Ve).pipe((0,x.R)(_e),(0,k.Q)(_e))}(Ve,_e);if((0,we.D)(Ve))return ue(Ve,_e);if((0,ht.T)(Ve))return function le(Ve,_e){return new pe.y(De=>{let z;return(0,ae.f)(De,_e,()=>{z=Ve[he.h](),(0,ae.f)(De,_e,()=>{let Be,X;try{({value:Be,done:X}=z.next())}catch(Ce){return void De.error(Ce)}X?De.complete():De.next(Be)},0,!0)}),()=>(0,Te.m)(z?.return)&&z.return()})}(Ve,_e);if((0,ee.L)(Ve))return function Ze(Ve,_e){return ue((0,ee.Q)(Ve),_e)}(Ve,_e)}throw(0,de.z)(Ve)}(Ve,_e):(0,a.Xf)(Ve)}},8421:(zt,rt,P)=>{"use strict";P.d(rt,{Xf:()=>Oe});var a=P(655),k=P(1144),x=P(8239),ie=P(9751),Ie=P(3670),pe=P(2206),ne=P(4532),he=P(6495),Te=P(3260),ae=P(576),le=P(7849),ue=P(8822);function Oe(Ke){if(Ke instanceof ie.y)return Ke;if(null!=Ke){if((0,Ie.c)(Ke))return function ke(Ke){return new ie.y(je=>{const Ve=Ke[ue.L]();if((0,ae.m)(Ve.subscribe))return Ve.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,k.z)(Ke))return function Xe(Ke){return new ie.y(je=>{for(let Ve=0;Ve<Ke.length&&!je.closed;Ve++)je.next(Ke[Ve]);je.complete()})}(Ke);if((0,x.t)(Ke))return function ht(Ke){return new ie.y(je=>{Ke.then(Ve=>{je.closed||(je.next(Ve),je.complete())},Ve=>je.error(Ve)).then(null,le.h)})}(Ke);if((0,pe.D)(Ke))return de(Ke);if((0,he.T)(Ke))return function we(Ke){return new ie.y(je=>{for(const Ve of Ke)if(je.next(Ve),je.closed)return;je.complete()})}(Ke);if((0,Te.L)(Ke))return function ee(Ke){return de((0,Te.Q)(Ke))}(Ke)}throw(0,ne.z)(Ke)}function de(Ke){return new ie.y(je=>{(function Ze(Ke,je){var Ve,_e,De,z;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,a.KL)(Ke);!(_e=yield Ve.next()).done;)if(je.next(_e.value),je.closed)return}catch(Be){De={error:Be}}finally{try{_e&&!_e.done&&(z=Ve.return)&&(yield z.call(Ve))}finally{if(De)throw De.error}}je.complete()})})(Ke,je).catch(Ve=>je.error(Ve))})}},6451:(zt,rt,P)=>{"use strict";P.d(rt,{T:()=>pe});var a=P(8189),k=P(8421),x=P(515),ie=P(7669),Ie=P(8996);function pe(...ne){const he=(0,ie.yG)(ne),Te=(0,ie._6)(ne,1/0),ae=ne;return ae.length?1===ae.length?(0,k.Xf)(ae[0]):(0,a.J)(Te)((0,Ie.D)(ae,he)):x.E}},9646:(zt,rt,P)=>{"use strict";P.d(rt,{of:()=>x});var a=P(7669),k=P(8996);function x(...ie){const Ie=(0,a.yG)(ie);return(0,k.D)(ie,Ie)}},5403:(zt,rt,P)=>{"use strict";P.d(rt,{x:()=>k});var a=P(2961);function k(ie,Ie,pe,ne,he){return new x(ie,Ie,pe,ne,he)}class x extends a.Lv{constructor(Ie,pe,ne,he,Te,ae){super(Ie),this.onFinalize=Te,this.shouldUnsubscribe=ae,this._next=pe?function(le){try{pe(le)}catch(ue){Ie.error(ue)}}:super._next,this._error=he?function(le){try{he(le)}catch(ue){Ie.error(ue)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(le){Ie.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(Ie=this.onFinalize)||void 0===Ie||Ie.call(this))}}}},6590:(zt,rt,P)=>{"use strict";P.d(rt,{d:()=>x});var a=P(4482),k=P(5403);function x(ie){return(0,a.e)((Ie,pe)=>{let ne=!1;Ie.subscribe((0,k.x)(pe,he=>{ne=!0,pe.next(he)},()=>{ne||pe.next(ie),pe.complete()}))})}},1884:(zt,rt,P)=>{"use strict";P.d(rt,{x:()=>ie});var a=P(4671),k=P(4482),x=P(5403);function ie(pe,ne=a.y){return pe=pe??Ie,(0,k.e)((he,Te)=>{let ae,le=!0;he.subscribe((0,x.x)(Te,ue=>{const Oe=ne(ue);(le||!pe(ae,Oe))&&(le=!1,ae=Oe,Te.next(ue))}))})}function Ie(pe,ne){return pe===ne}},9300:(zt,rt,P)=>{"use strict";P.d(rt,{h:()=>x});var a=P(4482),k=P(5403);function x(ie,Ie){return(0,a.e)((pe,ne)=>{let he=0;pe.subscribe((0,k.x)(ne,Te=>ie.call(Ie,Te,he++)&&ne.next(Te)))})}},590:(zt,rt,P)=>{"use strict";P.d(rt,{P:()=>ne});var a=P(6805),k=P(9300),x=P(5698),ie=P(6590),Ie=P(8068),pe=P(4671);function ne(he,Te){const ae=arguments.length>=2;return le=>le.pipe(he?(0,k.h)((ue,Oe)=>he(ue,Oe,le)):pe.y,(0,x.q)(1),ae?(0,ie.d)(Te):(0,Ie.T)(()=>new a.K))}},4004:(zt,rt,P)=>{"use strict";P.d(rt,{U:()=>x});var a=P(4482),k=P(5403);function x(ie,Ie){return(0,a.e)((pe,ne)=>{let he=0;pe.subscribe((0,k.x)(ne,Te=>{ne.next(ie.call(Ie,Te,he++))}))})}},8189:(zt,rt,P)=>{"use strict";P.d(rt,{J:()=>x});var a=P(5577),k=P(4671);function x(ie=1/0){return(0,a.z)(k.y,ie)}},5577:(zt,rt,P)=>{"use strict";P.d(rt,{z:()=>he});var a=P(4004),k=P(8421),x=P(4482),ie=P(9672),Ie=P(5403),ne=P(576);function he(Te,ae,le=1/0){return(0,ne.m)(ae)?he((ue,Oe)=>(0,a.U)((ke,Xe)=>ae(ue,ke,Oe,Xe))((0,k.Xf)(Te(ue,Oe))),le):("number"==typeof ae&&(le=ae),(0,x.e)((ue,Oe)=>function pe(Te,ae,le,ue,Oe,ke,Xe,ht){const we=[];let de=0,ee=0,Ze=!1;const Ke=()=>{Ze&&!we.length&&!de&&ae.complete()},je=_e=>de<ue?Ve(_e):we.push(_e),Ve=_e=>{ke&&ae.next(_e),de++;let De=!1;(0,k.Xf)(le(_e,ee++)).subscribe((0,Ie.x)(ae,z=>{Oe?.(z),ke?je(z):ae.next(z)},()=>{De=!0},void 0,()=>{if(De)try{for(de--;we.length&&de<ue;){const z=we.shift();Xe?(0,ie.f)(ae,Xe,()=>Ve(z)):Ve(z)}Ke()}catch(z){ae.error(z)}}))};return Te.subscribe((0,Ie.x)(ae,je,()=>{Ze=!0,Ke()})),()=>{ht?.()}}(ue,Oe,Te,le)))}},5363:(zt,rt,P)=>{"use strict";P.d(rt,{Q:()=>ie});var a=P(9672),k=P(4482),x=P(5403);function ie(Ie,pe=0){return(0,k.e)((ne,he)=>{ne.subscribe((0,x.x)(he,Te=>(0,a.f)(he,Ie,()=>he.next(Te),pe),()=>(0,a.f)(he,Ie,()=>he.complete(),pe),Te=>(0,a.f)(he,Ie,()=>he.error(Te),pe)))})}},5026:(zt,rt,P)=>{"use strict";P.d(rt,{R:()=>ie});var a=P(4482),k=P(5403);function ie(Ie,pe){return(0,a.e)(function x(Ie,pe,ne,he,Te){return(ae,le)=>{let ue=ne,Oe=pe,ke=0;ae.subscribe((0,k.x)(le,Xe=>{const ht=ke++;Oe=ue?Ie(Oe,Xe,ht):(ue=!0,Xe),he&&le.next(Oe)},Te&&(()=>{ue&&le.next(Oe),le.complete()})))}}(Ie,pe,arguments.length>=2,!0))}},3099:(zt,rt,P)=>{"use strict";P.d(rt,{B:()=>Ie});var a=P(8421),k=P(7579),x=P(2961),ie=P(4482);function Ie(ne={}){const{connector:he=(()=>new k.x),resetOnError:Te=!0,resetOnComplete:ae=!0,resetOnRefCountZero:le=!0}=ne;return ue=>{let Oe,ke,Xe,ht=0,we=!1,de=!1;const ee=()=>{ke?.unsubscribe(),ke=void 0},Ze=()=>{ee(),Oe=Xe=void 0,we=de=!1},Ke=()=>{const je=Oe;Ze(),je?.unsubscribe()};return(0,ie.e)((je,Ve)=>{ht++,!de&&!we&&ee();const _e=Xe=Xe??he();Ve.add(()=>{ht--,0===ht&&!de&&!we&&(ke=pe(Ke,le))}),_e.subscribe(Ve),!Oe&&ht>0&&(Oe=new x.Hp({next:De=>_e.next(De),error:De=>{de=!0,ee(),ke=pe(Ze,Te,De),_e.error(De)},complete:()=>{we=!0,ee(),ke=pe(Ze,ae),_e.complete()}}),(0,a.Xf)(je).subscribe(Oe))})(ue)}}function pe(ne,he,...Te){if(!0===he)return void ne();if(!1===he)return;const ae=new x.Hp({next:()=>{ae.unsubscribe(),ne()}});return he(...Te).subscribe(ae)}},8675:(zt,rt,P)=>{"use strict";P.d(rt,{O:()=>ie});var a=P(7272),k=P(7669),x=P(4482);function ie(...Ie){const pe=(0,k.yG)(Ie);return(0,x.e)((ne,he)=>{(pe?(0,a.z)(Ie,ne,pe):(0,a.z)(Ie,ne)).subscribe(he)})}},9468:(zt,rt,P)=>{"use strict";P.d(rt,{R:()=>k});var a=P(4482);function k(x,ie=0){return(0,a.e)((Ie,pe)=>{pe.add(x.schedule(()=>Ie.subscribe(pe),ie))})}},3900:(zt,rt,P)=>{"use strict";P.d(rt,{w:()=>ie});var a=P(8421),k=P(4482),x=P(5403);function ie(Ie,pe){return(0,k.e)((ne,he)=>{let Te=null,ae=0,le=!1;const ue=()=>le&&!Te&&he.complete();ne.subscribe((0,x.x)(he,Oe=>{Te?.unsubscribe();let ke=0;const Xe=ae++;(0,a.Xf)(Ie(Oe,Xe)).subscribe(Te=(0,x.x)(he,ht=>he.next(pe?pe(Oe,ht,Xe,ke++):ht),()=>{Te=null,ue()}))},()=>{le=!0,ue()}))})}},5698:(zt,rt,P)=>{"use strict";P.d(rt,{q:()=>ie});var a=P(515),k=P(4482),x=P(5403);function ie(Ie){return Ie<=0?()=>a.E:(0,k.e)((pe,ne)=>{let he=0;pe.subscribe((0,x.x)(ne,Te=>{++he<=Ie&&(ne.next(Te),Ie<=he&&ne.complete())}))})}},8505:(zt,rt,P)=>{"use strict";P.d(rt,{b:()=>Ie});var a=P(576),k=P(4482),x=P(5403),ie=P(4671);function Ie(pe,ne,he){const Te=(0,a.m)(pe)||ne||he?{next:pe,error:ne,complete:he}:pe;return Te?(0,k.e)((ae,le)=>{var ue;null===(ue=Te.subscribe)||void 0===ue||ue.call(Te);let Oe=!0;ae.subscribe((0,x.x)(le,ke=>{var Xe;null===(Xe=Te.next)||void 0===Xe||Xe.call(Te,ke),le.next(ke)},()=>{var ke;Oe=!1,null===(ke=Te.complete)||void 0===ke||ke.call(Te),le.complete()},ke=>{var Xe;Oe=!1,null===(Xe=Te.error)||void 0===Xe||Xe.call(Te,ke),le.error(ke)},()=>{var ke,Xe;Oe&&(null===(ke=Te.unsubscribe)||void 0===ke||ke.call(Te)),null===(Xe=Te.finalize)||void 0===Xe||Xe.call(Te)}))}):ie.y}},8068:(zt,rt,P)=>{"use strict";P.d(rt,{T:()=>ie});var a=P(6805),k=P(4482),x=P(5403);function ie(pe=Ie){return(0,k.e)((ne,he)=>{let Te=!1;ne.subscribe((0,x.x)(he,ae=>{Te=!0,he.next(ae)},()=>Te?he.complete():he.error(pe())))})}function Ie(){return new a.K}},4408:(zt,rt,P)=>{"use strict";P.d(rt,{o:()=>Ie});var a=P(727);class k extends a.w0{constructor(ne,he){super()}schedule(ne,he=0){return this}}const x={setInterval(pe,ne,...he){const{delegate:Te}=x;return Te?.setInterval?Te.setInterval(pe,ne,...he):setInterval(pe,ne,...he)},clearInterval(pe){const{delegate:ne}=x;return(ne?.clearInterval||clearInterval)(pe)},delegate:void 0};var ie=P(8737);class Ie extends k{constructor(ne,he){super(ne,he),this.scheduler=ne,this.work=he,this.pending=!1}schedule(ne,he=0){var Te;if(this.closed)return this;this.state=ne;const ae=this.id,le=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(le,ae,he)),this.pending=!0,this.delay=he,this.id=null!==(Te=this.id)&&void 0!==Te?Te:this.requestAsyncId(le,this.id,he),this}requestAsyncId(ne,he,Te=0){return x.setInterval(ne.flush.bind(ne,this),Te)}recycleAsyncId(ne,he,Te=0){if(null!=Te&&this.delay===Te&&!1===this.pending)return he;null!=he&&x.clearInterval(he)}execute(ne,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(ne,he);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,he){let ae,Te=!1;try{this.work(ne)}catch(le){Te=!0,ae=le||new Error("Scheduled action threw falsy error")}if(Te)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:ne,scheduler:he}=this,{actions:Te}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(Te,this),null!=ne&&(this.id=this.recycleAsyncId(he,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(zt,rt,P)=>{"use strict";P.d(rt,{v:()=>x});var a=P(6063);class k{constructor(Ie,pe=k.now){this.schedulerActionCtor=Ie,this.now=pe}schedule(Ie,pe=0,ne){return new this.schedulerActionCtor(this,Ie).schedule(ne,pe)}}k.now=a.l.now;class x extends k{constructor(Ie,pe=k.now){super(Ie,pe),this.actions=[],this._active=!1}flush(Ie){const{actions:pe}=this;if(this._active)return void pe.push(Ie);let ne;this._active=!0;do{if(ne=Ie.execute(Ie.state,Ie.delay))break}while(Ie=pe.shift());if(this._active=!1,ne){for(;Ie=pe.shift();)Ie.unsubscribe();throw ne}}}},4986:(zt,rt,P)=>{"use strict";P.d(rt,{z:()=>x});var a=P(4408);const x=new(P(7565).v)(a.o)},6063:(zt,rt,P)=>{"use strict";P.d(rt,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(zt,rt,P)=>{"use strict";P.d(rt,{z:()=>a});const a={setTimeout(k,x,...ie){const{delegate:Ie}=a;return Ie?.setTimeout?Ie.setTimeout(k,x,...ie):setTimeout(k,x,...ie)},clearTimeout(k){const{delegate:x}=a;return(x?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:(zt,rt,P)=>{"use strict";P.d(rt,{h:()=>k});const k=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(zt,rt,P)=>{"use strict";P.d(rt,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(zt,rt,P)=>{"use strict";P.d(rt,{K:()=>k});const k=(0,P(3888).d)(x=>function(){x(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(zt,rt,P)=>{"use strict";P.d(rt,{_6:()=>pe,jO:()=>ie,yG:()=>Ie});var a=P(576);function x(ne){return ne[ne.length-1]}function ie(ne){return(0,a.m)(x(ne))?ne.pop():void 0}function Ie(ne){return function k(ne){return ne&&(0,a.m)(ne.schedule)}(x(ne))?ne.pop():void 0}function pe(ne,he){return"number"==typeof x(ne)?ne.pop():he}},4742:(zt,rt,P)=>{"use strict";P.d(rt,{D:()=>Ie});const{isArray:a}=Array,{getPrototypeOf:k,prototype:x,keys:ie}=Object;function Ie(ne){if(1===ne.length){const he=ne[0];if(a(he))return{args:he,keys:null};if(function pe(ne){return ne&&"object"==typeof ne&&k(ne)===x}(he)){const Te=ie(he);return{args:Te.map(ae=>he[ae]),keys:Te}}}return{args:ne,keys:null}}},8737:(zt,rt,P)=>{"use strict";function a(k,x){if(k){const ie=k.indexOf(x);0<=ie&&k.splice(ie,1)}}P.d(rt,{P:()=>a})},3888:(zt,rt,P)=>{"use strict";function a(k){const ie=k(Ie=>{Error.call(Ie),Ie.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}P.d(rt,{d:()=>a})},1810:(zt,rt,P)=>{"use strict";function a(k,x){return k.reduce((ie,Ie,pe)=>(ie[Ie]=x[pe],ie),{})}P.d(rt,{n:()=>a})},2806:(zt,rt,P)=>{"use strict";P.d(rt,{O:()=>ie,x:()=>x});var a=P(2416);let k=null;function x(Ie){if(a.v.useDeprecatedSynchronousErrorHandling){const pe=!k;if(pe&&(k={errorThrown:!1,error:null}),Ie(),pe){const{errorThrown:ne,error:he}=k;if(k=null,ne)throw he}}else Ie()}function ie(Ie){a.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=Ie)}},9672:(zt,rt,P)=>{"use strict";function a(k,x,ie,Ie=0,pe=!1){const ne=x.schedule(function(){ie(),pe?k.add(this.schedule(null,Ie)):this.unsubscribe()},Ie);if(k.add(ne),!pe)return ne}P.d(rt,{f:()=>a})},4671:(zt,rt,P)=>{"use strict";function a(k){return k}P.d(rt,{y:()=>a})},1144:(zt,rt,P)=>{"use strict";P.d(rt,{z:()=>a});const a=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(zt,rt,P)=>{"use strict";P.d(rt,{D:()=>k});var a=P(576);function k(x){return Symbol.asyncIterator&&(0,a.m)(x?.[Symbol.asyncIterator])}},576:(zt,rt,P)=>{"use strict";function a(k){return"function"==typeof k}P.d(rt,{m:()=>a})},3670:(zt,rt,P)=>{"use strict";P.d(rt,{c:()=>x});var a=P(8822),k=P(576);function x(ie){return(0,k.m)(ie[a.L])}},6495:(zt,rt,P)=>{"use strict";P.d(rt,{T:()=>x});var a=P(2202),k=P(576);function x(ie){return(0,k.m)(ie?.[a.h])}},8239:(zt,rt,P)=>{"use strict";P.d(rt,{t:()=>k});var a=P(576);function k(x){return(0,a.m)(x?.then)}},3260:(zt,rt,P)=>{"use strict";P.d(rt,{L:()=>ie,Q:()=>x});var a=P(655),k=P(576);function x(Ie){return(0,a.FC)(this,arguments,function*(){const ne=Ie.getReader();try{for(;;){const{value:he,done:Te}=yield(0,a.qq)(ne.read());if(Te)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(he)}}finally{ne.releaseLock()}})}function ie(Ie){return(0,k.m)(Ie?.getReader)}},4482:(zt,rt,P)=>{"use strict";P.d(rt,{A:()=>k,e:()=>x});var a=P(576);function k(ie){return(0,a.m)(ie?.lift)}function x(ie){return Ie=>{if(k(Ie))return Ie.lift(function(pe){try{return ie(pe,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(zt,rt,P)=>{"use strict";P.d(rt,{Z:()=>ie});var a=P(4004);const{isArray:k}=Array;function ie(Ie){return(0,a.U)(pe=>function x(Ie,pe){return k(pe)?Ie(...pe):Ie(pe)}(Ie,pe))}},9635:(zt,rt,P)=>{"use strict";P.d(rt,{U:()=>x,z:()=>k});var a=P(4671);function k(...ie){return x(ie)}function x(ie){return 0===ie.length?a.y:1===ie.length?ie[0]:function(pe){return ie.reduce((ne,he)=>he(ne),pe)}}},7849:(zt,rt,P)=>{"use strict";P.d(rt,{h:()=>x});var a=P(2416),k=P(3410);function x(ie){k.z.setTimeout(()=>{const{onUnhandledError:Ie}=a.v;if(!Ie)throw ie;Ie(ie)})}},4532:(zt,rt,P)=>{"use strict";function a(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(rt,{z:()=>a})},863:(zt,rt,P)=>{var a={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7206,9230],"./ion-datetime_3.entry.js":[4959,7206,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function k(x){if(!P.o(a,x))return Promise.resolve().then(()=>{var pe=new Error("Cannot find module '"+x+"'");throw pe.code="MODULE_NOT_FOUND",pe});var ie=a[x],Ie=ie[0];return Promise.all(ie.slice(1).map(P.e)).then(()=>P(Ie))}k.keys=()=>Object.keys(a),k.id=863,zt.exports=k},655:(zt,rt,P)=>{"use strict";function ie(Se,We){var Ge={};for(var fe in Se)Object.prototype.hasOwnProperty.call(Se,fe)&&We.indexOf(fe)<0&&(Ge[fe]=Se[fe]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(fe=Object.getOwnPropertySymbols(Se);me<fe.length;me++)We.indexOf(fe[me])<0&&Object.prototype.propertyIsEnumerable.call(Se,fe[me])&&(Ge[fe[me]]=Se[fe[me]])}return Ge}function Ie(Se,We,Ge,fe){var ze,me=arguments.length,ye=me<3?We:null===fe?fe=Object.getOwnPropertyDescriptor(We,Ge):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ye=Reflect.decorate(Se,We,Ge,fe);else for(var Re=Se.length-1;Re>=0;Re--)(ze=Se[Re])&&(ye=(me<3?ze(ye):me>3?ze(We,Ge,ye):ze(We,Ge))||ye);return me>3&&ye&&Object.defineProperty(We,Ge,ye),ye}function ue(Se,We,Ge,fe){return new(Ge||(Ge=Promise))(function(ye,ze){function Re(Dt){try{Fe(fe.next(Dt))}catch(vt){ze(vt)}}function Ye(Dt){try{Fe(fe.throw(Dt))}catch(vt){ze(vt)}}function Fe(Dt){Dt.done?ye(Dt.value):function me(ye){return ye instanceof Ge?ye:new Ge(function(ze){ze(ye)})}(Dt.value).then(Re,Ye)}Fe((fe=fe.apply(Se,We||[])).next())})}function Ke(Se){return this instanceof Ke?(this.v=Se,this):new Ke(Se)}function je(Se,We,Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,fe=Ge.apply(Se,We||[]),ye=[];return me={},ze("next"),ze("throw"),ze("return"),me[Symbol.asyncIterator]=function(){return this},me;function ze(bt){fe[bt]&&(me[bt]=function(Yt){return new Promise(function(_t,hn){ye.push([bt,Yt,_t,hn])>1||Re(bt,Yt)})})}function Re(bt,Yt){try{!function Ye(bt){bt.value instanceof Ke?Promise.resolve(bt.value.v).then(Fe,Dt):vt(ye[0][2],bt)}(fe[bt](Yt))}catch(_t){vt(ye[0][3],_t)}}function Fe(bt){Re("next",bt)}function Dt(bt){Re("throw",bt)}function vt(bt,Yt){bt(Yt),ye.shift(),ye.length&&Re(ye[0][0],ye[0][1])}}function _e(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,We=Se[Symbol.asyncIterator];return We?We.call(Se):(Se=function ht(Se){var We="function"==typeof Symbol&&Symbol.iterator,Ge=We&&Se[We],fe=0;if(Ge)return Ge.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&fe>=Se.length&&(Se=void 0),{value:Se&&Se[fe++],done:!Se}}};throw new TypeError(We?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),Ge={},fe("next"),fe("throw"),fe("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge);function fe(ye){Ge[ye]=Se[ye]&&function(ze){return new Promise(function(Re,Ye){!function me(ye,ze,Re,Ye){Promise.resolve(Ye).then(function(Fe){ye({value:Fe,done:Re})},ze)}(Re,Ye,(ze=Se[ye](ze)).done,ze.value)})}}}P.d(rt,{FC:()=>je,KL:()=>_e,_T:()=>ie,gn:()=>Ie,mG:()=>ue,qq:()=>Ke})},6895:(zt,rt,P)=>{"use strict";P.d(rt,{Do:()=>ee,EM:()=>Yi,HT:()=>ie,JF:()=>Go,K0:()=>pe,Mx:()=>Xt,O5:()=>Je,PM:()=>es,S$:()=>ht,V_:()=>Te,Ye:()=>Ze,b0:()=>de,bD:()=>Mo,ez:()=>Ao,q:()=>x,sg:()=>Y,tP:()=>Hr,w_:()=>Ie});var a=P(4650);let k=null;function x(){return k}function ie(M){k||(k=M)}class Ie{}const pe=new a.OlP("DocumentToken");let ne=(()=>{class M{historyGo(N){throw new Error("Not implemented")}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275prov=a.Yz7({token:M,factory:function(){return function he(){return(0,a.LFG)(ae)}()},providedIn:"platform"}),M})();const Te=new a.OlP("Location Initialized");let ae=(()=>{class M extends ne{constructor(N){super(),this._doc=N,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(N){const q=x().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",N,!1),()=>q.removeEventListener("popstate",N)}onHashChange(N){const q=x().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",N,!1),()=>q.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,q,be){le()?this._history.pushState(N,q,be):this._location.hash=be}replaceState(N,q,be){le()?this._history.replaceState(N,q,be):this._location.hash=be}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return M.\u0275fac=function(N){return new(N||M)(a.LFG(pe))},M.\u0275prov=a.Yz7({token:M,factory:function(){return function ue(){return new ae((0,a.LFG)(pe))}()},providedIn:"platform"}),M})();function le(){return!!window.history.pushState}function Oe(M,V){if(0==M.length)return V;if(0==V.length)return M;let N=0;return M.endsWith("/")&&N++,V.startsWith("/")&&N++,2==N?M+V.substring(1):1==N?M+V:M+"/"+V}function ke(M){const V=M.match(/#|\?|$/),N=V&&V.index||M.length;return M.slice(0,N-("/"===M[N-1]?1:0))+M.slice(N)}function Xe(M){return M&&"?"!==M[0]?"?"+M:M}let ht=(()=>{class M{historyGo(N){throw new Error("Not implemented")}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275prov=a.Yz7({token:M,factory:function(){return(0,a.f3M)(de)},providedIn:"root"}),M})();const we=new a.OlP("appBaseHref");let de=(()=>{class M extends ht{constructor(N,q){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=q??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return Oe(this._baseHref,N)}path(N=!1){const q=this._platformLocation.pathname+Xe(this._platformLocation.search),be=this._platformLocation.hash;return be&&N?`${q}${be}`:q}pushState(N,q,be,ct){const Mt=this.prepareExternalUrl(be+Xe(ct));this._platformLocation.pushState(N,q,Mt)}replaceState(N,q,be,ct){const Mt=this.prepareExternalUrl(be+Xe(ct));this._platformLocation.replaceState(N,q,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return M.\u0275fac=function(N){return new(N||M)(a.LFG(ne),a.LFG(we,8))},M.\u0275prov=a.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),ee=(()=>{class M extends ht{constructor(N,q){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(N){const q=Oe(this._baseHref,N);return q.length>0?"#"+q:q}pushState(N,q,be,ct){let Mt=this.prepareExternalUrl(be+Xe(ct));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.pushState(N,q,Mt)}replaceState(N,q,be,ct){let Mt=this.prepareExternalUrl(be+Xe(ct));0==Mt.length&&(Mt=this._platformLocation.pathname),this._platformLocation.replaceState(N,q,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return M.\u0275fac=function(N){return new(N||M)(a.LFG(ne),a.LFG(we,8))},M.\u0275prov=a.Yz7({token:M,factory:M.\u0275fac}),M})(),Ze=(()=>{class M{constructor(N){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const q=this._locationStrategy.getBaseHref();this._basePath=function _e(M){if(new RegExp("^(https?:)?//").test(M)){const[,N]=M.split(/\/\/[^\/]+/);return N}return M}(ke(Ve(q))),this._locationStrategy.onPopState(be=>{this._subject.emit({url:this.path(!0),pop:!0,state:be.state,type:be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,q=""){return this.path()==this.normalize(N+Xe(q))}normalize(N){return M.stripTrailingSlash(function je(M,V){if(!M||!V.startsWith(M))return V;const N=V.substring(M.length);return""===N||["/",";","?","#"].includes(N[0])?N:V}(this._basePath,Ve(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,q="",be=null){this._locationStrategy.pushState(be,"",N,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Xe(q)),be)}replaceState(N,q="",be=null){this._locationStrategy.replaceState(be,"",N,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Xe(q)),be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",q){this._urlChangeListeners.forEach(be=>be(N,q))}subscribe(N,q,be){return this._subject.subscribe({next:N,error:q,complete:be})}}return M.normalizeQueryParams=Xe,M.joinWithSlash=Oe,M.stripTrailingSlash=ke,M.\u0275fac=function(N){return new(N||M)(a.LFG(ht))},M.\u0275prov=a.Yz7({token:M,factory:function(){return function Ke(){return new Ze((0,a.LFG)(ht))}()},providedIn:"root"}),M})();function Ve(M){return M.replace(/\/index.html$/,"")}function Xt(M,V){V=encodeURIComponent(V);for(const N of M.split(";")){const q=N.indexOf("="),[be,ct]=-1==q?[N,""]:[N.slice(0,q),N.slice(q+1)];if(be.trim()===V)return decodeURIComponent(ct)}return null}class _r{constructor(V,N,q,be){this.$implicit=V,this.ngForOf=N,this.index=q,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Y=(()=>{class M{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,q,be){this._viewContainer=N,this._template=q,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const q=this._viewContainer;N.forEachOperation((be,ct,Mt)=>{if(null==be.previousIndex)q.createEmbeddedView(this._template,new _r(be.item,this._ngForOf,-1,-1),null===Mt?void 0:Mt);else if(null==Mt)q.remove(null===ct?void 0:ct);else if(null!==ct){const wn=q.get(ct);q.move(wn,Mt),oe(wn,be)}});for(let be=0,ct=q.length;be<ct;be++){const wn=q.get(be).context;wn.index=be,wn.count=ct,wn.ngForOf=this._ngForOf}N.forEachIdentityChange(be=>{oe(q.get(be.currentIndex),be)})}static ngTemplateContextGuard(N,q){return!0}}return M.\u0275fac=function(N){return new(N||M)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},M.\u0275dir=a.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),M})();function oe(M,V){M.context.$implicit=V.item}let Je=(()=>{class M{constructor(N,q){this._viewContainer=N,this._context=new yt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){re("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){re("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,q){return!0}}return M.\u0275fac=function(N){return new(N||M)(a.Y36(a.s_b),a.Y36(a.Rgc))},M.\u0275dir=a.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class yt{constructor(){this.$implicit=null,this.ngIf=null}}function re(M,V){if(V&&!V.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,a.AaK)(V)}'.`)}let Hr=(()=>{class M{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(N){if(N.ngTemplateOutlet||N.ngTemplateOutletInjector){const q=this._viewContainerRef;if(this._viewRef&&q.remove(q.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:be,ngTemplateOutletContext:ct,ngTemplateOutletInjector:Mt}=this;this._viewRef=q.createEmbeddedView(be,ct,Mt?{injector:Mt}:void 0)}else this._viewRef=null}else this._viewRef&&N.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return M.\u0275fac=function(N){return new(N||M)(a.Y36(a.s_b))},M.\u0275dir=a.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),M})(),Ao=(()=>{class M{}return M.\u0275fac=function(N){return new(N||M)},M.\u0275mod=a.oAB({type:M}),M.\u0275inj=a.cJS({}),M})();const Mo="browser",ni="server";function es(M){return M===ni}let Yi=(()=>{class M{}return M.\u0275prov=(0,a.Yz7)({token:M,providedIn:"root",factory:()=>new xo((0,a.LFG)(pe),window)}),M})();class xo{constructor(V,N){this.document=V,this.window=N,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const N=function ji(M,V){const N=M.getElementById(V)||M.getElementsByName(V)[0];if(N)return N;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const q=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let be=q.currentNode;for(;be;){const ct=be.shadowRoot;if(ct){const Mt=ct.getElementById(V)||ct.querySelector(`[name="${V}"]`);if(Mt)return Mt}be=q.nextNode()}}return null}(this.document,V);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(V){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=V)}}scrollToElement(V){const N=V.getBoundingClientRect(),q=N.left+this.window.pageXOffset,be=N.top+this.window.pageYOffset,ct=this.offset();this.window.scrollTo(q-ct[0],be-ct[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const V=Ni(this.window.history)||Ni(Object.getPrototypeOf(this.window.history));return!(!V||!V.writable&&!V.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ni(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class Go{}},4650:(zt,rt,P)=>{"use strict";P.d(rt,{$8M:()=>co,$WT:()=>jr,$Z:()=>sf,AFp:()=>iE,AaK:()=>he,AsE:()=>dg,CHM:()=>F,CRH:()=>F0,CZH:()=>zy,CqO:()=>Sf,D6c:()=>CD,DdM:()=>D0,EJc:()=>VI,EpF:()=>wf,F$t:()=>hc,F4k:()=>Tf,FYo:()=>op,FiY:()=>en,G48:()=>aD,Gf:()=>N0,GfV:()=>Ud,GkF:()=>bf,Gpc:()=>le,Hsn:()=>xf,JOm:()=>$i,KtG:()=>d,LFG:()=>Gt,Lbi:()=>LI,Lck:()=>Ne,MMx:()=>Bn,NdJ:()=>rh,OlP:()=>qr,Oqu:()=>uh,P3R:()=>Lg,PXZ:()=>tD,Q6J:()=>Df,QGY:()=>Cf,Qsj:()=>Wh,R0b:()=>vl,RDi:()=>Rc,Rgc:()=>Cg,SBq:()=>qu,Sil:()=>jI,Suo:()=>k0,TTD:()=>br,TgZ:()=>nh,X6Q:()=>sD,XFs:()=>Lt,Xpm:()=>Yn,Xts:()=>Bh,Y36:()=>pu,YKP:()=>te,YNc:()=>If,Yjl:()=>pi,Yz7:()=>vt,Z0I:()=>hn,ZZ4:()=>r0,_Bn:()=>$,_UZ:()=>Yp,_Vd:()=>Ku,_c5:()=>bD,_uU:()=>cg,aQg:()=>o0,c2e:()=>BI,cJS:()=>Yt,cg1:()=>Uf,dDg:()=>XI,dqk:()=>fn,eFA:()=>yE,eJc:()=>U_,ekj:()=>lg,eoX:()=>fE,f3M:()=>Jt,g9A:()=>sE,h0i:()=>H,hGG:()=>wD,hij:()=>Nf,iGM:()=>P0,ifc:()=>lt,ip1:()=>rE,jDz:()=>Vi,kL8:()=>yh,lG2:()=>Mi,lqb:()=>hu,lri:()=>dE,n5z:()=>fa,oAB:()=>Lr,oxw:()=>Mf,q4F:()=>zg,qLn:()=>$c,qOj:()=>Op,qZA:()=>dc,rWj:()=>hE,s9C:()=>Jp,sBO:()=>lD,s_b:()=>jy,soG:()=>Wy,tb:()=>gE,tp0:()=>cr,uIk:()=>th,vHH:()=>we,vpe:()=>Su,wAp:()=>rr,xp6:()=>Qh,z2F:()=>Ky,zSh:()=>$d,zs3:()=>za});var a=P(7579),k=P(727),x=P(9751),ie=P(6451),Ie=P(3099);function pe(n){for(let r in n)if(n[r]===pe)return r;throw Error("Could not find renamed property on target object.")}function ne(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function he(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(he).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Te(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ae=pe({__forward_ref__:pe});function le(n){return n.__forward_ref__=le,n.toString=function(){return he(this())},n}function ue(n){return Oe(n)?n():n}function Oe(n){return"function"==typeof n&&n.hasOwnProperty(ae)&&n.__forward_ref__===le}function ke(n){return n&&!!n.\u0275providers}const ht="https://g.co/ng/security#xss";class we extends Error{constructor(r,s){super(de(r,s)),this.code=r}}function de(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function ee(n){return"string"==typeof n?n:null==n?"":String(n)}function _e(n,r){throw new we(-201,!1)}function ze(n,r){null==n&&function Re(n,r,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${r} <=Actual]`))}(r,n,null,"!=")}function vt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Yt(n){return{providers:n.providers||[],imports:n.imports||[]}}function _t(n){return In(n,er)||In(n,pn)}function hn(n){return null!==_t(n)}function In(n,r){return n.hasOwnProperty(r)?n[r]:null}function jn(n){return n&&(n.hasOwnProperty(hr)||n.hasOwnProperty(Hn))?n[hr]:null}const er=pe({\u0275prov:pe}),hr=pe({\u0275inj:pe}),pn=pe({ngInjectableDef:pe}),Hn=pe({ngInjectorDef:pe});var Lt=(()=>((Lt=Lt||{})[Lt.Default=0]="Default",Lt[Lt.Host=1]="Host",Lt[Lt.Self=2]="Self",Lt[Lt.SkipSelf=4]="SkipSelf",Lt[Lt.Optional=8]="Optional",Lt))();let Tr;function mr(n){const r=Tr;return Tr=n,r}function $r(n,r,s){const l=_t(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&Lt.Optional?null:void 0!==r?r:void _e(he(n))}const fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ln={},vr="__NG_DI_FLAG__",Ot="ngTempTokenPath",Vr="ngTokenPath",fi=/\n/gm,tr="\u0275",Ur="__source";let $n;function Sn(n){const r=$n;return $n=n,r}function Fr(n,r=Lt.Default){if(void 0===$n)throw new we(-203,!1);return null===$n?$r(n,void 0,r):$n.get(n,r&Lt.Optional?null:void 0,r)}function Gt(n,r=Lt.Default){return(function gr(){return Tr}()||Fr)(ue(n),r)}function Jt(n,r=Lt.Default){return Gt(n,gn(r))}function gn(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Dn(n){const r=[];for(let s=0;s<n.length;s++){const l=ue(n[s]);if(Array.isArray(l)){if(0===l.length)throw new we(900,!1);let c,g=Lt.Default;for(let I=0;I<l.length;I++){const T=l[I],R=ar(T);"number"==typeof R?-1===R?c=T.token:g|=R:c=T}r.push(Gt(c,g))}else r.push(Gt(l))}return r}function bn(n,r){return n[vr]=r,n.prototype[vr]=r,n}function ar(n){return n[vr]}function $e(n){return{toString:n}.toString()}var Et=(()=>((Et=Et||{})[Et.OnPush=0]="OnPush",Et[Et.Default=1]="Default",Et))(),lt=(()=>{return(n=lt||(lt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",lt;var n})();const Zt={},Pe=[],Le=pe({\u0275cmp:pe}),ce=pe({\u0275dir:pe}),st=pe({\u0275pipe:pe}),It=pe({\u0275mod:pe}),Rt=pe({\u0275fac:pe}),Tn=pe({__NG_ELEMENT_ID__:pe});let An=0;function Yn(n){return $e(()=>{const s=!0===n.standalone,l={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Et.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Pe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||lt.Emulated,id:"c"+An++,styles:n.styles||Pe,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},g=n.dependencies,I=n.features;return c.inputs=ir(n.inputs,l),c.outputs=ir(n.outputs),I&&I.forEach(T=>T(c)),c.directiveDefs=g?()=>("function"==typeof g?g():g).map(Qr).filter(vi):null,c.pipeDefs=g?()=>("function"==typeof g?g():g).map(lr).filter(vi):null,c})}function Qr(n){return On(n)||xr(n)}function vi(n){return null!==n}function Lr(n){return $e(()=>({type:n.type,bootstrap:n.bootstrap||Pe,declarations:n.declarations||Pe,imports:n.imports||Pe,exports:n.exports||Pe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ir(n,r){if(null==n)return Zt;const s={};for(const l in n)if(n.hasOwnProperty(l)){let c=n[l],g=c;Array.isArray(c)&&(g=c[1],c=c[0]),s[c]=l,r&&(r[c]=g)}return s}const Mi=Yn;function pi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function On(n){return n[Le]||null}function xr(n){return n[ce]||null}function lr(n){return n[st]||null}function jr(n){const r=On(n)||xr(n)||lr(n);return null!==r&&r.standalone}function Rr(n,r){const s=n[It]||null;if(!s&&!0===r)throw new Error(`Type ${he(n)} does not have '\u0275mod' property.`);return s}const nr=0,Xt=1,Pn=2,fr=3,Sr=4,ei=5,Pr=6,ti=7,_r=8,Y=9,oe=10,Me=11,Je=12,yt=13,re=14,Ue=15,et=16,ft=17,wt=18,jt=19,cn=20,mn=21,Mn=22,qe=1,He=2,ot=7,At=8,Ht=9,sn=10;function ur(n){return Array.isArray(n)&&"object"==typeof n[qe]}function qn(n){return Array.isArray(n)&&!0===n[qe]}function xi(n){return 0!=(4&n.flags)}function Ri(n){return n.componentOffset>-1}function ai(n){return 1==(1&n.flags)}function hi(n){return null!==n.template}function Ws(n){return 0!=(256&n[Pn])}function wi(n,r){return n.hasOwnProperty(Rt)?n[Rt]:null}class es{constructor(r,s,l){this.previousValue=r,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function br(){return gi}function gi(n){return n.type.prototype.ngOnChanges&&(n.setInput=Yi),vo}function vo(){const n=Ni(this),r=n?.current;if(r){const s=n.previous;if(s===Zt)n.previous=r;else for(let l in r)s[l]=r[l];n.current=null,this.ngOnChanges(r)}}function Yi(n,r,s,l){const c=this.declaredInputs[s],g=Ni(n)||function ji(n,r){return n[xo]=r}(n,{previous:Zt,current:null}),I=g.current||(g.current={}),T=g.previous,R=T[c];I[c]=new es(R&&R.currentValue,r,T===Zt),n[l]=r}br.ngInherit=!0;const xo="__ngSimpleChanges__";function Ni(n){return n[xo]||null}const _i=function(n,r,s){};function Jn(n){for(;Array.isArray(n);)n=n[nr];return n}function Eo(n,r){return Jn(r[n])}function Wr(n,r){return Jn(r[n.index])}function zo(n,r){return n.data[r]}function ri(n,r){const s=r[n];return ur(s)?s:s[nr]}function Io(n){return 64==(64&n[Pn])}function Kr(n,r){return null==r?null:n[r]}function ds(n){n[wt]=0}function Do(n,r){n[ei]+=r;let s=n,l=n[fr];for(;null!==l&&(1===r&&1===s[ei]||-1===r&&0===s[ei]);)l[ei]+=r,s=l,l=l[fr]}const Ln={lFrame:_a(null),bindingsEnabled:!0};function lo(){return Ln.bindingsEnabled}function Ft(){return Ln.lFrame.lView}function Zn(){return Ln.lFrame.tView}function F(n){return Ln.lFrame.contextLView=n,n[_r]}function d(n){return Ln.lFrame.contextLView=null,n}function y(){let n=p();for(;null!==n&&64===n.type;)n=n.parent;return n}function p(){return Ln.lFrame.currentTNode}function G(n,r){const s=Ln.lFrame;s.currentTNode=n,s.isParent=r}function at(){return Ln.lFrame.isParent}function Ut(){Ln.lFrame.isParent=!1}function ci(){return Ln.lFrame.bindingIndex++}function Nr(n){const r=Ln.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function oa(n,r){const s=Ln.lFrame;s.bindingIndex=s.bindingRootIndex=n,Ps(r)}function Ps(n){Ln.lFrame.currentDirectiveIndex=n}function Oa(){return Ln.lFrame.currentQueryIndex}function Zi(n){Ln.lFrame.currentQueryIndex=n}function Pa(n){const r=n[Xt];return 2===r.type?r.declTNode:1===r.type?n[Pr]:null}function aa(n,r,s){if(s&Lt.SkipSelf){let c=r,g=n;for(;!(c=c.parent,null!==c||s&Lt.Host||(c=Pa(g),null===c||(g=g[Ue],10&c.type))););if(null===c)return!1;r=c,n=g}const l=Ln.lFrame=Na();return l.currentTNode=r,l.lView=n,!0}function fs(n){const r=Na(),s=n[Xt];Ln.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Na(){const n=Ln.lFrame,r=null===n?null:n.child;return null===r?_a(n):r}function _a(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ea(){const n=Ln.lFrame;return Ln.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Wl=Ea;function la(){const n=Ea();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Bi(){return Ln.lFrame.selectedIndex}function Po(n){Ln.lFrame.selectedIndex=n}function li(){const n=Ln.lFrame;return zo(n.tView,n.selectedIndex)}function ka(n,r){for(let s=r.directiveStart,l=r.directiveEnd;s<l;s++){const g=n.data[s].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:T,ngAfterViewInit:R,ngAfterViewChecked:U,ngOnDestroy:Z}=g;I&&(n.contentHooks||(n.contentHooks=[])).push(-s,I),T&&((n.contentHooks||(n.contentHooks=[])).push(s,T),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,T)),R&&(n.viewHooks||(n.viewHooks=[])).push(-s,R),U&&((n.viewHooks||(n.viewHooks=[])).push(s,U),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,U)),null!=Z&&(n.destroyHooks||(n.destroyHooks=[])).push(s,Z)}}function qs(n,r,s){Za(n,r,3,s)}function ua(n,r,s,l){(3&n[Pn])===s&&Za(n,r,s,l)}function Zs(n,r){let s=n[Pn];(3&s)===r&&(s&=2047,s+=1,n[Pn]=s)}function Za(n,r,s,l){const g=l??-1,I=r.length-1;let T=0;for(let R=void 0!==l?65535&n[wt]:0;R<I;R++)if("number"==typeof r[R+1]){if(T=r[R],null!=l&&T>=l)break}else r[R]<0&&(n[wt]+=65536),(T<g||-1==g)&&(M(n,s,r,R),n[wt]=(4294901760&n[wt])+R+2),R++}function M(n,r,s,l){const c=s[l]<0,g=s[l+1],T=n[c?-s[l]:s[l]];if(c){if(n[Pn]>>11<n[wt]>>16&&(3&n[Pn])===r){n[Pn]+=2048,_i(4,T,g);try{g.call(T)}finally{_i(5,T,g)}}}else{_i(4,T,g);try{g.call(T)}finally{_i(5,T,g)}}}const V=-1;class N{constructor(r,s,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Xn(n,r,s){let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const g=s[l++],I=s[l++],T=s[l++];n.setAttribute(r,I,T,g)}else{const g=c,I=s[++l];Bt(g)?n.setProperty(r,g,I):n.setAttribute(r,g,I),l++}}return l}function ui(n){return 3===n||4===n||6===n}function Bt(n){return 64===n.charCodeAt(0)}function tn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let l=0;l<r.length;l++){const c=r[l];"number"==typeof c?s=c:0===s||Ko(n,s,c,null,-1===s||2===s?r[++l]:null)}}return n}function Ko(n,r,s,l,c){let g=0,I=n.length;if(-1===r)I=-1;else for(;g<n.length;){const T=n[g++];if("number"==typeof T){if(T===r){I=-1;break}if(T>r){I=g-1;break}}}for(;g<n.length;){const T=n[g];if("number"==typeof T)break;if(T===s){if(null===l)return void(null!==c&&(n[g+1]=c));if(l===n[g+1])return void(n[g+2]=c)}g++,null!==l&&g++,null!==c&&g++}-1!==I&&(n.splice(I,0,r),g=I+1),n.splice(g++,0,s),null!==l&&n.splice(g++,0,l),null!==c&&n.splice(g++,0,c)}function qt(n){return n!==V}function pt(n){return 32767&n}function ii(n,r){let s=function Nt(n){return n>>16}(n),l=r;for(;s>0;)l=l[Ue],s--;return l}let ns=!0;function rs(n){const r=ns;return ns=n,r}const El=255,Fs=5;let da=0;const uo={};function ha(n,r){const s=Da(n,r);if(-1!==s)return s;const l=r[Xt];l.firstCreatePass&&(n.injectorIndex=r.length,Fa(l.data,n),Fa(r,null),Fa(l.blueprint,null));const c=Wn(n,r),g=n.injectorIndex;if(qt(c)){const I=pt(c),T=ii(c,r),R=T[Xt].data;for(let U=0;U<8;U++)r[g+U]=T[I+U]|R[I+U]}return r[g+8]=c,g}function Fa(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Da(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Wn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,c=r;for(;null!==c;){if(l=ql(c),null===l)return V;if(s++,c=c[Ue],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return V}function Cs(n,r,s){!function Xa(n,r,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Tn)&&(l=s[Tn]),null==l&&(l=s[Tn]=da++);const c=l&El;r.data[n+(c>>Fs)]|=1<<c}(n,r,s)}function Yr(n,r,s){if(s&Lt.Optional||void 0!==n)return n;_e()}function Nn(n,r,s,l){if(s&Lt.Optional&&void 0===l&&(l=null),!(s&(Lt.Self|Lt.Host))){const c=n[Y],g=mr(void 0);try{return c?c.get(r,l,s&Lt.Optional):$r(r,l,s&Lt.Optional)}finally{mr(g)}}return Yr(l,0,s)}function gs(n,r,s,l=Lt.Default,c){if(null!==n){if(1024&r[Pn]){const I=function Yl(n,r,s,l,c){let g=n,I=r;for(;null!==g&&null!==I&&1024&I[Pn]&&!(256&I[Pn]);){const T=yr(g,I,s,l|Lt.Self,uo);if(T!==uo)return T;let R=g.parent;if(!R){const U=I[mn];if(U){const Z=U.get(s,uo,l);if(Z!==uo)return Z}R=ql(I),I=I[Ue]}g=R}return c}(n,r,s,l,uo);if(I!==uo)return I}const g=yr(n,r,s,l,uo);if(g!==uo)return g}return Nn(r,s,l,c)}function yr(n,r,s,l,c){const g=function La(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Tn)?n[Tn]:void 0;return"number"==typeof r?r>=0?r&El:is:r}(s);if("function"==typeof g){if(!aa(r,n,l))return l&Lt.Host?Yr(c,0,l):Nn(r,s,l,c);try{const I=g(l);if(null!=I||l&Lt.Optional)return I;_e()}finally{Wl()}}else if("number"==typeof g){let I=null,T=Da(n,r),R=V,U=l&Lt.Host?r[et][Pr]:null;for((-1===T||l&Lt.SkipSelf)&&(R=-1===T?Wn(n,r):r[T+8],R!==V&&Ts(l,!1)?(I=r[Xt],T=pt(R),r=ii(R,r)):T=-1);-1!==T;){const Z=r[Xt];if(Ci(g,T,Z.data)){const ve=Au(T,r,s,I,l,U);if(ve!==uo)return ve}R=r[T+8],R!==V&&Ts(l,r[Xt].data[T+8]===U)&&Ci(g,T,r)?(I=Z,T=pt(R),r=ii(R,r)):T=-1}}return c}function Au(n,r,s,l,c,g){const I=r[Xt],T=I.data[n+8],Z=Or(T,I,s,null==l?Ri(T)&&ns:l!=I&&0!=(3&T.type),c&Lt.Host&&g===T);return null!==Z?Qt(r,I,Z,T):uo}function Or(n,r,s,l,c){const g=n.providerIndexes,I=r.data,T=1048575&g,R=n.directiveStart,Z=g>>20,tt=c?T+Z:n.directiveEnd;for(let dt=l?T:T+Z;dt<tt;dt++){const kt=I[dt];if(dt<R&&s===kt||dt>=R&&kt.type===s)return dt}if(c){const dt=I[R];if(dt&&hi(dt)&&dt.type===s)return R}return null}function Qt(n,r,s,l){let c=n[s];const g=r.data;if(function q(n){return n instanceof N}(c)){const I=c;I.resolving&&function Ke(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new we(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Ze(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ee(n)}(g[s]));const T=rs(I.canSeeViewProviders);I.resolving=!0;const R=I.injectImpl?mr(I.injectImpl):null;aa(n,l,Lt.Default);try{c=n[s]=I.factory(void 0,g,n,l),r.firstCreatePass&&s>=l.directiveStart&&function _l(n,r,s){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:g}=r.type.prototype;if(l){const I=gi(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,I),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,I)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),g&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,g))}(s,g[s],r)}finally{null!==R&&mr(R),rs(T),I.resolving=!1,Wl()}}return c}function Ci(n,r,s){return!!(s[r+(n>>Fs)]&1<<n)}function Ts(n,r){return!(n&Lt.Self||n&Lt.Host&&r)}class Ss{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,l){return gs(this._tNode,this._lView,r,gn(l),s)}}function is(){return new Ss(y(),Ft())}function fa(n){return $e(()=>{const r=n.prototype.constructor,s=r[Rt]||pa(r),l=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==l;){const g=c[Rt]||pa(c);if(g&&g!==s)return g;c=Object.getPrototypeOf(c)}return g=>new g})}function pa(n){return Oe(n)?()=>{const r=pa(ue(n));return r&&r()}:wi(n)}function ql(n){const r=n[Xt],s=r.type;return 2===s?r.declTNode:1===s?n[Pr]:null}function co(n){return function Il(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const l=s.length;let c=0;for(;c<l;){const g=s[c];if(ui(g))break;if(0===g)c+=2;else if("number"==typeof g)for(c++;c<l&&"string"==typeof s[c];)c++;else{if(g===r)return s[c+1];c+=2}}}return null}(y(),n)}const Xs="__parameters__";function mt(n,r,s){return $e(()=>{const l=function Ls(n){return function(...s){if(n){const l=n(...s);for(const c in l)this[c]=l[c]}}}(r);function c(...g){if(this instanceof c)return l.apply(this,g),this;const I=new c(...g);return T.annotation=I,T;function T(R,U,Z){const ve=R.hasOwnProperty(Xs)?R[Xs]:Object.defineProperty(R,Xs,{value:[]})[Xs];for(;ve.length<=Z;)ve.push(null);return(ve[Z]=ve[Z]||[]).push(I),R}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class qr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=vt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ko(n,r){n.forEach(s=>Array.isArray(s)?ko(s,r):r(s))}function wa(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function os(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ss(n,r){const s=[];for(let l=0;l<n;l++)s.push(r);return s}function Fo(n,r,s){let l=Gr(n,r);return l>=0?n[1|l]=s:(l=~l,function $a(n,r,s,l){let c=n.length;if(c==r)n.push(s,l);else if(1===c)n.push(l,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=l}}(n,l,r,s)),l}function $s(n,r){const s=Gr(n,r);if(s>=0)return n[1|s]}function Gr(n,r){return function ta(n,r,s){let l=0,c=n.length>>s;for(;c!==l;){const g=l+(c-l>>1),I=n[g<<s];if(r===I)return g<<s;I>r?c=g:l=g+1}return~(c<<s)}(n,r,1)}const en=bn(mt("Optional"),8),cr=bn(mt("SkipSelf"),4);var $i=(()=>(($i=$i||{})[$i.Important=1]="Important",$i[$i.DashCase=2]="DashCase",$i))();const Ru=new Map;let wl=0;const Ou="__ngContext__";function wo(n,r){ur(r)?(n[Ou]=r[cn],function wc(n){Ru.set(n[cn],n)}(r)):n[Ou]=r}let tu;function _d(n,r){return tu(n,r)}function nu(n){const r=n[fr];return qn(r)?r[fr]:r}function Ed(n){return ku(n[yt])}function Id(n){return ku(n[Sr])}function ku(n){for(;null!==n&&!qn(n);)n=n[Sr];return n}function ya(n,r,s,l,c){if(null!=l){let g,I=!1;qn(l)?g=l:ur(l)&&(I=!0,l=l[nr]);const T=Jn(l);0===n&&null!==s?null==c?Ta(r,s,T):na(r,s,T,c||null,!0):1===n&&null!==s?na(r,s,T,c||null,!0):2===n?function xl(n,r,s){const l=Sa(n,r);l&&function ou(n,r,s,l){n.removeChild(r,s,l)}(n,l,r,s)}(r,T,I):3===n&&r.destroyNode(T),null!=g&&function xd(n,r,s,l,c){const g=s[ot];g!==Jn(s)&&ya(r,n,l,g,c);for(let T=sn;T<s.length;T++){const R=s[T];Bo(R[Xt],R,n,r,l,g)}}(r,n,g,s,c)}}function Ac(n,r,s){return n.createElement(r,s)}function Ai(n,r){const s=n[Ht],l=s.indexOf(r),c=r[fr];512&r[Pn]&&(r[Pn]&=-513,Do(c,-1)),s.splice(l,1)}function iu(n,r){if(n.length<=sn)return;const s=sn+r,l=n[s];if(l){const c=l[ft];null!==c&&c!==n&&Ai(c,l),r>0&&(n[s-1][Sr]=l[Sr]);const g=os(n,sn+r);!function Ml(n,r){Bo(n,r,r[Me],2,null,null),r[nr]=null,r[Pr]=null}(l[Xt],l);const I=g[jt];null!==I&&I.detachView(g[Xt]),l[fr]=null,l[Sr]=null,l[Pn]&=-65}return l}function ol(n,r){if(!(128&r[Pn])){const s=r[Me];s.destroyNode&&Bo(n,r,s,3,null,null),function Fu(n){let r=n[yt];if(!r)return xc(n[Xt],n);for(;r;){let s=null;if(ur(r))s=r[yt];else{const l=r[sn];l&&(s=l)}if(!s){for(;r&&!r[Sr]&&r!==n;)ur(r)&&xc(r[Xt],r),r=r[fr];null===r&&(r=n),ur(r)&&xc(r[Xt],r),s=r&&r[Sr]}r=s}}(r)}}function xc(n,r){if(!(128&r[Pn])){r[Pn]&=-65,r[Pn]|=128,function Lu(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const c=r[s[l]];if(!(c instanceof N)){const g=s[l+1];if(Array.isArray(g))for(let I=0;I<g.length;I+=2){const T=c[g[I]],R=g[I+1];_i(4,T,R);try{R.call(T)}finally{_i(5,T,R)}}else{_i(4,c,g);try{g.call(c)}finally{_i(5,c,g)}}}}}(n,r),function Xf(n,r){const s=n.cleanup,l=r[ti];let c=-1;if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const I=s[g+3];I>=0?l[c=I]():l[c=-I].unsubscribe(),g+=2}else{const I=l[c=s[g+1]];s[g].call(I)}if(null!==l){for(let g=c+1;g<l.length;g++)(0,l[g])();r[ti]=null}}(n,r),1===r[Xt].type&&r[Me].destroy();const s=r[ft];if(null!==s&&qn(r[fr])){s!==r[fr]&&Ai(s,r);const l=r[jt];null!==l&&l.detachView(n)}!function Th(n){Ru.delete(n[cn])}(r)}}function Cd(n,r,s){return function Td(n,r,s){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return s[nr];{const{componentOffset:c}=l;if(c>-1){const{encapsulation:g}=n.data[l.directiveStart+c];if(g===lt.None||g===lt.Emulated)return null}return Wr(l,s)}}(n,r.parent,s)}function na(n,r,s,l,c){n.insertBefore(r,s,l,c)}function Ta(n,r,s){n.appendChild(r,s)}function Sd(n,r,s,l,c){null!==l?na(n,r,s,l,c):Ta(n,r,s)}function Sa(n,r){return n.parentNode(r)}function xh(n,r,s){return Br(n,r,s)}let Bu,lu,ra,Br=function ro(n,r,s){return 40&n.type?Wr(n,s):null};function Vs(n,r,s,l){const c=Cd(n,l,r),g=r[Me],T=xh(l.parent||r[Pr],l,r);if(null!=c)if(Array.isArray(s))for(let R=0;R<s.length;R++)Sd(g,c,s[R],T,!1);else Sd(g,c,s,T,!1);void 0!==Bu&&Bu(g,l,r,s,c)}function Vu(n,r){if(null!==r){const s=r.type;if(3&s)return Wr(r,n);if(4&s)return su(-1,n[r.index]);if(8&s){const l=r.child;if(null!==l)return Vu(n,l);{const c=n[r.index];return qn(c)?su(-1,c):Jn(c)}}if(32&s)return _d(r,n)()||Jn(n[r.index]);{const l=ys(n,r);return null!==l?Array.isArray(l)?l[0]:Vu(nu(n[et]),l):Vu(n,r.next)}}return null}function ys(n,r){return null!==r?n[et][Pr].projection[r.projection]:null}function su(n,r){const s=sn+n+1;if(s<r.length){const l=r[s],c=l[Xt].firstChild;if(null!==c)return Vu(l,c)}return r[ot]}function as(n,r,s,l,c,g,I){for(;null!=s;){const T=l[s.index],R=s.type;if(I&&0===r&&(T&&wo(Jn(T),l),s.flags|=2),32!=(32&s.flags))if(8&R)as(n,r,s.child,l,c,g,!1),ya(r,n,c,T,g);else if(32&R){const U=_d(s,l);let Z;for(;Z=U();)ya(r,n,c,Z,g);ya(r,n,c,T,g)}else 16&R?au(n,r,l,s,c,g):ya(r,n,c,T,g);s=I?s.projectionNext:s.next}}function Bo(n,r,s,l,c,g){as(s,l,n.firstChild,r,c,g,!1)}function au(n,r,s,l,c,g){const I=s[et],R=I[Pr].projection[l.projection];if(Array.isArray(R))for(let U=0;U<R.length;U++)ya(r,n,c,R[U],g);else as(n,r,R,I[fr],c,g,!0)}function Od(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Uu(n,r,s){const{mergedAttrs:l,classes:c,styles:g}=s;null!==l&&Xn(n,r,l),null!==c&&Od(n,r,c),null!==g&&function Ir(n,r,s){n.setAttribute(r,"style",s)}(n,r,g)}function Rc(n){lu=n}function Nd(n){return function Rl(){if(void 0===ra&&(ra=null,fn.trustedTypes))try{ra=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ra}()?.createScriptURL(n)||n}class Oc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}function h(n){return n instanceof Oc?n.changingThisBreaksApplicationSecurity:n}function m(n,r){const s=function b(n){return n instanceof Oc&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${ht})`)}return s===r}const Us=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var $o=(()=>(($o=$o||{})[$o.NONE=0]="NONE",$o[$o.HTML=1]="HTML",$o[$o.STYLE=2]="STYLE",$o[$o.SCRIPT=3]="SCRIPT",$o[$o.URL=4]="URL",$o[$o.RESOURCE_URL=5]="RESOURCE_URL",$o))();function kg(n){const r=Fc();return r?r.sanitize($o.URL,n)||"":m(n,"URL")?h(n):function Ol(n){return(n=String(n)).match(Us)?n:"unsafe:"+n}(ee(n))}function Fg(n){const r=Fc();if(r)return Nd(r.sanitize($o.RESOURCE_URL,n)||"");if(m(n,"ResourceURL"))return Nd(h(n));throw new we(904,!1)}function Lg(n,r,s){return function iv(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Fg:kg}(r,s)(n)}function Fc(){const n=Ft();return n&&n[Je]}const Bh=new qr("ENVIRONMENT_INITIALIZER"),Bg=new qr("INJECTOR",-1),$h=new qr("INJECTOR_DEF_TYPES");class qo{get(r,s=ln){if(s===ln){const l=new Error(`NullInjectorError: No provider for ${he(r)}!`);throw l.name="NullInjectorError",l}return s}}function tp(...n){return{\u0275providers:Vh(0,n),\u0275fromNgModule:!0}}function Vh(n,...r){const s=[],l=new Set;let c;return ko(r,g=>{const I=g;Uh(I,s,[],l)&&(c||(c=[]),c.push(I))}),void 0!==c&&Pl(c,s),s}function Pl(n,r){for(let s=0;s<n.length;s++){const{providers:c}=n[s];jh(c,g=>{r.push(g)})}}function Uh(n,r,s,l){if(!(n=ue(n)))return!1;let c=null,g=jn(n);const I=!g&&On(n);if(g||I){if(I&&!I.standalone)return!1;c=n}else{const R=n.ngModule;if(g=jn(R),!g)return!1;c=R}const T=l.has(c);if(I){if(T)return!1;if(l.add(c),I.dependencies){const R="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const U of R)Uh(U,r,s,l)}}else{if(!g)return!1;{if(null!=g.imports&&!T){let U;l.add(c);try{ko(g.imports,Z=>{Uh(Z,r,s,l)&&(U||(U=[]),U.push(Z))})}finally{}void 0!==U&&Pl(U,r)}if(!T){const U=wi(c)||(()=>new c);r.push({provide:c,useFactory:U,deps:Pe},{provide:$h,useValue:c,multi:!0},{provide:Bh,useValue:()=>Gt(c),multi:!0})}const R=g.providers;null==R||T||jh(R,Z=>{r.push(Z)})}}return c!==n&&void 0!==n.providers}function jh(n,r){for(let s of n)ke(s)&&(s=s.\u0275providers),Array.isArray(s)?jh(s,r):r(s)}const Hh=pe({provide:String,useValue:pe});function Nl(n){return null!==n&&"object"==typeof n&&Hh in n}function ja(n){return"function"==typeof n}const $d=new qr("Set Injector scope."),Lc={},Ug={};let Gh;function zh(){return void 0===Gh&&(Gh=new qo),Gh}class hu{}class np extends hu{get destroyed(){return this._destroyed}constructor(r,s,l,c){super(),this.parent=s,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zu(r,I=>this.processProvider(I)),this.records.set(Bg,Gu(void 0,this)),c.has("environment")&&this.records.set(hu,Gu(void 0,this));const g=this.records.get($d);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get($h.multi,Pe,Lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Sn(this),l=mr(void 0);try{return r()}finally{Sn(s),mr(l)}}get(r,s=ln,l=Lt.Default){this.assertNotDestroyed(),l=gn(l);const c=Sn(this),g=mr(void 0);try{if(!(l&Lt.SkipSelf)){let T=this.records.get(r);if(void 0===T){const R=function lv(n){return"function"==typeof n||"object"==typeof n&&n instanceof qr}(r)&&_t(r);T=R&&this.injectableDefInScope(R)?Gu(Bc(r),Lc):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(l&Lt.Self?zh():this.parent).get(r,s=l&Lt.Optional&&s===ln?null:s)}catch(I){if("NullInjectorError"===I.name){if((I[Ot]=I[Ot]||[]).unshift(he(r)),c)throw I;return function Ae(n,r,s,l){const c=n[Ot];throw r[Ur]&&c.unshift(r[Ur]),n.message=function ge(n,r,s,l=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==tr?n.slice(2):n;let c=he(r);if(Array.isArray(r))c=r.map(he).join(" -> ");else if("object"==typeof r){let g=[];for(let I in r)if(r.hasOwnProperty(I)){let T=r[I];g.push(I+":"+("string"==typeof T?JSON.stringify(T):he(T)))}c=`{${g.join(", ")}}`}return`${s}${l?"("+l+")":""}[${c}]: ${n.replace(fi,"\n  ")}`}("\n"+n.message,c,s,l),n[Vr]=c,n[Ot]=null,n}(I,r,"R3InjectorError",this.source)}throw I}finally{mr(g),Sn(c)}}resolveInjectorInitializers(){const r=Sn(this),s=mr(void 0);try{const l=this.get(Bh.multi,Pe,Lt.Self);for(const c of l)c()}finally{Sn(r),mr(s)}}toString(){const r=[],s=this.records;for(const l of s.keys())r.push(he(l));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(r){let s=ja(r=ue(r))?r:ue(r&&r.provide);const l=function Hu(n){return Nl(n)?Gu(void 0,n.useValue):Gu(jg(n),Lc)}(r);if(ja(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Gu(void 0,Lc,!0),c.factory=()=>Dn(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,l)}hydrate(r,s){return s.value===Lc&&(s.value=Ug,s.value=s.factory()),"object"==typeof s.value&&s.value&&function av(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ue(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Bc(n){const r=_t(n),s=null!==r?r.factory:wi(n);if(null!==s)return s;if(n instanceof qr)throw new we(204,!1);if(n instanceof Function)return function Vd(n){const r=n.length;if(r>0)throw ss(r,"?"),new we(204,!1);const s=function Cn(n){const r=n&&(n[er]||n[pn]);return r?(function Kt(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),r):null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new we(204,!1)}function jg(n,r,s){let l;if(ja(n)){const c=ue(n);return wi(c)||Bc(c)}if(Nl(n))l=()=>ue(n.useValue);else if(function du(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...Dn(n.deps||[]));else if(function cu(n){return!(!n||!n.useExisting)}(n))l=()=>Gt(ue(n.useExisting));else{const c=ue(n&&(n.useClass||n.provide));if(!function sv(n){return!!n.deps}(n))return wi(c)||Bc(c);l=()=>new c(...Dn(n.deps))}return l}function Gu(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function zu(n,r){for(const s of n)Array.isArray(s)?zu(s,r):s&&ke(s)?zu(s.\u0275providers,r):r(s)}class Wu{}class kl{}class cv{resolveComponentFactory(r){throw function Hg(n){const r=Error(`No component factory found for ${he(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Ku=(()=>{class n{}return n.NULL=new cv,n})();function rp(){return Yu(y(),Ft())}function Yu(n,r){return new qu(Wr(n,r))}let qu=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=rp,n})();function ip(n){return n instanceof qu?n.nativeElement:n}class op{}let Wh=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function dv(){const n=Ft(),s=ri(y().index,n);return(ur(s)?s:n)[Me]}(),n})(),sp=(()=>{class n{}return n.\u0275prov=vt({token:n,providedIn:"root",factory:()=>null}),n})();class Ud{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const zg=new Ud("15.2.2"),Kh={},Zu="ngOriginalError";function Xu(n){return n[Zu]}class $c{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Xu(r);for(;s&&Xu(s);)s=Xu(s);return s||null}}function dl(n){return n instanceof Function?n():n}function qg(n,r,s){let l=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const g=r.length;if(c+g===l||n.charCodeAt(c+g)<=32)return c}s=c+1}}const Zg="ng-template";function gv(n,r,s){let l=0;for(;l<n.length;){let c=n[l++];if(s&&"class"===c){if(c=n[l],-1!==qg(c.toLowerCase(),r,0))return!0}else if(1===c){for(;l<n.length&&"string"==typeof(c=n[l++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function Xg(n){return 4===n.type&&n.value!==Zg}function Xh(n,r,s){return r===(4!==n.type||s?n.value:Zg)}function Qg(n,r,s){let l=4;const c=n.attrs||[],g=function Ju(n){for(let r=0;r<n.length;r++)if(ui(n[r]))return r;return n.length}(c);let I=!1;for(let T=0;T<r.length;T++){const R=r[T];if("number"!=typeof R){if(!I)if(4&l){if(l=2|1&l,""!==R&&!Xh(n,R,s)||""===R&&1===r.length){if(Ga(l))return!1;I=!0}}else{const U=8&l?R:r[++T];if(8&l&&null!==n.attrs){if(!gv(n.attrs,U,s)){if(Ga(l))return!1;I=!0}continue}const ve=Jg(8&l?"class":R,c,Xg(n),s);if(-1===ve){if(Ga(l))return!1;I=!0;continue}if(""!==U){let tt;tt=ve>g?"":c[ve+1].toLowerCase();const dt=8&l?tt:null;if(dt&&-1!==qg(dt,U,0)||2&l&&U!==tt){if(Ga(l))return!1;I=!0}}}}else{if(!I&&!Ga(l)&&!Ga(R))return!1;if(I&&Ga(R))continue;I=!1,l=R|1&l}}return Ga(l)||I}function Ga(n){return 0==(1&n)}function Jg(n,r,s,l){if(null===r)return-1;let c=0;if(l||!s){let g=!1;for(;c<r.length;){const I=r[c];if(I===n)return c;if(3===I||6===I)g=!0;else{if(1===I||2===I){let T=r[++c];for(;"string"==typeof T;)T=r[++c];continue}if(4===I)break;if(0===I){c+=4;continue}}c+=g?1:2}return-1}return function Hd(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===r)return s;s++}return-1}(r,n)}function em(n,r,s=!1){for(let l=0;l<r.length;l++)if(Qg(n,r[l],s))return!0;return!1}function nm(n,r){e:for(let s=0;s<r.length;s++){const l=r[s];if(n.length===l.length){for(let c=0;c<n.length;c++)if(n[c]!==l[c])continue e;return!0}}return!1}function ap(n,r){return n?":not("+r.trim()+")":r}function mv(n){let r=n[0],s=1,l=2,c="",g=!1;for(;s<n.length;){let I=n[s];if("string"==typeof I)if(2&l){const T=n[++s];c+="["+I+(T.length>0?'="'+T+'"':"")+"]"}else 8&l?c+="."+I:4&l&&(c+=" "+I);else""!==c&&!Ga(I)&&(r+=ap(g,c),c=""),l=I,g=g||!Ga(l);s++}return""!==c&&(r+=ap(g,c)),r}const Dr={};function Qh(n){Zo(Zn(),Ft(),Bi()+n,!1)}function Zo(n,r,s,l){if(!l)if(3==(3&r[Pn])){const g=n.preOrderCheckHooks;null!==g&&qs(r,g,s)}else{const g=n.preOrderHooks;null!==g&&ua(r,g,0,s)}Po(s)}function ef(n,r=null,s=null,l){const c=tf(n,r,s,l);return c.resolveInjectorInitializers(),c}function tf(n,r=null,s=null,l,c=new Set){const g=[s||Pe,tp(n)];return l=l||("object"==typeof n?void 0:he(n)),new np(g,r||zh(),l||null,c)}let za=(()=>{class n{static create(s,l){if(Array.isArray(s))return ef({name:""},l,s,"");{const c=s.name??"";return ef({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=ln,n.NULL=new qo,n.\u0275prov=vt({token:n,providedIn:"any",factory:()=>Gt(Bg)}),n.__NG_ELEMENT_ID__=-1,n})();function pu(n,r=Lt.Default){const s=Ft();return null===s?Gt(n,r):gs(y(),s,ue(n),r)}function sf(){throw new Error("invalid")}function mm(n,r){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const g=s[l+1];if(-1!==g){const I=n.data[g];Zi(s[l]),I.contentQueries(2,r[g],g)}}}function af(n,r,s,l,c,g,I,T,R,U,Z){const ve=r.blueprint.slice();return ve[nr]=c,ve[Pn]=76|l,(null!==Z||n&&1024&n[Pn])&&(ve[Pn]|=1024),ds(ve),ve[fr]=ve[Ue]=n,ve[_r]=s,ve[oe]=I||n&&n[oe],ve[Me]=T||n&&n[Me],ve[Je]=R||n&&n[Je]||null,ve[Y]=U||n&&n[Y]||null,ve[Pr]=g,ve[cn]=function Cl(){return wl++}(),ve[mn]=Z,ve[et]=2==r.type?n[et]:ve,ve}function Vc(n,r,s,l,c){let g=n.data[r];if(null===g)g=function lf(n,r,s,l,c){const g=p(),I=at(),R=n.data[r]=function _p(n,r,s,l,c,g){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?g:g&&g.parent,s,r,l,c);return null===n.firstChild&&(n.firstChild=R),null!==g&&(I?null==g.child&&null!==R.parent&&(g.child=R):null===g.next&&(g.next=R,R.prev=g)),R}(n,r,s,l,c),function ws(){return Ln.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=l,g.attrs=c;const I=function S(){const n=Ln.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();g.injectorIndex=null===I?-1:I.injectorIndex}return G(g,!0),g}function gu(n,r,s,l){if(0===s)return-1;const c=r.length;for(let g=0;g<s;g++)r.push(l),n.blueprint.push(l),n.data.push(null);return c}function rc(n,r,s){fs(r);try{const l=n.viewQuery;null!==l&&mu(1,l,s);const c=n.template;null!==c&&gp(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&mm(n,r),n.staticViewQueries&&mu(2,n.viewQuery,s);const g=n.components;null!==g&&function Av(n,r){for(let s=0;s<r.length;s++)Bv(n,r[s])}(r,g)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{r[Pn]&=-5,la()}}function Uc(n,r,s,l){const c=r[Pn];if(128!=(128&c)){fs(r);try{ds(r),function Ei(n){return Ln.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&gp(n,r,s,2,l);const I=3==(3&c);if(I){const U=n.preOrderCheckHooks;null!==U&&qs(r,U,null)}else{const U=n.preOrderHooks;null!==U&&ua(r,U,0,null),Zs(r,0)}if(function Sp(n){for(let r=Ed(n);null!==r;r=Id(r)){if(!r[He])continue;const s=r[Ht];for(let l=0;l<s.length;l++){const c=s[l];512&c[Pn]||Do(c[fr],1),c[Pn]|=512}}}(r),function Fv(n){for(let r=Ed(n);null!==r;r=Id(r))for(let s=sn;s<r.length;s++){const l=r[s],c=l[Xt];Io(l)&&Uc(c,l,c.template,l[_r])}}(r),null!==n.contentQueries&&mm(n,r),I){const U=n.contentCheckHooks;null!==U&&qs(r,U)}else{const U=n.contentHooks;null!==U&&ua(r,U,1),Zs(r,1)}!function gm(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const c=s[l];if(c<0)Po(~c);else{const g=c,I=s[++l],T=s[++l];oa(I,g),T(2,r[g])}}}finally{Po(-1)}}(n,r);const T=n.components;null!==T&&function ym(n,r){for(let s=0;s<r.length;s++)Lv(n,r[s])}(r,T);const R=n.viewQuery;if(null!==R&&mu(2,R,l),I){const U=n.viewCheckHooks;null!==U&&qs(r,U)}else{const U=n.viewHooks;null!==U&&ua(r,U,2),Zs(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Pn]&=-41,512&r[Pn]&&(r[Pn]&=-513,Do(r[fr],-1))}finally{la()}}}function gp(n,r,s,l,c){const g=Bi(),I=2&l;try{Po(-1),I&&r.length>Mn&&Zo(n,r,Mn,!1),_i(I?2:0,c),s(l,c)}finally{Po(g),_i(I?3:1,c)}}function mp(n,r,s){if(xi(r)){const c=r.directiveEnd;for(let g=r.directiveStart;g<c;g++){const I=n.data[g];I.contentQueries&&I.contentQueries(1,s[g],g)}}}function yp(n,r,s){lo()&&(function Ov(n,r,s,l){const c=s.directiveStart,g=s.directiveEnd;Ri(s)&&function Nv(n,r,s){const l=Wr(r,n),c=vm(s),g=n[oe],I=Xd(n,af(n,c,null,s.onPush?32:16,l,r,g,g.createRenderer(l,s),null,null,null));n[r.index]=I}(r,s,n.data[c+s.componentOffset]),n.firstCreatePass||ha(s,r),wo(l,r);const I=s.initialInputs;for(let T=c;T<g;T++){const R=n.data[T],U=Qt(r,n,T,s);wo(U,r),null!==I&&Im(0,T-c,U,R,0,I),hi(R)&&(ri(s.index,r)[_r]=Qt(r,n,T,s))}}(n,r,s,Wr(s,r)),64==(64&s.flags)&&df(n,r,s))}function vp(n,r,s=Wr){const l=r.localNames;if(null!==l){let c=r.index+1;for(let g=0;g<l.length;g+=2){const I=l[g+1],T=-1===I?s(r,n):n[I];n[c++]=T}}}function vm(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Yd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Yd(n,r,s,l,c,g,I,T,R,U){const Z=Mn+l,ve=Z+c,tt=function Mv(n,r){const s=[];for(let l=0;l<r;l++)s.push(l<n?null:Dr);return s}(Z,ve),dt="function"==typeof U?U():U;return tt[Xt]={type:n,blueprint:tt,template:s,queries:null,viewQuery:T,declTNode:r,data:tt.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:R,consts:dt,incompleteFirstPass:!1}}function jc(n,r,s,l){const c=pf(r);null===s?c.push(l):(c.push(s),n.firstCreatePass&&sc(n).push(l,c.length-1))}function ic(n,r,s,l){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const g=n[c];null===l?uf(s,r,c,g):l.hasOwnProperty(c)&&uf(s,r,l[c],g)}return s}function uf(n,r,s,l){n.hasOwnProperty(s)?n[s].push(r,l):n[s]=[r,l]}function js(n,r,s,l,c,g,I,T){const R=Wr(r,s);let Z,U=r.inputs;!T&&null!=U&&(Z=U[l])?(yu(n,s,Z,l,c),Ri(r)&&Ep(s,r.index)):3&r.type&&(l=function qd(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),c=null!=I?I(c,r.value||"",l):c,g.setProperty(R,l,c))}function Ep(n,r){const s=ri(r,n);16&s[Pn]||(s[Pn]|=32)}function Wa(n,r,s,l){if(lo()){const c=null===l?null:{"":-1},g=function wp(n,r){const s=n.directiveRegistry;let l=null,c=null;if(s)for(let g=0;g<s.length;g++){const I=s[g];if(em(r,I.selectors,!1))if(l||(l=[]),hi(I))if(null!==I.findHostDirectiveDefs){const T=[];c=c||new Map,I.findHostDirectiveDefs(I,T,c),l.unshift(...T,I),Hc(n,r,T.length)}else l.unshift(I),Hc(n,r,0);else c=c||new Map,I.findHostDirectiveDefs?.(I,l,c),l.push(I)}return null===l?null:[l,c]}(n,s);let I,T;null===g?I=T=null:[I,T]=g,null!==I&&Dp(n,r,s,I,c,T),c&&function Cp(n,r,s){if(r){const l=n.localNames=[];for(let c=0;c<r.length;c+=2){const g=s[r[c+1]];if(null==g)throw new we(-301,!1);l.push(r[c],g)}}}(s,l,c)}s.mergedAttrs=tn(s.mergedAttrs,s.attrs)}function Dp(n,r,s,l,c,g){for(let U=0;U<l.length;U++)Cs(ha(s,r),n,l[U].type);!function Gc(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,l.length);for(let U=0;U<l.length;U++){const Z=l[U];Z.providersResolver&&Z.providersResolver(Z)}let I=!1,T=!1,R=gu(n,r,l.length,null);for(let U=0;U<l.length;U++){const Z=l[U];s.mergedAttrs=tn(s.mergedAttrs,Z.hostAttrs),Tp(n,s,r,R,Z),Em(R,Z,c),null!==Z.contentQueries&&(s.flags|=4),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(s.flags|=64);const ve=Z.type.prototype;!I&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),I=!0),!T&&(ve.ngOnChanges||ve.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),T=!0),R++}!function cf(n,r,s){const c=r.directiveEnd,g=n.data,I=r.attrs,T=[];let R=null,U=null;for(let Z=r.directiveStart;Z<c;Z++){const ve=g[Z],tt=s?s.get(ve):null,kt=tt?tt.outputs:null;R=ic(ve.inputs,Z,R,tt?tt.inputs:null),U=ic(ve.outputs,Z,U,kt);const nn=null===R||null===I||Xg(r)?null:kv(R,Z,I);T.push(nn)}null!==R&&(R.hasOwnProperty("class")&&(r.flags|=8),R.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=T,r.inputs=R,r.outputs=U}(n,s,g)}function df(n,r,s){const l=s.directiveStart,c=s.directiveEnd,g=s.index,I=function sa(){return Ln.lFrame.currentDirectiveIndex}();try{Po(g);for(let T=l;T<c;T++){const R=n.data[T],U=r[T];Ps(T),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Pv(R,U)}}finally{Po(-1),Ps(I)}}function Pv(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Hc(n,r,s){r.componentOffset=s,(n.components||(n.components=[])).push(r.index)}function Em(n,r,s){if(s){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)s[r.exportAs[l]]=n;hi(r)&&(s[""]=n)}}function Tp(n,r,s,l,c){n.data[l]=c;const g=c.factory||(c.factory=wi(c.type)),I=new N(g,hi(c),pu);n.blueprint[l]=I,s[l]=I,function Rv(n,r,s,l,c){const g=c.hostBindings;if(g){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const T=~r.index;(function bp(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=T&&I.push(T),I.push(s,l,g)}}(n,r,l,gu(n,s,c.hostVars,Dr),c)}function hl(n,r,s,l,c,g){const I=Wr(n,r);!function hf(n,r,s,l,c,g,I){if(null==g)n.removeAttribute(r,c,s);else{const T=null==I?ee(g):I(g,l||"",c);n.setAttribute(r,c,T,s)}}(r[Me],I,g,n.value,s,l,c)}function Im(n,r,s,l,c,g){const I=g[r];if(null!==I){const T=l.setInput;for(let R=0;R<I.length;){const U=I[R++],Z=I[R++],ve=I[R++];null!==T?l.setInput(s,ve,U,Z):s[Z]=ve}}}function kv(n,r,s){let l=null,c=0;for(;c<s.length;){const g=s[c];if(0!==g)if(5!==g){if("number"==typeof g)break;if(n.hasOwnProperty(g)){null===l&&(l=[]);const I=n[g];for(let T=0;T<I.length;T+=2)if(I[T]===r){l.push(g,I[T+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return l}function ff(n,r,s,l){return[n,!0,!1,r,null,0,l,s,null,null]}function Lv(n,r){const s=ri(r,n);if(Io(s)){const l=s[Xt];48&s[Pn]?Uc(l,s,l.template,s[_r]):s[ei]>0&&Zd(s)}}function Zd(n){for(let l=Ed(n);null!==l;l=Id(l))for(let c=sn;c<l.length;c++){const g=l[c];if(Io(g))if(512&g[Pn]){const I=g[Xt];Uc(I,g,I.template,g[_r])}else g[ei]>0&&Zd(g)}const s=n[Xt].components;if(null!==s)for(let l=0;l<s.length;l++){const c=ri(s[l],n);Io(c)&&c[ei]>0&&Zd(c)}}function Bv(n,r){const s=ri(r,n),l=s[Xt];(function Ap(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(l,s),rc(l,s,s[_r])}function Xd(n,r){return n[yt]?n[re][Sr]=r:n[yt]=r,n[re]=r,r}function Qd(n){for(;n;){n[Pn]|=32;const r=nu(n);if(Ws(n)&&!r)return n;n=r}return null}function zc(n,r,s,l=!0){const c=r[oe];c.begin&&c.begin();try{Uc(n,r,n.template,s)}catch(I){throw l&&Mp(r,I),I}finally{c.end&&c.end()}}function mu(n,r,s){Zi(0),r(n,s)}function pf(n){return n[ti]||(n[ti]=[])}function sc(n){return n.cleanup||(n.cleanup=[])}function Mp(n,r){const s=n[Y],l=s?s.get($c,null):null;l&&l.handleError(r)}function yu(n,r,s,l,c){for(let g=0;g<s.length;){const I=s[g++],T=s[g++],R=r[I],U=n.data[I];null!==U.setInput?U.setInput(R,c,l,T):R[T]=c}}function Bl(n,r,s){const l=Eo(r,n);!function Dd(n,r,s){n.setValue(r,s)}(n[Me],l,s)}function gf(n,r,s){let l=s?n.styles:null,c=s?n.classes:null,g=0;if(null!==r)for(let I=0;I<r.length;I++){const T=r[I];"number"==typeof T?g=T:1==g?c=Te(c,T):2==g&&(l=Te(l,T+": "+r[++I]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=c:n.classesWithoutHost=c}function Wc(n,r,s,l,c=!1){for(;null!==s;){const g=r[s.index];if(null!==g&&l.push(Jn(g)),qn(g))for(let T=sn;T<g.length;T++){const R=g[T],U=R[Xt].firstChild;null!==U&&Wc(R[Xt],R,U,l)}const I=s.type;if(8&I)Wc(n,r,s.child,l);else if(32&I){const T=_d(s,r);let R;for(;R=T();)l.push(R)}else if(16&I){const T=ys(r,s);if(Array.isArray(T))l.push(...T);else{const R=nu(r[et]);Wc(R[Xt],R,T,l,!0)}}s=c?s.projectionNext:s.next}return l}class lc{get rootNodes(){const r=this._lView,s=r[Xt];return Wc(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_r]}set context(r){this._lView[_r]=r}get destroyed(){return 128==(128&this._lView[Pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[fr];if(qn(r)){const s=r[At],l=s?s.indexOf(this):-1;l>-1&&(iu(r,l),os(s,l))}this._attachedToViewContainer=!1}ol(this._lView[Xt],this._lView)}onDestroy(r){jc(this._lView[Xt],this._lView,null,r)}markForCheck(){Qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pn]&=-65}reattach(){this._lView[Pn]|=64}detectChanges(){zc(this._lView[Xt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mh(n,r){Bo(n,r,r[Me],2,null,null)}(this._lView[Xt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=r}}class xp extends lc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;zc(r[Xt],r,r[_r],!1)}checkNoChanges(){}get context(){return null}}class mf extends Ku{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=On(r);return new uc(s,this.ngModule)}}function bm(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Rp{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,l){l=gn(l);const c=this.injector.get(r,Kh,l);return c!==Kh||s===Kh?c:this.parentInjector.get(r,s,l)}}class uc extends kl{get inputs(){return bm(this.componentDef.inputs)}get outputs(){return bm(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function rm(n){return n.map(mv).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,l,c){let g=(c=c||this.ngModule)instanceof hu?c:c?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const I=g?new Rp(r,g):r,T=I.get(op,null);if(null===T)throw new we(407,!1);const R=I.get(sp,null),U=T.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",ve=l?function xv(n,r,s){return n.selectRootElement(r,s===lt.ShadowDom)}(U,l,this.componentDef.encapsulation):Ac(U,Z,function $v(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Z)),tt=this.componentDef.onPush?288:272,dt=Yd(0,null,null,1,0,null,null,null,null,null),kt=af(null,dt,null,tt,null,null,T,U,R,I,null);let nn,En;fs(kt);try{const Fn=this.componentDef;let dr,Wt=null;Fn.findHostDirectiveDefs?(dr=[],Wt=new Map,Fn.findHostDirectiveDefs(Fn,dr,Wt),dr.push(Fn)):dr=[Fn];const Cr=function jv(n,r){const s=n[Xt],l=Mn;return n[l]=r,Vc(s,l,2,"#host",null)}(kt,ve),go=function wm(n,r,s,l,c,g,I,T){const R=c[Xt];!function Cm(n,r,s,l){for(const c of n)r.mergedAttrs=tn(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(gf(r,r.mergedAttrs,!0),null!==s&&Uu(l,s,r))}(l,n,r,I);const U=g.createRenderer(r,s),Z=af(c,vm(s),null,s.onPush?32:16,c[n.index],n,g,U,T||null,null,null);return R.firstCreatePass&&Hc(R,n,l.length-1),Xd(c,Z),c[n.index]=Z}(Cr,ve,Fn,dr,kt,T,U);En=zo(dt,Mn),ve&&function Sm(n,r,s,l){if(l)Xn(n,s,["ng-version",zg.full]);else{const{attrs:c,classes:g}=function yv(n){const r=[],s=[];let l=1,c=2;for(;l<n.length;){let g=n[l];if("string"==typeof g)2===c?""!==g&&r.push(g,n[++l]):8===c&&s.push(g);else{if(!Ga(c))break;c=g}l++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Xn(n,s,c),g&&g.length>0&&Od(n,s,g.join(" "))}}(U,Fn,ve,l),void 0!==s&&function Hv(n,r,s){const l=n.projection=[];for(let c=0;c<r.length;c++){const g=s[c];l.push(null!=g?Array.from(g):null)}}(En,this.ngContentSelectors,s),nn=function Tm(n,r,s,l,c,g){const I=y(),T=c[Xt],R=Wr(I,c);Dp(T,c,I,s,null,l);for(let Z=0;Z<s.length;Z++)wo(Qt(c,T,I.directiveStart+Z,I),c);df(T,c,I),R&&wo(R,c);const U=Qt(c,T,I.directiveStart+I.componentOffset,I);if(n[_r]=c[_r]=U,null!==g)for(const Z of g)Z(U,r);return mp(T,I,n),U}(go,Fn,dr,Wt,kt,[Gv]),rc(dt,kt,null)}finally{la()}return new Vv(this.componentType,nn,Yu(En,kt),kt,En)}}class Vv extends Wu{constructor(r,s,l,c,g){super(),this.location=l,this._rootLView=c,this._tNode=g,this.instance=s,this.hostView=this.changeDetectorRef=new xp(c),this.componentType=r}setInput(r,s){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[r])){const g=this._rootLView;yu(g[Xt],g,c,r,s),Ep(g,this._tNode.index)}}get injector(){return new Ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Gv(){const n=y();ka(Ft()[Xt],n)}function Op(n){let r=function Am(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;r;){let c;if(hi(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new we(903,!1);c=r.\u0275dir}if(c){if(s){l.push(c);const I=n;I.inputs=Jd(n.inputs),I.declaredInputs=Jd(n.declaredInputs),I.outputs=Jd(n.outputs);const T=c.hostBindings;T&&kp(n,T);const R=c.viewQuery,U=c.contentQueries;if(R&&Np(n,R),U&&zv(n,U),ne(n.inputs,c.inputs),ne(n.declaredInputs,c.declaredInputs),ne(n.outputs,c.outputs),hi(c)&&c.data.animation){const Z=n.data;Z.animation=(Z.animation||[]).concat(c.data.animation)}}const g=c.features;if(g)for(let I=0;I<g.length;I++){const T=g[I];T&&T.ngInherit&&T(n),T===Op&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Pp(n){let r=0,s=null;for(let l=n.length-1;l>=0;l--){const c=n[l];c.hostVars=r+=c.hostVars,c.hostAttrs=tn(c.hostAttrs,s=tn(s,c.hostAttrs))}}(l)}function Jd(n){return n===Zt?{}:n===Pe?[]:n}function Np(n,r){const s=n.viewQuery;n.viewQuery=s?(l,c)=>{r(l,c),s(l,c)}:r}function zv(n,r){const s=n.contentQueries;n.contentQueries=s?(l,c,g)=>{r(l,c,g),s(l,c,g)}:r}function kp(n,r){const s=n.hostBindings;n.hostBindings=s?(l,c)=>{r(l,c),s(l,c)}:r}function Kc(n){return!!eh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function eh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function us(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function th(n,r,s,l){const c=Ft();return us(c,ci(),r)&&(Zn(),hl(li(),c,n,r,s,l)),th}function vu(n,r,s,l){return us(n,ci(),s)?r+ee(s)+l:Dr}function Xc(n,r,s,l,c,g){const T=function cc(n,r,s,l){const c=us(n,r,s);return us(n,r+1,l)||c}(n,function pr(){return Ln.lFrame.bindingIndex}(),s,c);return Nr(2),T?r+ee(s)+l+ee(c)+g:Dr}function If(n,r,s,l,c,g,I,T){const R=Ft(),U=Zn(),Z=n+Mn,ve=U.firstCreatePass?function zp(n,r,s,l,c,g,I,T,R){const U=r.consts,Z=Vc(r,n,4,I||null,Kr(U,T));Wa(r,s,Z,Kr(U,R)),ka(r,Z);const ve=Z.tView=Yd(2,Z,l,c,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U);return null!==r.queries&&(r.queries.template(r,Z),ve.queries=r.queries.embeddedTView(Z)),Z}(Z,U,R,r,s,l,c,g,I):U.data[Z];G(ve,!1);const tt=R[Me].createComment("");Vs(U,R,tt,ve),wo(tt,R),Xd(R,R[Z]=ff(tt,R,tt,ve)),ai(ve)&&yp(U,R,ve),null!=I&&vp(R,ve,T)}function Df(n,r,s){const l=Ft();return us(l,ci(),r)&&js(Zn(),li(),l,n,r,l[Me],s,!1),Df}function Wp(n,r,s,l,c){const I=c?"class":"style";yu(n,s,r.inputs[I],I,l)}function nh(n,r,s,l){const c=Ft(),g=Zn(),I=Mn+n,T=c[Me],R=g.firstCreatePass?function Kp(n,r,s,l,c,g){const I=r.consts,R=Vc(r,n,2,l,Kr(I,c));return Wa(r,s,R,Kr(I,g)),null!==R.attrs&&gf(R,R.attrs,!1),null!==R.mergedAttrs&&gf(R,R.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,R),R}(I,g,c,r,s,l):g.data[I],U=c[I]=Ac(T,r,function mi(){return Ln.lFrame.currentNamespace}()),Z=ai(R);return G(R,!0),Uu(T,U,R),32!=(32&R.flags)&&Vs(g,c,U,R),0===function bs(){return Ln.lFrame.elementDepthCount}()&&wo(U,c),function ts(){Ln.lFrame.elementDepthCount++}(),Z&&(yp(g,c,R),mp(g,R,c)),null!==l&&vp(c,R),nh}function dc(){let n=y();at()?Ut():(n=n.parent,G(n,!1));const r=n;!function Wo(){Ln.lFrame.elementDepthCount--}();const s=Zn();return s.firstCreatePass&&(ka(s,n),xi(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function wn(n){return 0!=(8&n.flags)}(r)&&Wp(s,r,Ft(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Er(n){return 0!=(16&n.flags)}(r)&&Wp(s,r,Ft(),r.stylesWithoutHost,!1),dc}function Yp(n,r,s,l){return nh(n,r,s,l),dc(),Yp}function qp(n,r,s){const l=Ft(),c=Zn(),g=n+Mn,I=c.firstCreatePass?function qv(n,r,s,l,c){const g=r.consts,I=Kr(g,l),T=Vc(r,n,8,"ng-container",I);return null!==I&&gf(T,I,!0),Wa(r,s,T,Kr(g,c)),null!==r.queries&&r.queries.elementStart(r,T),T}(g,c,l,r,s):c.data[g];G(I,!0);const T=l[g]=l[Me].createComment("");return Vs(c,l,T,I),wo(T,l),ai(I)&&(yp(c,l,I),mp(c,I,l)),null!=s&&vp(l,I),qp}function Zp(){let n=y();const r=Zn();return at()?Ut():(n=n.parent,G(n,!1)),r.firstCreatePass&&(ka(r,n),xi(n)&&r.queries.elementEnd(n)),Zp}function bf(n,r,s){return qp(n,r,s),Zp(),bf}function wf(){return Ft()}function Cf(n){return!!n&&"function"==typeof n.then}function Tf(n){return!!n&&"function"==typeof n.subscribe}const Sf=Tf;function rh(n,r,s,l){const c=Ft(),g=Zn(),I=y();return function Qp(n,r,s,l,c,g,I){const T=ai(l),U=n.firstCreatePass&&sc(n),Z=r[_r],ve=pf(r);let tt=!0;if(3&l.type||I){const nn=Wr(l,r),En=I?I(nn):nn,Fn=ve.length,dr=I?Cr=>I(Jn(Cr[l.index])):l.index;let Wt=null;if(!I&&T&&(Wt=function Xp(n,r,s,l){const c=n.cleanup;if(null!=c)for(let g=0;g<c.length-1;g+=2){const I=c[g];if(I===s&&c[g+1]===l){const T=r[ti],R=c[g+2];return T.length>R?T[R]:null}"string"==typeof I&&(g+=2)}return null}(n,r,c,l.index)),null!==Wt)(Wt.__ngLastListenerFn__||Wt).__ngNextListenerFn__=g,Wt.__ngLastListenerFn__=g,tt=!1;else{g=Af(l,r,Z,g,!1);const Cr=s.listen(En,c,g);ve.push(g,Cr),U&&U.push(c,dr,Fn,Fn+1)}}else g=Af(l,r,Z,g,!1);const dt=l.outputs;let kt;if(tt&&null!==dt&&(kt=dt[c])){const nn=kt.length;if(nn)for(let En=0;En<nn;En+=2){const go=r[kt[En]][kt[En+1]].subscribe(g),Xo=ve.length;ve.push(g,go),U&&U.push(c,l.index,Xo,-(Xo+1))}}}(g,c,c[Me],I,n,r,l),rh}function oh(n,r,s,l){try{return _i(6,r,s),!1!==s(l)}catch(c){return Mp(n,c),!1}finally{_i(7,r,s)}}function Af(n,r,s,l,c){return function g(I){if(I===Function)return l;Qd(n.componentOffset>-1?ri(n.index,r):r);let R=oh(r,s,l,I),U=g.__ngNextListenerFn__;for(;U;)R=oh(r,s,U,I)&&R,U=U.__ngNextListenerFn__;return c&&!1===R&&(I.preventDefault(),I.returnValue=!1),R}}function Mf(n=1){return function ps(n){return(Ln.lFrame.contextLView=function Kl(n,r){for(;n>0;)r=r[Ue],n--;return r}(n,Ln.lFrame.contextLView))[_r]}(n)}function Fm(n,r){let s=null;const l=function tm(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(n);for(let c=0;c<r.length;c++){const g=r[c];if("*"!==g){if(null===l?em(n,g,!0):nm(l,g))return c}else s=c}return s}function hc(n){const r=Ft()[et][Pr];if(!r.projection){const l=r.projection=ss(n?n.length:1,null),c=l.slice();let g=r.child;for(;null!==g;){const I=n?Fm(g,n):0;null!==I&&(c[I]?c[I].projectionNext=g:l[I]=g,c[I]=g),g=g.next}}}function xf(n,r=0,s){const l=Ft(),c=Zn(),g=Vc(c,Mn+n,16,null,s||null);null===g.projection&&(g.projection=r),Ut(),32!=(32&g.flags)&&function Md(n,r,s){au(r[Me],0,r,s,Cd(n,s,r),xh(s.parent||r[Pr],s,r))}(c,l,g)}function Jp(n,r,s){return eg(n,"",r,"",s),Jp}function eg(n,r,s,l,c){const g=Ft(),I=vu(g,r,s,l);return I!==Dr&&js(Zn(),li(),g,n,I,g[Me],c,!1),eg}function td(n,r){return n<<17|r<<2}function $l(n){return n>>17&32767}function nd(n){return 2|n}function Mr(n){return(131068&n)>>2}function Rf(n,r){return-131069&n|r<<2}function fc(n){return 1|n}function ig(n,r,s,l,c){const g=n[s+1],I=null===r;let T=l?$l(g):Mr(g),R=!1;for(;0!==T&&(!1===R||I);){const Z=n[T+1];Xv(n[T],r)&&(R=!0,n[T+1]=l?fc(Z):nd(Z)),T=l?$l(Z):Mr(Z)}R&&(n[s+1]=l?nd(g):fc(g))}function Xv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Gr(n,r)>=0}function lg(n,r){return function Ka(n,r,s,l){const c=Ft(),g=Zn(),I=Nr(2);g.firstUpdatePass&&function Ym(n,r,s,l){const c=n.data;if(null===c[s+1]){const g=c[Bi()],I=function rd(n,r){return r>=n.expandoStartIndex}(n,s);(function od(n,r){return 0!=(n.flags&(r?8:16))})(g,l)&&null===r&&!I&&(r=!1),r=function ml(n,r,s,l){const c=function Ys(n){const r=Ln.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let g=l?r.residualClasses:r.residualStyles;if(null===c)0===(l?r.classBindings:r.styleBindings)&&(s=ah(s=id(null,n,r,s,l),r.attrs,l),g=null);else{const I=r.directiveStylingLast;if(-1===I||n[I]!==c)if(s=id(c,n,r,s,l),null===g){let R=function Vl(n,r,s){const l=s?r.classBindings:r.styleBindings;if(0!==Mr(l))return n[$l(l)]}(n,r,l);void 0!==R&&Array.isArray(R)&&(R=id(null,n,r,R[1],l),R=ah(R,r.attrs,l),function f0(n,r,s,l){n[$l(s?r.classBindings:r.styleBindings)]=l}(n,r,l,R))}else g=function pc(n,r,s){let l;const c=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<c;g++)l=ah(l,n[g].hostAttrs,s);return ah(l,r.attrs,s)}(n,r,l)}return void 0!==g&&(l?r.residualClasses=g:r.residualStyles=g),s}(c,g,r,l),function _s(n,r,s,l,c,g){let I=g?r.classBindings:r.styleBindings,T=$l(I),R=Mr(I);n[l]=s;let Z,U=!1;if(Array.isArray(s)?(Z=s[1],(null===Z||Gr(s,Z)>0)&&(U=!0)):Z=s,c)if(0!==R){const tt=$l(n[T+1]);n[l+1]=td(tt,T),0!==tt&&(n[tt+1]=Rf(n[tt+1],l)),n[T+1]=function Hm(n,r){return 131071&n|r<<17}(n[T+1],l)}else n[l+1]=td(T,0),0!==T&&(n[T+1]=Rf(n[T+1],l)),T=l;else n[l+1]=td(R,0),0===T?T=l:n[R+1]=Rf(n[R+1],l),R=l;U&&(n[l+1]=nd(n[l+1])),ig(n,Z,l,!0),ig(n,Z,l,!1),function fl(n,r,s,l,c){const g=c?n.residualClasses:n.residualStyles;null!=g&&"string"==typeof r&&Gr(g,r)>=0&&(s[l+1]=fc(s[l+1]))}(r,Z,n,l,g),I=td(T,R),g?r.classBindings=I:r.styleBindings=I}(c,g,r,s,I,l)}}(g,n,I,l),r!==Dr&&us(c,I,r)&&function lh(n,r,s,l,c,g,I,T){if(!(3&r.type))return;const R=n.data,U=R[T+1],Z=function Gm(n){return 1==(1&n)}(U)?Zm(R,r,s,c,Mr(U),I):void 0;yl(Z)||(yl(g)||function jm(n){return 2==(2&n)}(U)&&(g=Zm(R,null,s,c,T,I)),function Rd(n,r,s,l,c){if(r)c?n.addClass(s,l):n.removeClass(s,l);else{let g=-1===l.indexOf("-")?void 0:$i.DashCase;null==c?n.removeStyle(s,l,g):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),g|=$i.Important),n.setStyle(s,l,c,g))}}(l,I,Eo(Bi(),s),c,g))}(g,g.data[Bi()],c,c[Me],n,c[I+1]=function Pf(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=he(h(n)))),n}(r,s),l,I)}(n,r,null,!0),lg}function id(n,r,s,l,c){let g=null;const I=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<I&&(g=r[T],l=ah(l,g.hostAttrs,c),g!==n);)T++;return null!==n&&(s.directiveStylingLast=T),l}function ah(n,r,s){const l=s?1:2;let c=-1;if(null!==r)for(let g=0;g<r.length;g++){const I=r[g];"number"==typeof I?c=I:c===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Fo(n,I,!!s||r[++g]))}return void 0===n?null:n}function Zm(n,r,s,l,c,g){const I=null===r;let T;for(;c>0;){const R=n[c],U=Array.isArray(R),Z=U?R[1]:R,ve=null===Z;let tt=s[c+1];tt===Dr&&(tt=ve?Pe:void 0);let dt=ve?$s(tt,l):Z===l?tt:void 0;if(U&&!yl(dt)&&(dt=$s(R,l)),yl(dt)&&(T=dt,I))return T;const kt=n[c+1];c=I?$l(kt):Mr(kt)}if(null!==r){let R=g?r.residualClasses:r.residualStyles;null!=R&&(T=$s(R,l))}return T}function yl(n){return void 0!==n}function cg(n,r=""){const s=Ft(),l=Zn(),c=n+Mn,g=l.firstCreatePass?Vc(l,c,1,r,null):l.data[c],I=s[c]=function Va(n,r){return n.createText(r)}(s[Me],r);Vs(l,s,I,g),G(g,!1)}function uh(n){return Nf("",n,""),uh}function Nf(n,r,s){const l=Ft(),c=vu(l,n,r,s);return c!==Dr&&Bl(l,Bi(),c),Nf}function dg(n,r,s,l,c){const g=Ft(),I=Xc(g,n,r,s,l,c);return I!==Dr&&Bl(g,Bi(),I),dg}const wu=void 0;var ly=["en",[["a","p"],["AM","PM"],wu],[["AM","PM"],wu,wu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wu,"{1} 'at' {0}",wu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ay(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let gc={};function Uf(n){const r=function l_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=cy(r);if(s)return s;const l=r.split("-")[0];if(s=cy(l),s)return s;if("en"===l)return ly;throw new we(701,!1)}function yh(n){return Uf(n)[rr.PluralCase]}function cy(n){return n in gc||(gc[n]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[n]),gc[n]}var rr=(()=>((rr=rr||{})[rr.LocaleId=0]="LocaleId",rr[rr.DayPeriodsFormat=1]="DayPeriodsFormat",rr[rr.DayPeriodsStandalone=2]="DayPeriodsStandalone",rr[rr.DaysFormat=3]="DaysFormat",rr[rr.DaysStandalone=4]="DaysStandalone",rr[rr.MonthsFormat=5]="MonthsFormat",rr[rr.MonthsStandalone=6]="MonthsStandalone",rr[rr.Eras=7]="Eras",rr[rr.FirstDayOfWeek=8]="FirstDayOfWeek",rr[rr.WeekendRange=9]="WeekendRange",rr[rr.DateFormat=10]="DateFormat",rr[rr.TimeFormat=11]="TimeFormat",rr[rr.DateTimeFormat=12]="DateTimeFormat",rr[rr.NumberSymbols=13]="NumberSymbols",rr[rr.NumberFormats=14]="NumberFormats",rr[rr.CurrencyCode=15]="CurrencyCode",rr[rr.CurrencySymbol=16]="CurrencySymbol",rr[rr.CurrencyName=17]="CurrencyName",rr[rr.Currencies=18]="Currencies",rr[rr.Directionality=19]="Directionality",rr[rr.PluralCase=20]="PluralCase",rr[rr.ExtraData=21]="ExtraData",rr))();const xa="en-US";let dy=xa;function i(n,r,s,l,c){if(n=ue(n),Array.isArray(n))for(let g=0;g<n.length;g++)i(n[g],r,s,l,c);else{const g=Zn(),I=Ft();let T=ja(n)?n:ue(n.provide),R=jg(n);const U=y(),Z=1048575&U.providerIndexes,ve=U.directiveStart,tt=U.providerIndexes>>20;if(ja(n)||!n.multi){const dt=new N(R,c,pu),kt=o(T,r,c?Z:Z+tt,ve);-1===kt?(Cs(ha(U,I),g,T),e(g,n,r.length),r.push(T),U.directiveStart++,U.directiveEnd++,c&&(U.providerIndexes+=1048576),s.push(dt),I.push(dt)):(s[kt]=dt,I[kt]=dt)}else{const dt=o(T,r,Z+tt,ve),kt=o(T,r,Z,Z+tt),En=kt>=0&&s[kt];if(c&&!En||!c&&!(dt>=0&&s[dt])){Cs(ha(U,I),g,T);const Fn=function C(n,r,s,l,c){const g=new N(n,s,pu);return g.multi=[],g.index=r,g.componentProviders=0,t(g,c,l&&!s),g}(c?f:u,s.length,c,l,R);!c&&En&&(s[kt].providerFactory=Fn),e(g,n,r.length,0),r.push(T),U.directiveStart++,U.directiveEnd++,c&&(U.providerIndexes+=1048576),s.push(Fn),I.push(Fn)}else e(g,n,dt>-1?dt:kt,t(s[c?kt:dt],R,!c&&l));!c&&l&&En&&s[kt].componentProviders++}}}function e(n,r,s,l){const c=ja(r),g=function Vg(n){return!!n.useClass}(r);if(c||g){const R=(g?ue(r.useClass):r).prototype.ngOnDestroy;if(R){const U=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const Z=U.indexOf(s);-1===Z?U.push(s,[l,R]):U[Z+1].push(l,R)}else U.push(s,R)}}}function t(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function o(n,r,s,l){for(let c=s;c<l;c++)if(r[c]===n)return c;return-1}function u(n,r,s,l){return v(this.multi,[])}function f(n,r,s,l){const c=this.multi;let g;if(this.providerFactory){const I=this.providerFactory.componentProviders,T=Qt(s,s[Xt],this.providerFactory.index,l);g=T.slice(0,I),v(c,g);for(let R=I;R<T.length;R++)g.push(T[R])}else g=[],v(c,g);return g}function v(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function $(n,r=[]){return s=>{s.providersResolver=(l,c)=>function O_(n,r,s){const l=Zn();if(l.firstCreatePass){const c=hi(n);i(s,l.data,l.blueprint,c,!0),i(r,l.data,l.blueprint,c,!1)}}(l,c?c(n):n,r)}}class H{}class te{}function Ne(n,r){return new Pt(n,r??null)}class Pt extends H{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mf(this);const l=Rr(r);this._bootstrapComponents=dl(l.bootstrap),this._r3Injector=tf(r,s,[{provide:H,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver}],he(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class $t extends te{constructor(r){super(),this.moduleType=r}create(r){return new Pt(this.moduleType,r)}}class _n extends H{constructor(r,s,l){super(),this.componentFactoryResolver=new mf(this),this.instance=null;const c=new np([...r,{provide:H,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver}],s||zh(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Bn(n,r,s=null){return new _n(n,r,s).injector}let Ii=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=Vh(0,s.type),c=l.length>0?Bn([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=vt({token:n,providedIn:"environment",factory:()=>new n(Gt(hu))}),n})();function Vi(n){n.getStandaloneInjector=r=>r.get(Ii).getOrCreateStandaloneInjector(n)}function D0(n,r,s){const l=function kn(){const n=Ln.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}()+n,c=Ft();return c[l]===Dr?function Hs(n,r,s){return n[r]=s}(c,l,s?r.call(s):r()):function Yc(n,r){return n[r]}(c,l)}function P_(n){return r=>{setTimeout(n,void 0,r)}}const Su=class iI extends a.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,l){let c=r,g=s||(()=>null),I=l;if(r&&"object"==typeof r){const R=r;c=R.next?.bind(R),g=R.error?.bind(R),I=R.complete?.bind(R)}this.__isAsync&&(g=P_(g),c&&(c=P_(c)),I&&(I=P_(I)));const T=super.subscribe({next:c,error:g,complete:I});return r instanceof k.w0&&r.add(T),T}};function oI(){return this._results[Symbol.iterator]()}class N_{get changes(){return this._changes||(this._changes=new Su)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=N_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=oI)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const l=this;l.dirty=!1;const c=function Ji(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Bs(n,r,s){if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++){let c=n[l],g=r[l];if(s&&(c=s(c),g=s(g)),g!==c)return!1}return!0}(l._results,c,s))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Cg=(()=>{class n{}return n.__NG_ELEMENT_ID__=lI,n})();const sI=Cg,aI=class extends sI{constructor(r,s,l){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(r,s){const l=this._declarationTContainer.tView,c=af(this._declarationLView,l,r,16,null,l.declTNode,null,null,null,null,s||null);c[ft]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[jt];return null!==I&&(c[jt]=I.createEmbeddedView(l)),rc(l,c,r),new lc(c)}};function lI(){return Uy(y(),Ft())}function Uy(n,r){return 4&n.type?new aI(r,n,Yu(n,r)):null}let jy=(()=>{class n{}return n.__NG_ELEMENT_ID__=uI,n})();function uI(){return x0(y(),Ft())}const cI=jy,A0=class extends cI{constructor(r,s,l){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=l}get element(){return Yu(this._hostTNode,this._hostLView)}get injector(){return new Ss(this._hostTNode,this._hostLView)}get parentInjector(){const r=Wn(this._hostTNode,this._hostLView);if(qt(r)){const s=ii(r,this._hostLView),l=pt(r);return new Ss(s[Xt].data[l+8],s)}return new Ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=M0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-sn}createEmbeddedView(r,s,l){let c,g;"number"==typeof l?c=l:null!=l&&(c=l.index,g=l.injector);const I=r.createEmbeddedView(s||{},g);return this.insert(I,c),I}createComponent(r,s,l,c,g){const I=r&&!function Ms(n){return"function"==typeof n}(r);let T;if(I)T=s;else{const ve=s||{};T=ve.index,l=ve.injector,c=ve.projectableNodes,g=ve.environmentInjector||ve.ngModuleRef}const R=I?r:new uc(On(r)),U=l||this.parentInjector;if(!g&&null==R.ngModule){const tt=(I?U:this.parentInjector).get(hu,null);tt&&(g=tt)}const Z=R.create(U,c,void 0,g);return this.insert(Z.hostView,T),Z}insert(r,s){const l=r._lView,c=l[Xt];if(function ao(n){return qn(n[fr])}(l)){const Z=this.indexOf(r);if(-1!==Z)this.detach(Z);else{const ve=l[fr],tt=new A0(ve,ve[Pr],ve[fr]);tt.detach(tt.indexOf(r))}}const g=this._adjustIndex(s),I=this._lContainer;!function bd(n,r,s,l){const c=sn+l,g=s.length;l>0&&(s[c-1][Sr]=r),l<g-sn?(r[Sr]=s[c],wa(s,sn+l,r)):(s.push(r),r[Sr]=null),r[fr]=s;const I=r[ft];null!==I&&s!==I&&function wd(n,r){const s=n[Ht];r[et]!==r[fr][fr][et]&&(n[He]=!0),null===s?n[Ht]=[r]:s.push(r)}(I,r);const T=r[jt];null!==T&&T.insertView(n),r[Pn]|=64}(c,l,I,g);const T=su(g,I),R=l[Me],U=Sa(R,I[ot]);return null!==U&&function Mc(n,r,s,l,c,g){l[nr]=c,l[Pr]=r,Bo(n,l,s,1,c,g)}(c,I[Pr],R,l,U,T),r.attachToViewContainerRef(),wa(k_(I),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=M0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),l=iu(this._lContainer,s);l&&(os(k_(this._lContainer),s),ol(l[Xt],l))}detach(r){const s=this._adjustIndex(r,-1),l=iu(this._lContainer,s);return l&&null!=os(k_(this._lContainer),s)?new lc(l):null}_adjustIndex(r,s=0){return r??this.length+s}};function M0(n){return n[At]}function k_(n){return n[At]||(n[At]=[])}function x0(n,r){let s;const l=r[n.index];if(qn(l))s=l;else{let c;if(8&n.type)c=Jn(l);else{const g=r[Me];c=g.createComment("");const I=Wr(n,r);na(g,Sa(g,I),c,function Ad(n,r){return n.nextSibling(r)}(g,I),!1)}r[n.index]=s=ff(l,r,c,n),Xd(r,s)}return new A0(s,n,r)}class F_{constructor(r){this.queryList=r,this.matches=null}clone(){return new F_(this.queryList)}setDirty(){this.queryList.setDirty()}}class L_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const l=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let g=0;g<l;g++){const I=s.getByIndex(g);c.push(this.queries[I.indexInDeclarationView].clone())}return new L_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==$0(r,s).matches&&this.queries[s].setDirty()}}class R0{constructor(r,s,l=null){this.predicate=r,this.flags=s,this.read=l}}class B_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let l=0;l<this.length;l++){const c=null!==s?s.length:0,g=this.getByIndex(l).embeddedTView(r,c);g&&(g.indexInDeclarationView=l,null!==s?s.push(g):s=[g])}return null!==s?new B_(s):null}template(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class $_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new $_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const g=l[c];this.matchTNodeWithReadOption(r,s,dI(s,g)),this.matchTNodeWithReadOption(r,s,Or(s,r,g,!1,!1))}else l===Cg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Or(s,r,l,!1,!1))}matchTNodeWithReadOption(r,s,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===qu||c===jy||c===Cg&&4&s.type)this.addMatch(s.index,-2);else{const g=Or(s,r,c,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,l)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function dI(n,r){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===r)return s[l+1];return null}function fI(n,r,s,l){return-1===s?function hI(n,r){return 11&n.type?Yu(n,r):4&n.type?Uy(n,r):null}(r,n):-2===s?function pI(n,r,s){return s===qu?Yu(r,n):s===Cg?Uy(r,n):s===jy?x0(r,n):void 0}(n,r,l):Qt(n,n[Xt],s,r)}function O0(n,r,s,l){const c=r[jt].queries[l];if(null===c.matches){const g=n.data,I=s.matches,T=[];for(let R=0;R<I.length;R+=2){const U=I[R];T.push(U<0?null:fI(r,g[U],I[R+1],s.metadata.read))}c.matches=T}return c.matches}function V_(n,r,s,l){const c=n.queries.getByIndex(s),g=c.matches;if(null!==g){const I=O0(n,r,c,s);for(let T=0;T<g.length;T+=2){const R=g[T];if(R>0)l.push(I[T/2]);else{const U=g[T+1],Z=r[-R];for(let ve=sn;ve<Z.length;ve++){const tt=Z[ve];tt[ft]===tt[fr]&&V_(tt[Xt],tt,U,l)}if(null!==Z[Ht]){const ve=Z[Ht];for(let tt=0;tt<ve.length;tt++){const dt=ve[tt];V_(dt[Xt],dt,U,l)}}}}}return l}function P0(n){const r=Ft(),s=Zn(),l=Oa();Zi(l+1);const c=$0(s,l);if(n.dirty&&function Ds(n){return 4==(4&n[Pn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const g=c.crossesNgTemplate?V_(s,r,l,[]):O0(s,r,c,l);n.reset(g,ip),n.notifyOnChanges()}return!0}return!1}function N0(n,r,s){const l=Zn();l.firstCreatePass&&(B0(l,new R0(n,r,s),-1),2==(2&r)&&(l.staticViewQueries=!0)),L0(l,Ft(),r)}function k0(n,r,s,l){const c=Zn();if(c.firstCreatePass){const g=y();B0(c,new R0(r,s,l),g.index),function mI(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}L0(c,Ft(),s)}function F0(){return function gI(n,r){return n[jt].queries[r].queryList}(Ft(),Oa())}function L0(n,r,s){const l=new N_(4==(4&s));jc(n,r,l,l.destroy),null===r[jt]&&(r[jt]=new L_),r[jt].queries.push(new F_(l))}function B0(n,r,s){null===n.queries&&(n.queries=new B_),n.queries.track(new $_(r,s))}function $0(n,r){return n.queries.getByIndex(r)}function U_(n){return!!Rr(n)}function Gy(...n){}const rE=new qr("Application Initializer");let zy=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Gy,this.reject=Gy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const g=this.appInits[c]();if(Cf(g))s.push(g);else if(Sf(g)){const I=new Promise((T,R)=>{g.subscribe({complete:T,error:R})});s.push(I)}}Promise.all(s).then(()=>{l()}).catch(c=>{this.reject(c)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Gt(rE,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iE=new qr("AppId",{providedIn:"root",factory:function oE(){return`${W_()}${W_()}${W_()}`}});function W_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sE=new qr("Platform Initializer"),LI=new qr("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let BI=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Wy=new qr("LocaleId",{providedIn:"root",factory:()=>Jt(Wy,Lt.Optional|Lt.SkipSelf)||function $I(){return typeof $localize<"u"&&$localize.locale||xa}()}),VI=new qr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class UI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let jI=(()=>{class n{compileModuleSync(s){return new $t(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),g=dl(Rr(s).declarations).reduce((I,T)=>{const R=On(T);return R&&I.push(new uc(R)),I},[]);return new UI(l,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zI=(()=>Promise.resolve(0))();function K_(n){typeof Zone>"u"?zI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class vl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Su(!1),this.onMicrotaskEmpty=new Su(!1),this.onStable=new Su(!1),this.onError=new Su(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&s,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function WI(){let n=fn.requestAnimationFrame,r=fn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function qI(n){const r=()=>{!function YI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(fn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,q_(n),n.isCheckStableRunning=!0,Y_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),q_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,c,g,I,T)=>{try{return uE(n),s.invokeTask(c,g,I,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||n.shouldCoalesceRunChangeDetection)&&r(),cE(n)}},onInvoke:(s,l,c,g,I,T,R)=>{try{return uE(n),s.invoke(c,g,I,T,R)}finally{n.shouldCoalesceRunChangeDetection&&r(),cE(n)}},onHasTask:(s,l,c,g)=>{s.hasTask(c,g),l===c&&("microTask"==g.change?(n._hasPendingMicrotasks=g.microTask,q_(n),Y_(n)):"macroTask"==g.change&&(n.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,l,c,g)=>(s.handleError(c,g),n.runOutsideAngular(()=>n.onError.emit(g)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vl.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(vl.isInAngularZone())throw new we(909,!1)}run(r,s,l){return this._inner.run(r,s,l)}runTask(r,s,l,c){const g=this._inner,I=g.scheduleEventTask("NgZoneEvent: "+c,r,KI,Gy,Gy);try{return g.runTask(I,s,l)}finally{g.cancelTask(I)}}runGuarded(r,s,l){return this._inner.runGuarded(r,s,l)}runOutsideAngular(r){return this._outer.run(r)}}const KI={};function Y_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function q_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function uE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cE(n){n._nesting--,Y_(n)}class ZI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Su,this.onMicrotaskEmpty=new Su,this.onStable=new Su,this.onError=new Su}run(r,s,l){return r.apply(s,l)}runGuarded(r,s,l){return r.apply(s,l)}runOutsideAngular(r){return r()}runTask(r,s,l,c){return r.apply(s,l)}}const dE=new qr(""),hE=new qr("");let Z_,XI=(()=>{class n{constructor(s,l,c){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Z_||(function QI(n){Z_=n}(c),c.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vl.assertNotInAngularZone(),K_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())K_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,c){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==g),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:c})}whenStable(s,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(Gt(vl),Gt(fE),Gt(hE))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),fE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return Z_?.findTestabilityInTree(this,s,l)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ec=!1;let dd=null;const pE=new qr("AllowMultipleToken"),X_=new qr("PlatformDestroyListeners"),gE=new qr("appBootstrapListener");class tD{constructor(r,s){this.name=r,this.token=s}}function yE(n,r,s=[]){const l=`Platform: ${r}`,c=new qr(l);return(g=[])=>{let I=Q_();if(!I||I.injector.get(pE,!1)){const T=[...s,...g,{provide:c,useValue:!0}];n?n(T):function nD(n){if(dd&&!dd.get(pE,!1))throw new we(400,!1);dd=n;const r=n.get(_E);(function mE(n){const r=n.get(sE,null);r&&r.forEach(s=>s())})(n)}(function vE(n=[],r){return za.create({name:r,providers:[{provide:$d,useValue:"platform"},{provide:X_,useValue:new Set([()=>dd=null])},...n]})}(T,l))}return function iD(n){const r=Q_();if(!r)throw new we(401,!1);return r}()}}function Q_(){return dd?.get(_E)??null}let _E=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const c=function IE(n,r){let s;return s="noop"===n?new ZI:("zone.js"===n?void 0:n)||new vl(r),s}(l?.ngZone,function EE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:vl,useValue:c}];return c.run(()=>{const I=za.create({providers:g,parent:this.injector,name:s.moduleType.name}),T=s.create(I),R=T.injector.get($c,null);if(!R)throw new we(402,!1);return c.runOutsideAngular(()=>{const U=c.onError.subscribe({next:Z=>{R.handleError(Z)}});T.onDestroy(()=>{Yy(this._modules,T),U.unsubscribe()})}),function DE(n,r,s){try{const l=s();return Cf(l)?l.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):l}catch(l){throw r.runOutsideAngular(()=>n.handleError(l)),l}}(R,c,()=>{const U=T.injector.get(zy);return U.runInitializers(),U.donePromise.then(()=>(function jl(n){ze(n,"Expected localeId to be defined"),"string"==typeof n&&(dy=n.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Wy,xa)||xa),this._moduleDoBootstrap(T),T))})})}bootstrapModule(s,l=[]){const c=bE({},l);return function JI(n,r,s){const l=new $t(s);return Promise.resolve(l)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,c))}_moduleDoBootstrap(s){const l=s.injector.get(Ky);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new we(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(X_,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Gt(za))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function bE(n,r){return Array.isArray(r)?r.reduce(bE,n):{...n,...r}}let Ky=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,l,c){this._zone=s,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new x.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),I=new x.y(T=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{vl.assertNotInAngularZone(),K_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{vl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{R.unsubscribe(),U.unsubscribe()}});this.isStable=(0,ie.T)(g,I.pipe((0,Ie.B)()))}bootstrap(s,l){const c=s instanceof kl;if(!this._injector.get(zy).done){!c&&jr(s);throw new we(405,Ec)}let I;I=c?s:this._injector.get(Ku).resolveComponentFactory(s),this.componentTypes.push(I.componentType);const T=function eD(n){return n.isBoundToModule}(I)?void 0:this._injector.get(H),U=I.create(za.NULL,[],l||I.selector,T),Z=U.location.nativeElement,ve=U.injector.get(dE,null);return ve?.registerApplication(Z),U.onDestroy(()=>{this.detachView(U.hostView),Yy(this.components,U),ve?.unregisterApplication(Z)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Yy(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(gE,[]);l.push(...this._bootstrapListeners),l.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Yy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new we(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(Gt(vl),Gt(hu),Gt($c))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}function sD(){return!1}function aD(){}let lD=(()=>{class n{}return n.__NG_ELEMENT_ID__=uD,n})();function uD(n){return function cD(n,r,s){if(Ri(n)&&!s){const l=ri(n.index,r);return new lc(l,l)}return 47&n.type?new lc(r[et],r):null}(y(),Ft(),16==(16&n))}class AE{constructor(){}supports(r){return Kc(r)}create(r){return new mD(r)}}const gD=(n,r)=>r;class mD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||gD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,l=this._removalsHead,c=0,g=null;for(;s||l;){const I=!l||s&&s.currentIndex<xE(l,c,g)?s:l,T=xE(I,c,g),R=I.currentIndex;if(I===l)c--,l=l._nextRemoved;else if(s=s._next,null==I.previousIndex)c++;else{g||(g=[]);const U=T-c,Z=R-c;if(U!=Z){for(let tt=0;tt<U;tt++){const dt=tt<g.length?g[tt]:g[tt]=0,kt=dt+tt;Z<=kt&&kt<U&&(g[tt]=dt+1)}g[I.previousIndex]=Z-U}}T!==R&&r(I,T,R)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Kc(r))throw new we(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,g,I,s=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let T=0;T<this.length;T++)g=r[T],I=this._trackByFn(T,g),null!==s&&Object.is(s.trackById,I)?(l&&(s=this._verifyReinsertion(s,g,I,T)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,I,T),l=!0),s=s._next}else c=0,function Vp(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let l;for(;!(l=s.next()).done;)r(l.value)}}(r,T=>{I=this._trackByFn(c,T),null!==s&&Object.is(s.trackById,I)?(l&&(s=this._verifyReinsertion(s,T,I,c)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,I,c),l=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,l,c){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,g,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,g,c)):r=this._addAfter(new yD(s,l),g,c),r}_verifyReinsertion(r,s,l,c){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?r=this._reinsertAfter(g,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,g=r._nextRemoved;return null===c?this._removalsHead=g:c._nextRemoved=g,null===g?this._removalsTail=c:g._prevRemoved=c,this._insertAfter(r,s,l),this._addToMoves(r,l),r}_moveAfter(r,s,l){return this._unlink(r),this._insertAfter(r,s,l),this._addToMoves(r,l),r}_addAfter(r,s,l){return this._insertAfter(r,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,l){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new ME),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,l=r._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ME),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class yD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const s=r._prevDup,l=r._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class ME{constructor(){this.map=new Map}put(r){const s=r.trackById;let l=this.map.get(s);l||(l=new vD,this.map.set(s,l)),l.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xE(n,r,s){const l=n.previousIndex;if(null===l)return l;let c=0;return s&&l<s.length&&(c=s[l]),l+r+c}class RE{constructor(){}supports(r){return r instanceof Map||eh(r)}create(){return new _D}}class _D{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||eh(r)))throw new we(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(c,l);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const l=r._prev;return s._next=r,s._prev=l,r._prev=s,l&&(l._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const g=c._prev,I=c._next;return g&&(g._next=I),I&&(I._prev=g),c._next=null,c._prev=null,c}const l=new ED(r);return this._records.set(r,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(l=>s(r[l],l))}}class ED{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function OE(){return new r0([new AE])}let r0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||OE()),deps:[[n,new cr,new en]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(null!=l)return l;throw new we(901,!1)}}return n.\u0275prov=vt({token:n,providedIn:"root",factory:OE}),n})();function PE(){return new o0([new RE])}let o0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||PE()),deps:[[n,new cr,new en]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(l)return l;throw new we(901,!1)}}return n.\u0275prov=vt({token:n,providedIn:"root",factory:PE}),n})();const bD=yE(null,"core",[]);let wD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Gt(Ky))},n.\u0275mod=Lr({type:n}),n.\u0275inj=Yt({}),n})();function CD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(zt,rt,P)=>{"use strict";P.d(rt,{qu:()=>Wo,NI:()=>wt,u:()=>Es,sg:()=>So,u5:()=>Ft,nD:()=>Ds,wO:()=>Li,JU:()=>Xe,a5:()=>Tr,JJ:()=>sr,JL:()=>fn,On:()=>Vn,UX:()=>Zn,Q7:()=>_o,kI:()=>X,_Y:()=>ur});var a=P(4650),k=P(6895),x=P(8996),ie=P(9751),Ie=P(4742),pe=P(8421),ne=P(7669),he=P(5403),Te=P(3268),ae=P(1810),ue=P(4004);let Oe=(()=>{class F{constructor(y,p){this._renderer=y,this._elementRef=p,this.onChange=S=>{},this.onTouched=()=>{}}setProperty(y,p){this._renderer.setProperty(this._elementRef.nativeElement,y,p)}registerOnTouched(y){this.onTouched=y}registerOnChange(y){this.onChange=y}setDisabledState(y){this.setProperty("disabled",y)}}return F.\u0275fac=function(y){return new(y||F)(a.Y36(a.Qsj),a.Y36(a.SBq))},F.\u0275dir=a.lG2({type:F}),F})(),ke=(()=>{class F extends Oe{}return F.\u0275fac=function(){let d;return function(p){return(d||(d=a.n5z(F)))(p||F)}}(),F.\u0275dir=a.lG2({type:F,features:[a.qOj]}),F})();const Xe=new a.OlP("NgValueAccessor"),de={provide:Xe,useExisting:(0,a.Gpc)(()=>Ke),multi:!0},Ze=new a.OlP("CompositionEventMode");let Ke=(()=>{class F extends Oe{constructor(y,p,S){super(y,p),this._compositionMode=S,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ee(){const F=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(y){this.setProperty("value",y??"")}_handleInput(y){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(y)}_compositionStart(){this._composing=!0}_compositionEnd(y){this._composing=!1,this._compositionMode&&this.onChange(y)}}return F.\u0275fac=function(y){return new(y||F)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ze,8))},F.\u0275dir=a.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(y,p){1&y&&a.NdJ("input",function(G){return p._handleInput(G.target.value)})("blur",function(){return p.onTouched()})("compositionstart",function(){return p._compositionStart()})("compositionend",function(G){return p._compositionEnd(G.target.value)})},features:[a._Bn([de]),a.qOj]}),F})();const je=!1;function Ve(F){return null==F||("string"==typeof F||Array.isArray(F))&&0===F.length}function _e(F){return null!=F&&"number"==typeof F.length}const De=new a.OlP("NgValidators"),z=new a.OlP("NgAsyncValidators"),Be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class X{static min(d){return function Ce(F){return d=>{if(Ve(d.value)||Ve(F))return null;const y=parseFloat(d.value);return!isNaN(y)&&y<F?{min:{min:F,actual:d.value}}:null}}(d)}static max(d){return function se(F){return d=>{if(Ve(d.value)||Ve(F))return null;const y=parseFloat(d.value);return!isNaN(y)&&y>F?{max:{max:F,actual:d.value}}:null}}(d)}static required(d){return xe(d)}static requiredTrue(d){return function Se(F){return!0===F.value?null:{required:!0}}(d)}static email(d){return function We(F){return Ve(F.value)||Be.test(F.value)?null:{email:!0}}(d)}static minLength(d){return Ge(d)}static maxLength(d){return fe(d)}static pattern(d){return function me(F){if(!F)return ye;let d,y;return"string"==typeof F?(y="","^"!==F.charAt(0)&&(y+="^"),y+=F,"$"!==F.charAt(F.length-1)&&(y+="$"),d=new RegExp(y)):(y=F.toString(),d=F),p=>{if(Ve(p.value))return null;const S=p.value;return d.test(S)?null:{pattern:{requiredPattern:y,actualValue:S}}}}(d)}static nullValidator(d){return null}static compose(d){return bt(d)}static composeAsync(d){return _t(d)}}function xe(F){return Ve(F.value)?{required:!0}:null}function Ge(F){return d=>Ve(d.value)||!_e(d.value)?null:d.value.length<F?{minlength:{requiredLength:F,actualLength:d.value.length}}:null}function fe(F){return d=>_e(d.value)&&d.value.length>F?{maxlength:{requiredLength:F,actualLength:d.value.length}}:null}function ye(F){return null}function ze(F){return null!=F}function Re(F){const d=(0,a.QGY)(F)?(0,x.D)(F):F;if(je&&!(0,a.CqO)(d)){let y="Expected async validator to return Promise or Observable.";throw"object"==typeof F&&(y+=" Are you using a synchronous validator where an async validator is expected?"),new a.vHH(-1101,y)}return d}function Ye(F){let d={};return F.forEach(y=>{d=null!=y?{...d,...y}:d}),0===Object.keys(d).length?null:d}function Fe(F,d){return d.map(y=>y(F))}function vt(F){return F.map(d=>function Dt(F){return!F.validate}(d)?d:y=>d.validate(y))}function bt(F){if(!F)return null;const d=F.filter(ze);return 0==d.length?null:function(y){return Ye(Fe(y,d))}}function Yt(F){return null!=F?bt(vt(F)):null}function _t(F){if(!F)return null;const d=F.filter(ze);return 0==d.length?null:function(y){return function le(...F){const d=(0,ne.jO)(F),{args:y,keys:p}=(0,Ie.D)(F),S=new ie.y(G=>{const{length:at}=y;if(!at)return void G.complete();const Ut=new Array(at);let rn=at,xn=at;for(let or=0;or<at;or++){let kn=!1;(0,pe.Xf)(y[or]).subscribe((0,he.x)(G,pr=>{kn||(kn=!0,xn--),Ut[or]=pr},()=>rn--,void 0,()=>{(!rn||!kn)&&(xn||G.next(p?(0,ae.n)(p,Ut):Ut),G.complete())}))}});return d?S.pipe((0,Te.Z)(d)):S}(Fe(y,d).map(Re)).pipe((0,ue.U)(Ye))}}function hn(F){return null!=F?_t(vt(F)):null}function In(F,d){return null===F?[d]:Array.isArray(F)?[...F,d]:[F,d]}function Cn(F){return F._rawValidators}function Kt(F){return F._rawAsyncValidators}function jn(F){return F?Array.isArray(F)?F:[F]:[]}function er(F,d){return Array.isArray(F)?F.includes(d):F===d}function hr(F,d){const y=jn(d);return jn(F).forEach(S=>{er(y,S)||y.push(S)}),y}function pn(F,d){return jn(d).filter(y=>!er(F,y))}class Hn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(d){this._rawValidators=d||[],this._composedValidatorFn=Yt(this._rawValidators)}_setAsyncValidators(d){this._rawAsyncValidators=d||[],this._composedAsyncValidatorFn=hn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(d){this._onDestroyCallbacks.push(d)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(d=>d()),this._onDestroyCallbacks=[]}reset(d){this.control&&this.control.reset(d)}hasError(d,y){return!!this.control&&this.control.hasError(d,y)}getError(d,y){return this.control?this.control.getError(d,y):null}}class Lt extends Hn{get formDirective(){return null}get path(){return null}}class Tr extends Hn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gr{constructor(d){this._cd=d}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let sr=(()=>{class F extends gr{constructor(y){super(y)}}return F.\u0275fac=function(y){return new(y||F)(a.Y36(Tr,2))},F.\u0275dir=a.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(y,p){2&y&&a.ekj("ng-untouched",p.isUntouched)("ng-touched",p.isTouched)("ng-pristine",p.isPristine)("ng-dirty",p.isDirty)("ng-valid",p.isValid)("ng-invalid",p.isInvalid)("ng-pending",p.isPending)},features:[a.qOj]}),F})(),fn=(()=>{class F extends gr{constructor(y){super(y)}}return F.\u0275fac=function(y){return new(y||F)(a.Y36(Lt,10))},F.\u0275dir=a.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(y,p){2&y&&a.ekj("ng-untouched",p.isUntouched)("ng-touched",p.isTouched)("ng-pristine",p.isPristine)("ng-dirty",p.isDirty)("ng-valid",p.isValid)("ng-invalid",p.isInvalid)("ng-pending",p.isPending)("ng-submitted",p.isSubmitted)},features:[a.qOj]}),F})();function Gt(F,d){return F?`with name: '${d}'`:`at index: ${d}`}const Dn=!1,bn="VALID",ar="INVALID",Ae="PENDING",ge="DISABLED";function $e(F){return(Pe(F)?F.validators:F)||null}function lt(F,d){return(Pe(d)?d.asyncValidators:F)||null}function Pe(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}function Le(F,d,y){const p=F.controls;if(!(d?Object.keys(p):p).length)throw new a.vHH(1e3,Dn?function Ct(F){return`\n    There are no form controls registered with this ${F?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(d):"");if(!p[y])throw new a.vHH(1001,Dn?function Jt(F,d){return`Cannot find form control ${Gt(F,d)}`}(d,y):"")}function ce(F,d,y){F._forEachChild((p,S)=>{if(void 0===y[S])throw new a.vHH(1002,Dn?function gn(F,d){return`Must supply a value for form control ${Gt(F,d)}`}(d,S):"")})}class st{constructor(d,y){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(d),this._assignAsyncValidators(y)}get validator(){return this._composedValidatorFn}set validator(d){this._rawValidators=this._composedValidatorFn=d}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(d){this._rawAsyncValidators=this._composedAsyncValidatorFn=d}get parent(){return this._parent}get valid(){return this.status===bn}get invalid(){return this.status===ar}get pending(){return this.status==Ae}get disabled(){return this.status===ge}get enabled(){return this.status!==ge}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(d){this._assignValidators(d)}setAsyncValidators(d){this._assignAsyncValidators(d)}addValidators(d){this.setValidators(hr(d,this._rawValidators))}addAsyncValidators(d){this.setAsyncValidators(hr(d,this._rawAsyncValidators))}removeValidators(d){this.setValidators(pn(d,this._rawValidators))}removeAsyncValidators(d){this.setAsyncValidators(pn(d,this._rawAsyncValidators))}hasValidator(d){return er(this._rawValidators,d)}hasAsyncValidator(d){return er(this._rawAsyncValidators,d)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(d={}){this.touched=!0,this._parent&&!d.onlySelf&&this._parent.markAsTouched(d)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(d=>d.markAllAsTouched())}markAsUntouched(d={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(y=>{y.markAsUntouched({onlySelf:!0})}),this._parent&&!d.onlySelf&&this._parent._updateTouched(d)}markAsDirty(d={}){this.pristine=!1,this._parent&&!d.onlySelf&&this._parent.markAsDirty(d)}markAsPristine(d={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(y=>{y.markAsPristine({onlySelf:!0})}),this._parent&&!d.onlySelf&&this._parent._updatePristine(d)}markAsPending(d={}){this.status=Ae,!1!==d.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!d.onlySelf&&this._parent.markAsPending(d)}disable(d={}){const y=this._parentMarkedDirty(d.onlySelf);this.status=ge,this.errors=null,this._forEachChild(p=>{p.disable({...d,onlySelf:!0})}),this._updateValue(),!1!==d.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...d,skipPristineCheck:y}),this._onDisabledChange.forEach(p=>p(!0))}enable(d={}){const y=this._parentMarkedDirty(d.onlySelf);this.status=bn,this._forEachChild(p=>{p.enable({...d,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:d.emitEvent}),this._updateAncestors({...d,skipPristineCheck:y}),this._onDisabledChange.forEach(p=>p(!1))}_updateAncestors(d){this._parent&&!d.onlySelf&&(this._parent.updateValueAndValidity(d),d.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(d){this._parent=d}getRawValue(){return this.value}updateValueAndValidity(d={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bn||this.status===Ae)&&this._runAsyncValidator(d.emitEvent)),!1!==d.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!d.onlySelf&&this._parent.updateValueAndValidity(d)}_updateTreeValidity(d={emitEvent:!0}){this._forEachChild(y=>y._updateTreeValidity(d)),this.updateValueAndValidity({onlySelf:!0,emitEvent:d.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ge:bn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(d){if(this.asyncValidator){this.status=Ae,this._hasOwnPendingAsyncValidator=!0;const y=Re(this.asyncValidator(this));this._asyncValidationSubscription=y.subscribe(p=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(p,{emitEvent:d})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(d,y={}){this.errors=d,this._updateControlsErrors(!1!==y.emitEvent)}get(d){let y=d;return null==y||(Array.isArray(y)||(y=y.split(".")),0===y.length)?null:y.reduce((p,S)=>p&&p._find(S),this)}getError(d,y){const p=y?this.get(y):this;return p&&p.errors?p.errors[d]:null}hasError(d,y){return!!this.getError(d,y)}get root(){let d=this;for(;d._parent;)d=d._parent;return d}_updateControlsErrors(d){this.status=this._calculateStatus(),d&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(d)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?ge:this.errors?ar:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ae)?Ae:this._anyControlsHaveStatus(ar)?ar:bn}_anyControlsHaveStatus(d){return this._anyControls(y=>y.status===d)}_anyControlsDirty(){return this._anyControls(d=>d.dirty)}_anyControlsTouched(){return this._anyControls(d=>d.touched)}_updatePristine(d={}){this.pristine=!this._anyControlsDirty(),this._parent&&!d.onlySelf&&this._parent._updatePristine(d)}_updateTouched(d={}){this.touched=this._anyControlsTouched(),this._parent&&!d.onlySelf&&this._parent._updateTouched(d)}_registerOnCollectionChange(d){this._onCollectionChange=d}_setUpdateStrategy(d){Pe(d)&&null!=d.updateOn&&(this._updateOn=d.updateOn)}_parentMarkedDirty(d){return!d&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(d){return null}_assignValidators(d){this._rawValidators=Array.isArray(d)?d.slice():d,this._composedValidatorFn=function Et(F){return Array.isArray(F)?Yt(F):F||null}(this._rawValidators)}_assignAsyncValidators(d){this._rawAsyncValidators=Array.isArray(d)?d.slice():d,this._composedAsyncValidatorFn=function Zt(F){return Array.isArray(F)?hn(F):F||null}(this._rawAsyncValidators)}}class It extends st{constructor(d,y,p){super($e(y),lt(p,y)),this.controls=d,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(d,y){return this.controls[d]?this.controls[d]:(this.controls[d]=y,y.setParent(this),y._registerOnCollectionChange(this._onCollectionChange),y)}addControl(d,y,p={}){this.registerControl(d,y),this.updateValueAndValidity({emitEvent:p.emitEvent}),this._onCollectionChange()}removeControl(d,y={}){this.controls[d]&&this.controls[d]._registerOnCollectionChange(()=>{}),delete this.controls[d],this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}setControl(d,y,p={}){this.controls[d]&&this.controls[d]._registerOnCollectionChange(()=>{}),delete this.controls[d],y&&this.registerControl(d,y),this.updateValueAndValidity({emitEvent:p.emitEvent}),this._onCollectionChange()}contains(d){return this.controls.hasOwnProperty(d)&&this.controls[d].enabled}setValue(d,y={}){ce(this,!0,d),Object.keys(d).forEach(p=>{Le(this,!0,p),this.controls[p].setValue(d[p],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(d,y={}){null!=d&&(Object.keys(d).forEach(p=>{const S=this.controls[p];S&&S.patchValue(d[p],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(d={},y={}){this._forEachChild((p,S)=>{p.reset(d[S],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this._reduceChildren({},(d,y,p)=>(d[p]=y.getRawValue(),d))}_syncPendingControls(){let d=this._reduceChildren(!1,(y,p)=>!!p._syncPendingControls()||y);return d&&this.updateValueAndValidity({onlySelf:!0}),d}_forEachChild(d){Object.keys(this.controls).forEach(y=>{const p=this.controls[y];p&&d(p,y)})}_setUpControls(){this._forEachChild(d=>{d.setParent(this),d._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(d){for(const[y,p]of Object.entries(this.controls))if(this.contains(y)&&d(p))return!0;return!1}_reduceValue(){return this._reduceChildren({},(y,p,S)=>((p.enabled||this.disabled)&&(y[S]=p.value),y))}_reduceChildren(d,y){let p=d;return this._forEachChild((S,G)=>{p=y(p,S,G)}),p}_allControlsDisabled(){for(const d of Object.keys(this.controls))if(this.controls[d].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(d){return this.controls.hasOwnProperty(d)?this.controls[d]:null}}class An extends It{}const si=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Qr}),Qr="always";function vi(F,d){return[...d.path,F]}function Lr(F,d,y=Qr){pi(F,d),d.valueAccessor.writeValue(F.value),(F.disabled||"always"===y)&&d.valueAccessor.setDisabledState?.(F.disabled),function xr(F,d){d.valueAccessor.registerOnChange(y=>{F._pendingValue=y,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&jr(F,d)})}(F,d),function Rr(F,d){const y=(p,S)=>{d.valueAccessor.writeValue(p),S&&d.viewToModelUpdate(p)};F.registerOnChange(y),d._registerOnDestroy(()=>{F._unregisterOnChange(y)})}(F,d),function lr(F,d){d.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&jr(F,d),"submit"!==F.updateOn&&F.markAsTouched()})}(F,d),function Mi(F,d){if(d.valueAccessor.setDisabledState){const y=p=>{d.valueAccessor.setDisabledState(p)};F.registerOnDisabledChange(y),d._registerOnDestroy(()=>{F._unregisterOnDisabledChange(y)})}}(F,d)}function Jr(F,d,y=!0){const p=()=>{};d.valueAccessor&&(d.valueAccessor.registerOnChange(p),d.valueAccessor.registerOnTouched(p)),On(F,d),F&&(d._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function ir(F,d){F.forEach(y=>{y.registerOnValidatorChange&&y.registerOnValidatorChange(d)})}function pi(F,d){const y=Cn(F);null!==d.validator?F.setValidators(In(y,d.validator)):"function"==typeof y&&F.setValidators([y]);const p=Kt(F);null!==d.asyncValidator?F.setAsyncValidators(In(p,d.asyncValidator)):"function"==typeof p&&F.setAsyncValidators([p]);const S=()=>F.updateValueAndValidity();ir(d._rawValidators,S),ir(d._rawAsyncValidators,S)}function On(F,d){let y=!1;if(null!==F){if(null!==d.validator){const S=Cn(F);if(Array.isArray(S)&&S.length>0){const G=S.filter(at=>at!==d.validator);G.length!==S.length&&(y=!0,F.setValidators(G))}}if(null!==d.asyncValidator){const S=Kt(F);if(Array.isArray(S)&&S.length>0){const G=S.filter(at=>at!==d.asyncValidator);G.length!==S.length&&(y=!0,F.setAsyncValidators(G))}}}const p=()=>{};return ir(d._rawValidators,p),ir(d._rawAsyncValidators,p),y}function jr(F,d){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),d.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function ti(F,d){if(!F.hasOwnProperty("model"))return!1;const y=F.model;return!!y.isFirstChange()||!Object.is(d,y.currentValue)}function oe(F,d){if(!d)return null;let y,p,S;return Array.isArray(d),d.forEach(G=>{G.constructor===Ke?y=G:function _r(F){return Object.getPrototypeOf(F.constructor)===ke}(G)?p=G:S=G}),S||p||y||null}function et(F,d){const y=F.indexOf(d);y>-1&&F.splice(y,1)}function ft(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}const wt=class extends st{constructor(d=null,y,p){super($e(y),lt(p,y)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(d),this._setUpdateStrategy(y),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pe(y)&&(y.nonNullable||y.initialValueIsDefault)&&(this.defaultValue=ft(d)?d.value:d)}setValue(d,y={}){this.value=this._pendingValue=d,this._onChange.length&&!1!==y.emitModelToViewChange&&this._onChange.forEach(p=>p(this.value,!1!==y.emitViewToModelChange)),this.updateValueAndValidity(y)}patchValue(d,y={}){this.setValue(d,y)}reset(d=this.defaultValue,y={}){this._applyFormState(d),this.markAsPristine(y),this.markAsUntouched(y),this.setValue(this.value,y),this._pendingChange=!1}_updateValue(){}_anyControls(d){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(d){this._onChange.push(d)}_unregisterOnChange(d){et(this._onChange,d)}registerOnDisabledChange(d){this._onDisabledChange.push(d)}_unregisterOnDisabledChange(d){et(this._onDisabledChange,d)}_forEachChild(d){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(d){ft(d)?(this.value=this._pendingValue=d.value,d.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=d}},Ht={provide:Tr,useExisting:(0,a.Gpc)(()=>Vn)},sn=(()=>Promise.resolve())();let Vn=(()=>{class F extends Tr{constructor(y,p,S,G,at,Ut){super(),this._changeDetectorRef=at,this.callSetDisabledState=Ut,this.control=new wt,this._registered=!1,this.update=new a.vpe,this._parent=y,this._setValidators(p),this._setAsyncValidators(S),this.valueAccessor=oe(0,G)}ngOnChanges(y){if(this._checkForErrors(),!this._registered||"name"in y){if(this._registered&&(this._checkName(),this.formDirective)){const p=y.name.previousValue;this.formDirective.removeControl({name:p,path:this._getPath(p)})}this._setUpControl()}"isDisabled"in y&&this._updateDisabled(y),ti(y,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(y){this.viewModel=y,this.update.emit(y)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(y){sn.then(()=>{this.control.setValue(y,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(y){const p=y.isDisabled.currentValue,S=0!==p&&(0,a.D6c)(p);sn.then(()=>{S&&!this.control.disabled?this.control.disable():!S&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(y){return this._parent?vi(y,this._parent):[y]}}return F.\u0275fac=function(y){return new(y||F)(a.Y36(Lt,9),a.Y36(De,10),a.Y36(z,10),a.Y36(Xe,10),a.Y36(a.sBO,8),a.Y36(si,8))},F.\u0275dir=a.lG2({type:F,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Ht]),a.qOj,a.TTD]}),F})(),ur=(()=>{class F{}return F.\u0275fac=function(y){return new(y||F)},F.\u0275dir=a.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})(),hi=(()=>{class F{}return F.\u0275fac=function(y){return new(y||F)},F.\u0275mod=a.oAB({type:F}),F.\u0275inj=a.cJS({}),F})();const jo=new a.OlP("NgModelWithFormControlWarning"),bi={provide:Lt,useExisting:(0,a.Gpc)(()=>So)};let So=(()=>{class F extends Lt{constructor(y,p,S){super(),this.callSetDisabledState=S,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(y),this._setAsyncValidators(p)}ngOnChanges(y){this._checkFormPresent(),y.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(On(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(y){const p=this.form.get(y.path);return Lr(p,y,this.callSetDisabledState),p.updateValueAndValidity({emitEvent:!1}),this.directives.push(y),p}getControl(y){return this.form.get(y.path)}removeControl(y){Jr(y.control||null,y,!1),function Me(F,d){const y=F.indexOf(d);y>-1&&F.splice(y,1)}(this.directives,y)}addFormGroup(y){this._setUpFormContainer(y)}removeFormGroup(y){this._cleanUpFormContainer(y)}getFormGroup(y){return this.form.get(y.path)}addFormArray(y){this._setUpFormContainer(y)}removeFormArray(y){this._cleanUpFormContainer(y)}getFormArray(y){return this.form.get(y.path)}updateModel(y,p){this.form.get(y.path).setValue(p)}onSubmit(y){return this.submitted=!0,function Y(F,d){F._syncPendingControls(),d.forEach(y=>{const p=y.control;"submit"===p.updateOn&&p._pendingChange&&(y.viewToModelUpdate(p._pendingValue),p._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(y),"dialog"===y?.target?.method}onReset(){this.resetForm()}resetForm(y){this.form.reset(y),this.submitted=!1}_updateDomValue(){this.directives.forEach(y=>{const p=y.control,S=this.form.get(y.path);p!==S&&(Jr(p||null,y),(F=>F instanceof wt)(S)&&(Lr(S,y,this.callSetDisabledState),y.control=S))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(y){const p=this.form.get(y.path);(function nr(F,d){pi(F,d)})(p,y),p.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(y){if(this.form){const p=this.form.get(y.path);p&&function Xt(F,d){return On(F,d)}(p,y)&&p.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pi(this.form,this),this._oldForm&&On(this._oldForm,this)}_checkFormPresent(){}}return F.\u0275fac=function(y){return new(y||F)(a.Y36(De,10),a.Y36(z,10),a.Y36(si,8))},F.\u0275dir=a.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(y,p){1&y&&a.NdJ("submit",function(G){return p.onSubmit(G)})("reset",function(){return p.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([bi]),a.qOj,a.TTD]}),F})();const Oi={provide:Tr,useExisting:(0,a.Gpc)(()=>Es)};let Es=(()=>{class F extends Tr{set isDisabled(y){}constructor(y,p,S,G,at){super(),this._ngModelWarningConfig=at,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=y,this._setValidators(p),this._setAsyncValidators(S),this.valueAccessor=oe(0,G)}ngOnChanges(y){this._added||this._setUpControl(),ti(y,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(y){this.viewModel=y,this.update.emit(y)}get path(){return vi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return F._ngModelWarningSentOnce=!1,F.\u0275fac=function(y){return new(y||F)(a.Y36(Lt,13),a.Y36(De,10),a.Y36(z,10),a.Y36(Xe,10),a.Y36(jo,8))},F.\u0275dir=a.lG2({type:F,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Oi]),a.qOj,a.TTD]}),F})();function xo(F){return"number"==typeof F?F:parseInt(F,10)}let ji=(()=>{class F{constructor(){this._validator=ye}ngOnChanges(y){if(this.inputName in y){const p=this.normalizeInput(y[this.inputName].currentValue);this._enabled=this.enabled(p),this._validator=this._enabled?this.createValidator(p):ye,this._onChange&&this._onChange()}}validate(y){return this._validator(y)}registerOnValidatorChange(y){this._onChange=y}enabled(y){return null!=y}}return F.\u0275fac=function(y){return new(y||F)},F.\u0275dir=a.lG2({type:F,features:[a.TTD]}),F})();const so={provide:De,useExisting:(0,a.Gpc)(()=>_o),multi:!0};let _o=(()=>{class F extends ji{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=y=>xe}enabled(y){return y}}return F.\u0275fac=function(){let d;return function(p){return(d||(d=a.n5z(F)))(p||F)}}(),F.\u0275dir=a.lG2({type:F,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(y,p){2&y&&a.uIk("required",p._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([so]),a.qOj]}),F})();const zo={provide:De,useExisting:(0,a.Gpc)(()=>Li),multi:!0};let Li=(()=>{class F extends ji{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=y=>xo(y),this.createValidator=y=>Ge(y)}}return F.\u0275fac=function(){let d;return function(p){return(d||(d=a.n5z(F)))(p||F)}}(),F.\u0275dir=a.lG2({type:F,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(y,p){2&y&&a.uIk("minlength",p._enabled?p.minlength:null)},inputs:{minlength:"minlength"},features:[a._Bn([zo]),a.qOj]}),F})();const ri={provide:De,useExisting:(0,a.Gpc)(()=>Ds),multi:!0};let Ds=(()=>{class F extends ji{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=y=>xo(y),this.createValidator=y=>fe(y)}}return F.\u0275fac=function(){let d;return function(p){return(d||(d=a.n5z(F)))(p||F)}}(),F.\u0275dir=a.lG2({type:F,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(y,p){2&y&&a.uIk("maxlength",p._enabled?p.maxlength:null)},inputs:{maxlength:"maxlength"},features:[a._Bn([ri]),a.qOj]}),F})(),Ln=(()=>{class F{}return F.\u0275fac=function(y){return new(y||F)},F.\u0275mod=a.oAB({type:F}),F.\u0275inj=a.cJS({imports:[hi]}),F})();class hs extends st{constructor(d,y,p){super($e(y),lt(p,y)),this.controls=d,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(d){return this.controls[this._adjustIndex(d)]}push(d,y={}){this.controls.push(d),this._registerControl(d),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}insert(d,y,p={}){this.controls.splice(d,0,y),this._registerControl(y),this.updateValueAndValidity({emitEvent:p.emitEvent})}removeAt(d,y={}){let p=this._adjustIndex(d);p<0&&(p=0),this.controls[p]&&this.controls[p]._registerOnCollectionChange(()=>{}),this.controls.splice(p,1),this.updateValueAndValidity({emitEvent:y.emitEvent})}setControl(d,y,p={}){let S=this._adjustIndex(d);S<0&&(S=0),this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),this.controls.splice(S,1),y&&(this.controls.splice(S,0,y),this._registerControl(y)),this.updateValueAndValidity({emitEvent:p.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(d,y={}){ce(this,!1,d),d.forEach((p,S)=>{Le(this,!1,S),this.at(S).setValue(p,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(d,y={}){null!=d&&(d.forEach((p,S)=>{this.at(S)&&this.at(S).patchValue(p,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(d=[],y={}){this._forEachChild((p,S)=>{p.reset(d[S],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this.controls.map(d=>d.getRawValue())}clear(d={}){this.controls.length<1||(this._forEachChild(y=>y._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:d.emitEvent}))}_adjustIndex(d){return d<0?d+this.length:d}_syncPendingControls(){let d=this.controls.reduce((y,p)=>!!p._syncPendingControls()||y,!1);return d&&this.updateValueAndValidity({onlySelf:!0}),d}_forEachChild(d){this.controls.forEach((y,p)=>{d(y,p)})}_updateValue(){this.value=this.controls.filter(d=>d.enabled||this.disabled).map(d=>d.value)}_anyControls(d){return this.controls.some(y=>y.enabled&&d(y))}_setUpControls(){this._forEachChild(d=>this._registerControl(d))}_allControlsDisabled(){for(const d of this.controls)if(d.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(d){d.setParent(this),d._registerOnCollectionChange(this._onCollectionChange)}_find(d){return this.at(d)??null}}function ts(F){return!!F&&(void 0!==F.asyncValidators||void 0!==F.validators||void 0!==F.updateOn)}let Wo=(()=>{class F{constructor(){this.useNonNullable=!1}get nonNullable(){const y=new F;return y.useNonNullable=!0,y}group(y,p=null){const S=this._reduceControls(y);let G={};return ts(p)?G=p:null!==p&&(G.validators=p.validator,G.asyncValidators=p.asyncValidator),new It(S,G)}record(y,p=null){const S=this._reduceControls(y);return new An(S,p)}control(y,p,S){let G={};return this.useNonNullable?(ts(p)?G=p:(G.validators=p,G.asyncValidators=S),new wt(y,{...G,nonNullable:!0})):new wt(y,p,S)}array(y,p,S){const G=y.map(at=>this._createControl(at));return new hs(G,p,S)}_reduceControls(y){const p={};return Object.keys(y).forEach(S=>{p[S]=this._createControl(y[S])}),p}_createControl(y){return y instanceof wt||y instanceof st?y:Array.isArray(y)?this.control(y[0],y.length>1?y[1]:null,y.length>2?y[2]:null):this.control(y)}}return F.\u0275fac=function(y){return new(y||F)},F.\u0275prov=a.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Ft=(()=>{class F{static withConfig(y){return{ngModule:F,providers:[{provide:si,useValue:y.callSetDisabledState??Qr}]}}}return F.\u0275fac=function(y){return new(y||F)},F.\u0275mod=a.oAB({type:F}),F.\u0275inj=a.cJS({imports:[Ln]}),F})(),Zn=(()=>{class F{static withConfig(y){return{ngModule:F,providers:[{provide:jo,useValue:y.warnOnNgModelWithFormControl??"always"},{provide:si,useValue:y.callSetDisabledState??Qr}]}}}return F.\u0275fac=function(y){return new(y||F)},F.\u0275mod=a.oAB({type:F}),F.\u0275inj=a.cJS({imports:[Ln]}),F})()},1481:(zt,rt,P)=>{"use strict";P.d(rt,{Dx:()=>fn,b2:()=>Tr,q6:()=>hr});var a=P(6895),k=P(4650);class x extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends x{static makeCurrent(){(0,a.HT)(new ie)}onAndCancel(Le,ce,st){return Le.addEventListener(ce,st,!1),()=>{Le.removeEventListener(ce,st,!1)}}dispatchEvent(Le,ce){Le.dispatchEvent(ce)}remove(Le){Le.parentNode&&Le.parentNode.removeChild(Le)}createElement(Le,ce){return(ce=ce||this.getDefaultDocument()).createElement(Le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Le){return Le.nodeType===Node.ELEMENT_NODE}isShadowRoot(Le){return Le instanceof DocumentFragment}getGlobalEventTarget(Le,ce){return"window"===ce?window:"document"===ce?Le:"body"===ce?Le.body:null}getBaseHref(Le){const ce=function pe(){return Ie=Ie||document.querySelector("base"),Ie?Ie.getAttribute("href"):null}();return null==ce?null:function he(Pe){ne=ne||document.createElement("a"),ne.setAttribute("href",Pe);const Le=ne.pathname;return"/"===Le.charAt(0)?Le:`/${Le}`}(ce)}resetBaseElement(){Ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(Le){return(0,a.Mx)(document.cookie,Le)}}let ne,Ie=null;const Te=new k.OlP("TRANSITION_ID"),le=[{provide:k.ip1,useFactory:function ae(Pe,Le,ce){return()=>{ce.get(k.CZH).donePromise.then(()=>{const st=(0,a.q)(),It=Le.querySelectorAll(`style[ng-transition="${Pe}"]`);for(let Rt=0;Rt<It.length;Rt++)st.remove(It[Rt])})}},deps:[Te,a.K0,k.zs3],multi:!0}];let Oe=(()=>{class Pe{build(){return new XMLHttpRequest}}return Pe.\u0275fac=function(ce){return new(ce||Pe)},Pe.\u0275prov=k.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const ke=new k.OlP("EventManagerPlugins");let Xe=(()=>{class Pe{constructor(ce,st){this._zone=st,this._eventNameToPlugin=new Map,ce.forEach(It=>{It.manager=this}),this._plugins=ce.slice().reverse()}addEventListener(ce,st,It){return this._findPluginFor(st).addEventListener(ce,st,It)}addGlobalEventListener(ce,st,It){return this._findPluginFor(st).addGlobalEventListener(ce,st,It)}getZone(){return this._zone}_findPluginFor(ce){const st=this._eventNameToPlugin.get(ce);if(st)return st;const It=this._plugins;for(let Rt=0;Rt<It.length;Rt++){const Tn=It[Rt];if(Tn.supports(ce))return this._eventNameToPlugin.set(ce,Tn),Tn}throw new Error(`No event manager plugin found for event ${ce}`)}}return Pe.\u0275fac=function(ce){return new(ce||Pe)(k.LFG(ke),k.LFG(k.R0b))},Pe.\u0275prov=k.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class ht{constructor(Le){this._doc=Le}addGlobalEventListener(Le,ce,st){const It=(0,a.q)().getGlobalEventTarget(this._doc,Le);if(!It)throw new Error(`Unsupported event target ${It} for event ${ce}`);return this.addEventListener(It,ce,st)}}let we=(()=>{class Pe{constructor(){this.usageCount=new Map}addStyles(ce){for(const st of ce)1===this.changeUsageCount(st,1)&&this.onStyleAdded(st)}removeStyles(ce){for(const st of ce)0===this.changeUsageCount(st,-1)&&this.onStyleRemoved(st)}onStyleRemoved(ce){}onStyleAdded(ce){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ce,st){const It=this.usageCount;let Rt=It.get(ce)??0;return Rt+=st,Rt>0?It.set(ce,Rt):It.delete(ce),Rt}ngOnDestroy(){for(const ce of this.getAllStyles())this.onStyleRemoved(ce);this.usageCount.clear()}}return Pe.\u0275fac=function(ce){return new(ce||Pe)},Pe.\u0275prov=k.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),de=(()=>{class Pe extends we{constructor(ce){super(),this.doc=ce,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ce){for(const st of this.hostNodes)this.addStyleToHost(st,ce)}onStyleRemoved(ce){const st=this.styleRef;st.get(ce)?.forEach(Rt=>Rt.remove()),st.delete(ce)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ce){this.hostNodes.add(ce);for(const st of this.getAllStyles())this.addStyleToHost(ce,st)}removeHost(ce){this.hostNodes.delete(ce)}addStyleToHost(ce,st){const It=this.doc.createElement("style");It.textContent=st,ce.appendChild(It);const Rt=this.styleRef.get(st);Rt?Rt.push(It):this.styleRef.set(st,[It])}resetHostNodes(){const ce=this.hostNodes;ce.clear(),ce.add(this.doc.head)}}return Pe.\u0275fac=function(ce){return new(ce||Pe)(k.LFG(a.K0))},Pe.\u0275prov=k.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const ee={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ze=/%COMP%/g,z=new k.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ce(Pe,Le){return Le.flat(100).map(ce=>ce.replace(Ze,Pe))}function se(Pe){return Le=>{if("__ngUnwrap__"===Le)return Pe;!1===Pe(Le)&&(Le.preventDefault(),Le.returnValue=!1)}}let xe=(()=>{class Pe{constructor(ce,st,It,Rt){this.eventManager=ce,this.sharedStylesHost=st,this.appId=It,this.removeStylesOnCompDestory=Rt,this.rendererByCompId=new Map,this.defaultRenderer=new Se(ce)}createRenderer(ce,st){if(!ce||!st)return this.defaultRenderer;const It=this.getOrCreateRenderer(ce,st);return It instanceof ze?It.applyToHost(ce):It instanceof ye&&It.applyStyles(),It}getOrCreateRenderer(ce,st){const It=this.rendererByCompId;let Rt=It.get(st.id);if(!Rt){const Tn=this.eventManager,An=this.sharedStylesHost,Yn=this.removeStylesOnCompDestory;switch(st.encapsulation){case k.ifc.Emulated:Rt=new ze(Tn,An,st,this.appId,Yn);break;case k.ifc.ShadowDom:return new me(Tn,An,ce,st);default:Rt=new ye(Tn,An,st,Yn)}Rt.onDestroy=()=>It.delete(st.id),It.set(st.id,Rt)}return Rt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Pe.\u0275fac=function(ce){return new(ce||Pe)(k.LFG(Xe),k.LFG(de),k.LFG(k.AFp),k.LFG(z))},Pe.\u0275prov=k.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class Se{constructor(Le){this.eventManager=Le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Le,ce){return ce?document.createElementNS(ee[ce]||ce,Le):document.createElement(Le)}createComment(Le){return document.createComment(Le)}createText(Le){return document.createTextNode(Le)}appendChild(Le,ce){(fe(Le)?Le.content:Le).appendChild(ce)}insertBefore(Le,ce,st){Le&&(fe(Le)?Le.content:Le).insertBefore(ce,st)}removeChild(Le,ce){Le&&Le.removeChild(ce)}selectRootElement(Le,ce){let st="string"==typeof Le?document.querySelector(Le):Le;if(!st)throw new Error(`The selector "${Le}" did not match any elements`);return ce||(st.textContent=""),st}parentNode(Le){return Le.parentNode}nextSibling(Le){return Le.nextSibling}setAttribute(Le,ce,st,It){if(It){ce=It+":"+ce;const Rt=ee[It];Rt?Le.setAttributeNS(Rt,ce,st):Le.setAttribute(ce,st)}else Le.setAttribute(ce,st)}removeAttribute(Le,ce,st){if(st){const It=ee[st];It?Le.removeAttributeNS(It,ce):Le.removeAttribute(`${st}:${ce}`)}else Le.removeAttribute(ce)}addClass(Le,ce){Le.classList.add(ce)}removeClass(Le,ce){Le.classList.remove(ce)}setStyle(Le,ce,st,It){It&(k.JOm.DashCase|k.JOm.Important)?Le.style.setProperty(ce,st,It&k.JOm.Important?"important":""):Le.style[ce]=st}removeStyle(Le,ce,st){st&k.JOm.DashCase?Le.style.removeProperty(ce):Le.style[ce]=""}setProperty(Le,ce,st){Le[ce]=st}setValue(Le,ce){Le.nodeValue=ce}listen(Le,ce,st){return"string"==typeof Le?this.eventManager.addGlobalEventListener(Le,ce,se(st)):this.eventManager.addEventListener(Le,ce,se(st))}}function fe(Pe){return"TEMPLATE"===Pe.tagName&&void 0!==Pe.content}class me extends Se{constructor(Le,ce,st,It){super(Le),this.sharedStylesHost=ce,this.hostEl=st,this.shadowRoot=st.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Rt=Ce(It.id,It.styles);for(const Tn of Rt){const An=document.createElement("style");An.textContent=Tn,this.shadowRoot.appendChild(An)}}nodeOrShadowRoot(Le){return Le===this.hostEl?this.shadowRoot:Le}appendChild(Le,ce){return super.appendChild(this.nodeOrShadowRoot(Le),ce)}insertBefore(Le,ce,st){return super.insertBefore(this.nodeOrShadowRoot(Le),ce,st)}removeChild(Le,ce){return super.removeChild(this.nodeOrShadowRoot(Le),ce)}parentNode(Le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Le)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ye extends Se{constructor(Le,ce,st,It,Rt=st.id){super(Le),this.sharedStylesHost=ce,this.removeStylesOnCompDestory=It,this.rendererUsageCount=0,this.styles=Ce(Rt,st.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ze extends ye{constructor(Le,ce,st,It,Rt){const Tn=It+"-"+st.id;super(Le,ce,st,Rt,Tn),this.contentAttr=function Be(Pe){return"_ngcontent-%COMP%".replace(Ze,Pe)}(Tn),this.hostAttr=function X(Pe){return"_nghost-%COMP%".replace(Ze,Pe)}(Tn)}applyToHost(Le){this.applyStyles(),this.setAttribute(Le,this.hostAttr,"")}createElement(Le,ce){const st=super.createElement(Le,ce);return super.setAttribute(st,this.contentAttr,""),st}}let Re=(()=>{class Pe extends ht{constructor(ce){super(ce)}supports(ce){return!0}addEventListener(ce,st,It){return ce.addEventListener(st,It,!1),()=>this.removeEventListener(ce,st,It)}removeEventListener(ce,st,It){return ce.removeEventListener(st,It)}}return Pe.\u0275fac=function(ce){return new(ce||Pe)(k.LFG(a.K0))},Pe.\u0275prov=k.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const Ye=["alt","control","meta","shift"],Fe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dt={alt:Pe=>Pe.altKey,control:Pe=>Pe.ctrlKey,meta:Pe=>Pe.metaKey,shift:Pe=>Pe.shiftKey};let vt=(()=>{class Pe extends ht{constructor(ce){super(ce)}supports(ce){return null!=Pe.parseEventName(ce)}addEventListener(ce,st,It){const Rt=Pe.parseEventName(st),Tn=Pe.eventCallback(Rt.fullKey,It,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(ce,Rt.domEventName,Tn))}static parseEventName(ce){const st=ce.toLowerCase().split("."),It=st.shift();if(0===st.length||"keydown"!==It&&"keyup"!==It)return null;const Rt=Pe._normalizeKey(st.pop());let Tn="",An=st.indexOf("code");if(An>-1&&(st.splice(An,1),Tn="code."),Ye.forEach(si=>{const Qr=st.indexOf(si);Qr>-1&&(st.splice(Qr,1),Tn+=si+".")}),Tn+=Rt,0!=st.length||0===Rt.length)return null;const Yn={};return Yn.domEventName=It,Yn.fullKey=Tn,Yn}static matchEventFullKeyCode(ce,st){let It=Fe[ce.key]||ce.key,Rt="";return st.indexOf("code.")>-1&&(It=ce.code,Rt="code."),!(null==It||!It)&&(It=It.toLowerCase()," "===It?It="space":"."===It&&(It="dot"),Ye.forEach(Tn=>{Tn!==It&&(0,Dt[Tn])(ce)&&(Rt+=Tn+".")}),Rt+=It,Rt===st)}static eventCallback(ce,st,It){return Rt=>{Pe.matchEventFullKeyCode(Rt,ce)&&It.runGuarded(()=>st(Rt))}}static _normalizeKey(ce){return"esc"===ce?"escape":ce}}return Pe.\u0275fac=function(ce){return new(ce||Pe)(k.LFG(a.K0))},Pe.\u0275prov=k.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const hr=(0,k.eFA)(k._c5,"browser",[{provide:k.Lbi,useValue:a.bD},{provide:k.g9A,useValue:function Cn(){ie.makeCurrent()},multi:!0},{provide:a.K0,useFactory:function jn(){return(0,k.RDi)(document),document},deps:[]}]),pn=new k.OlP(""),Hn=[{provide:k.rWj,useClass:class ue{addToWindow(Le){k.dqk.getAngularTestability=(st,It=!0)=>{const Rt=Le.findTestabilityInTree(st,It);if(null==Rt)throw new Error("Could not find testability for element.");return Rt},k.dqk.getAllAngularTestabilities=()=>Le.getAllTestabilities(),k.dqk.getAllAngularRootElements=()=>Le.getAllRootElements(),k.dqk.frameworkStabilizers||(k.dqk.frameworkStabilizers=[]),k.dqk.frameworkStabilizers.push(st=>{const It=k.dqk.getAllAngularTestabilities();let Rt=It.length,Tn=!1;const An=function(Yn){Tn=Tn||Yn,Rt--,0==Rt&&st(Tn)};It.forEach(function(Yn){Yn.whenStable(An)})})}findTestabilityInTree(Le,ce,st){return null==ce?null:Le.getTestability(ce)??(st?(0,a.q)().isShadowRoot(ce)?this.findTestabilityInTree(Le,ce.host,!0):this.findTestabilityInTree(Le,ce.parentElement,!0):null)}},deps:[]},{provide:k.lri,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]},{provide:k.dDg,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]}],Lt=[{provide:k.zSh,useValue:"root"},{provide:k.qLn,useFactory:function Kt(){return new k.qLn},deps:[]},{provide:ke,useClass:Re,multi:!0,deps:[a.K0,k.R0b,k.Lbi]},{provide:ke,useClass:vt,multi:!0,deps:[a.K0]},{provide:xe,useClass:xe,deps:[Xe,de,k.AFp,z]},{provide:k.FYo,useExisting:xe},{provide:we,useExisting:de},{provide:de,useClass:de,deps:[a.K0]},{provide:Xe,useClass:Xe,deps:[ke,k.R0b]},{provide:a.JF,useClass:Oe,deps:[]},[]];let Tr=(()=>{class Pe{constructor(ce){}static withServerTransition(ce){return{ngModule:Pe,providers:[{provide:k.AFp,useValue:ce.appId},{provide:Te,useExisting:k.AFp},le]}}}return Pe.\u0275fac=function(ce){return new(ce||Pe)(k.LFG(pn,12))},Pe.\u0275mod=k.oAB({type:Pe}),Pe.\u0275inj=k.cJS({providers:[...Lt,...Hn],imports:[a.ez,k.hGG]}),Pe})(),fn=(()=>{class Pe{constructor(ce){this._doc=ce}getTitle(){return this._doc.title}setTitle(ce){this._doc.title=ce||""}}return Pe.\u0275fac=function(ce){return new(ce||Pe)(k.LFG(a.K0))},Pe.\u0275prov=k.Yz7({token:Pe,factory:function(ce){let st=null;return st=ce?new ce:function sr(){return new fn((0,k.LFG)(a.K0))}(),st},providedIn:"root"}),Pe})();typeof window<"u"&&window},2435:(zt,rt,P)=>{"use strict";P.d(rt,{gz:()=>Ui,y6:()=>qi,OD:()=>wt,eC:()=>Kt,wm:()=>Yl,wN:()=>Da,F0:()=>Ci,rH:()=>Ss,Bz:()=>el,Hx:()=>gn});var a=P(4650),k=P(8996),x=P(9646),ie=P(1135),Ie=P(6805),pe=P(9751),ne=P(4742),he=P(4671),Te=P(3268),ae=P(7669),le=P(1810),ue=P(5403),Oe=P(9672);function ke(...D){const w=(0,ae.yG)(D),_=(0,ae.jO)(D),{args:A,keys:L}=(0,ne.D)(D);if(0===A.length)return(0,k.D)([],w);const W=new pe.y(function Xe(D,w,_=he.y){return A=>{ht(w,()=>{const{length:L}=D,W=new Array(L);let J=L,Qe=L;for(let xt=0;xt<L;xt++)ht(w,()=>{const en=(0,k.D)(D[xt],w);let dn=!1;en.subscribe((0,ue.x)(A,cr=>{W[xt]=cr,dn||(dn=!0,Qe--),Qe||A.next(_(W.slice()))},()=>{--J||A.complete()}))},A)},A)}}(A,w,L?J=>(0,le.n)(L,J):he.y));return _?W.pipe((0,Te.Z)(_)):W}function ht(D,w,_){D?(0,Oe.f)(_,D,w):w()}var we=P(7272),de=P(8421);function ee(D){return new pe.y(w=>{(0,de.Xf)(D()).subscribe(w)})}var Ze=P(9635),Ke=P(576);function je(D,w){const _=(0,Ke.m)(D)?D:()=>D,A=L=>L.error(_());return new pe.y(w?L=>w.schedule(A,0,L):A)}var Ve=P(515),_e=P(727),De=P(4482);function z(){return(0,De.e)((D,w)=>{let _=null;D._refCount++;const A=(0,ue.x)(w,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(_=null);const L=D._connection,W=_;_=null,L&&(!W||L===W)&&L.unsubscribe(),w.unsubscribe()});D.subscribe(A),A.closed||(_=D.connect())})}class Be extends pe.y{constructor(w,_){super(),this.source=w,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,De.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new _e.w0;const _=this.getSubject();w.add(this.source.subscribe((0,ue.x)(_,void 0,()=>{this._teardown(),_.complete()},A=>{this._teardown(),_.error(A)},()=>this._teardown()))),w.closed&&(this._connection=null,w=_e.w0.EMPTY)}return w}refCount(){return z()(this)}}var X=P(7579),Ce=P(6895),se=P(4004),xe=P(3900),Se=P(5698),We=P(8675),Ge=P(9300),fe=P(5577),me=P(590);function ye(D,w){return(0,Ke.m)(w)?(0,fe.z)(D,w,1):(0,fe.z)(D,1)}var ze=P(8505);function Re(D){return(0,De.e)((w,_)=>{let W,A=null,L=!1;A=w.subscribe((0,ue.x)(_,void 0,void 0,J=>{W=(0,de.Xf)(D(J,Re(D)(w))),A?(A.unsubscribe(),A=null,W.subscribe(_)):L=!0})),L&&(A.unsubscribe(),A=null,W.subscribe(_))})}var Ye=P(5026);function Fe(D){return D<=0?()=>Ve.E:(0,De.e)((w,_)=>{let A=[];w.subscribe((0,ue.x)(_,L=>{A.push(L),D<A.length&&A.shift()},()=>{for(const L of A)_.next(L);_.complete()},void 0,()=>{A=null}))})}var Dt=P(8068),vt=P(6590);function bt(D,w){const _=arguments.length>=2;return A=>A.pipe(D?(0,Ge.h)((L,W)=>D(L,W,A)):he.y,Fe(1),_?(0,vt.d)(w):(0,Dt.T)(()=>new Ie.K))}function hn(D){return(0,De.e)((w,_)=>{try{w.subscribe(_)}finally{_.add(D)}})}var In=P(8189),Cn=P(1481);const Kt="primary",jn=Symbol("RouteTitle");class er{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const _=this.params[w];return Array.isArray(_)?_[0]:_}return null}getAll(w){if(this.has(w)){const _=this.params[w];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function hr(D){return new er(D)}function pn(D,w,_){const A=_.path.split("/");if(A.length>D.length||"full"===_.pathMatch&&(w.hasChildren()||A.length<D.length))return null;const L={};for(let W=0;W<A.length;W++){const J=A[W],Qe=D[W];if(J.startsWith(":"))L[J.substring(1)]=Qe;else if(J!==Qe.path)return null}return{consumed:D.slice(0,A.length),posParams:L}}function Lt(D,w){const _=D?Object.keys(D):void 0,A=w?Object.keys(w):void 0;if(!_||!A||_.length!=A.length)return!1;let L;for(let W=0;W<_.length;W++)if(L=_[W],!Tr(D[L],w[L]))return!1;return!0}function Tr(D,w){if(Array.isArray(D)&&Array.isArray(w)){if(D.length!==w.length)return!1;const _=[...D].sort(),A=[...w].sort();return _.every((L,W)=>A[W]===L)}return D===w}function gr(D){return Array.prototype.concat.apply([],D)}function mr(D){return D.length>0?D[D.length-1]:null}function sr(D,w){for(const _ in D)D.hasOwnProperty(_)&&w(D[_],_)}function fn(D){return(0,a.CqO)(D)?D:(0,a.QGY)(D)?(0,k.D)(Promise.resolve(D)):(0,x.of)(D)}const on=!1,un={exact:function Ot(D,w,_){if(!Ct(D.segments,w.segments)||!Ur(D.segments,w.segments,_)||D.numberOfChildren!==w.numberOfChildren)return!1;for(const A in w.children)if(!D.children[A]||!Ot(D.children[A],w.children[A],_))return!1;return!0},subset:fi},Xr={exact:function vr(D,w){return Lt(D,w)},subset:function Vr(D,w){return Object.keys(w).length<=Object.keys(D).length&&Object.keys(w).every(_=>Tr(D[_],w[_]))},ignored:()=>!0};function ln(D,w,_){return un[_.paths](D.root,w.root,_.matrixParams)&&Xr[_.queryParams](D.queryParams,w.queryParams)&&!("exact"===_.fragment&&D.fragment!==w.fragment)}function fi(D,w,_){return tr(D,w,w.segments,_)}function tr(D,w,_,A){if(D.segments.length>_.length){const L=D.segments.slice(0,_.length);return!(!Ct(L,_)||w.hasChildren()||!Ur(L,_,A))}if(D.segments.length===_.length){if(!Ct(D.segments,_)||!Ur(D.segments,_,A))return!1;for(const L in w.children)if(!D.children[L]||!fi(D.children[L],w.children[L],A))return!1;return!0}{const L=_.slice(0,D.segments.length),W=_.slice(D.segments.length);return!!(Ct(D.segments,L)&&Ur(D.segments,L,A)&&D.children[Kt])&&tr(D.children[Kt],w,W,A)}}function Ur(D,w,_){return w.every((A,L)=>Xr[_](D[L].parameters,A.parameters))}class $n{constructor(w=new Sn([],{}),_={},A=null){this.root=w,this.queryParams=_,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return bn.serialize(this)}}class Sn{constructor(w,_){this.segments=w,this.children=_,this.parent=null,sr(_,(A,L)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ar(this)}}class Fr{constructor(w,_){this.path=w,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=hr(this.parameters)),this._parameterMap}toString(){return Le(this)}}function Ct(D,w){return D.length===w.length&&D.every((_,A)=>_.path===w[A].path)}let gn=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=a.Yz7({token:D,factory:function(){return new Dn},providedIn:"root"}),D})();class Dn{parse(w){const _=new Qr(w);return new $n(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(w){const _=`/${Ae(w.root,!0)}`,A=function st(D){const w=Object.keys(D).map(_=>{const A=D[_];return Array.isArray(A)?A.map(L=>`${$e(_)}=${$e(L)}`).join("&"):`${$e(_)}=${$e(A)}`}).filter(_=>!!_);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${_}${A}${"string"==typeof w.fragment?`#${function Et(D){return encodeURI(D)}(w.fragment)}`:""}`}}const bn=new Dn;function ar(D){return D.segments.map(w=>Le(w)).join("/")}function Ae(D,w){if(!D.hasChildren())return ar(D);if(w){const _=D.children[Kt]?Ae(D.children[Kt],!1):"",A=[];return sr(D.children,(L,W)=>{W!==Kt&&A.push(`${W}:${Ae(L,!1)}`)}),A.length>0?`${_}(${A.join("//")})`:_}{const _=function Jt(D,w){let _=[];return sr(D.children,(A,L)=>{L===Kt&&(_=_.concat(w(A,L)))}),sr(D.children,(A,L)=>{L!==Kt&&(_=_.concat(w(A,L)))}),_}(D,(A,L)=>L===Kt?[Ae(D.children[Kt],!1)]:[`${L}:${Ae(A,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Kt]?`${ar(D)}/${_[0]}`:`${ar(D)}/(${_.join("//")})`}}function ge(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $e(D){return ge(D).replace(/%3B/gi,";")}function lt(D){return ge(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zt(D){return decodeURIComponent(D)}function Pe(D){return Zt(D.replace(/\+/g,"%20"))}function Le(D){return`${lt(D.path)}${function ce(D){return Object.keys(D).map(w=>`;${lt(w)}=${lt(D[w])}`).join("")}(D.parameters)}`}const It=/^[^\/()?;=#]+/;function Rt(D){const w=D.match(It);return w?w[0]:""}const Tn=/^[^=?&#]+/,Yn=/^[^&#]+/;class Qr{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sn([],{}):new Sn([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(w.length>0||Object.keys(_).length>0)&&(A[Kt]=new Sn(w,_)),A}parseSegment(){const w=Rt(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new a.vHH(4009,on);return this.capture(w),new Fr(Zt(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const _=Rt(this.remaining);if(!_)return;this.capture(_);let A="";if(this.consumeOptional("=")){const L=Rt(this.remaining);L&&(A=L,this.capture(A))}w[Zt(_)]=Zt(A)}parseQueryParam(w){const _=function An(D){const w=D.match(Tn);return w?w[0]:""}(this.remaining);if(!_)return;this.capture(_);let A="";if(this.consumeOptional("=")){const J=function si(D){const w=D.match(Yn);return w?w[0]:""}(this.remaining);J&&(A=J,this.capture(A))}const L=Pe(_),W=Pe(A);if(w.hasOwnProperty(L)){let J=w[L];Array.isArray(J)||(J=[J],w[L]=J),J.push(W)}else w[L]=W}parseParens(w){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Rt(this.remaining),L=this.remaining[A.length];if("/"!==L&&")"!==L&&";"!==L)throw new a.vHH(4010,on);let W;A.indexOf(":")>-1?(W=A.slice(0,A.indexOf(":")),this.capture(W),this.capture(":")):w&&(W=Kt);const J=this.parseChildren();_[W]=1===Object.keys(J).length?J[Kt]:new Sn([],J),this.consumeOptional("//")}return _}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new a.vHH(4011,on)}}function vi(D){return D.segments.length>0?new Sn([],{[Kt]:D}):D}function Lr(D){const w={};for(const A of Object.keys(D.children)){const W=Lr(D.children[A]);(W.segments.length>0||W.hasChildren())&&(w[A]=W)}return function Jr(D){if(1===D.numberOfChildren&&D.children[Kt]){const w=D.children[Kt];return new Sn(D.segments.concat(w.segments),w.children)}return D}(new Sn(D.segments,w))}function ir(D){return D instanceof $n}const Mi=!1;function lr(D,w,_,A,L){if(0===_.length)return nr(w.root,w.root,w.root,A,L);const W=function fr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Pn(!0,0,D);let w=0,_=!1;const A=D.reduce((L,W,J)=>{if("object"==typeof W&&null!=W){if(W.outlets){const Qe={};return sr(W.outlets,(xt,en)=>{Qe[en]="string"==typeof xt?xt.split("/"):xt}),[...L,{outlets:Qe}]}if(W.segmentPath)return[...L,W.segmentPath]}return"string"!=typeof W?[...L,W]:0===J?(W.split("/").forEach((Qe,xt)=>{0==xt&&"."===Qe||(0==xt&&""===Qe?_=!0:".."===Qe?w++:""!=Qe&&L.push(Qe))}),L):[...L,W]},[]);return new Pn(_,w,A)}(_);return W.toRoot()?nr(w.root,w.root,new Sn([],{}),A,L):function J(xt){const en=function Pr(D,w,_,A){if(D.isAbsolute)return new Sr(w.root,!0,0);if(-1===A)return new Sr(_,_===w.root,0);return function ti(D,w,_){let A=D,L=w,W=_;for(;W>L;){if(W-=L,A=A.parent,!A)throw new a.vHH(4005,Mi&&"Invalid number of '../'");L=A.segments.length}return new Sr(A,!1,L-W)}(_,A+(jr(D.commands[0])?0:1),D.numberOfDoubleDots)}(W,w,D.snapshot?._urlSegment,xt),dn=en.processChildren?oe(en.segmentGroup,en.index,W.commands):Y(en.segmentGroup,en.index,W.commands);return nr(w.root,en.segmentGroup,dn,A,L)}(D.snapshot?._lastPathIndex)}function jr(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Rr(D){return"object"==typeof D&&null!=D&&D.outlets}function nr(D,w,_,A,L){let J,W={};A&&sr(A,(xt,en)=>{W[en]=Array.isArray(xt)?xt.map(dn=>`${dn}`):`${xt}`}),J=D===w?_:Xt(D,w,_);const Qe=vi(Lr(J));return new $n(Qe,W,L)}function Xt(D,w,_){const A={};return sr(D.children,(L,W)=>{A[W]=L===w?_:Xt(L,w,_)}),new Sn(D.segments,A)}class Pn{constructor(w,_,A){if(this.isAbsolute=w,this.numberOfDoubleDots=_,this.commands=A,w&&A.length>0&&jr(A[0]))throw new a.vHH(4003,Mi&&"Root segment cannot have matrix parameters");const L=A.find(Rr);if(L&&L!==mr(A))throw new a.vHH(4004,Mi&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sr{constructor(w,_,A){this.segmentGroup=w,this.processChildren=_,this.index=A}}function Y(D,w,_){if(D||(D=new Sn([],{})),0===D.segments.length&&D.hasChildren())return oe(D,w,_);const A=function Me(D,w,_){let A=0,L=w;const W={match:!1,pathIndex:0,commandIndex:0};for(;L<D.segments.length;){if(A>=_.length)return W;const J=D.segments[L],Qe=_[A];if(Rr(Qe))break;const xt=`${Qe}`,en=A<_.length-1?_[A+1]:null;if(L>0&&void 0===xt)break;if(xt&&en&&"object"==typeof en&&void 0===en.outlets){if(!Ue(xt,en,J))return W;A+=2}else{if(!Ue(xt,{},J))return W;A++}L++}return{match:!0,pathIndex:L,commandIndex:A}}(D,w,_),L=_.slice(A.commandIndex);if(A.match&&A.pathIndex<D.segments.length){const W=new Sn(D.segments.slice(0,A.pathIndex),{});return W.children[Kt]=new Sn(D.segments.slice(A.pathIndex),D.children),oe(W,0,L)}return A.match&&0===L.length?new Sn(D.segments,{}):A.match&&!D.hasChildren()?Je(D,w,_):A.match?oe(D,0,L):Je(D,w,_)}function oe(D,w,_){if(0===_.length)return new Sn(D.segments,{});{const A=function _r(D){return Rr(D[0])?D[0].outlets:{[Kt]:D}}(_),L={};return!A[Kt]&&D.children[Kt]&&1===D.numberOfChildren&&0===D.children[Kt].segments.length?oe(D.children[Kt],w,_):(sr(A,(W,J)=>{"string"==typeof W&&(W=[W]),null!==W&&(L[J]=Y(D.children[J],w,W))}),sr(D.children,(W,J)=>{void 0===A[J]&&(L[J]=W)}),new Sn(D.segments,L))}}function Je(D,w,_){const A=D.segments.slice(0,w);let L=0;for(;L<_.length;){const W=_[L];if(Rr(W)){const xt=yt(W.outlets);return new Sn(A,xt)}if(0===L&&jr(_[0])){A.push(new Fr(D.segments[w].path,re(_[0]))),L++;continue}const J=Rr(W)?W.outlets[Kt]:`${W}`,Qe=L<_.length-1?_[L+1]:null;J&&Qe&&jr(Qe)?(A.push(new Fr(J,re(Qe))),L+=2):(A.push(new Fr(J,{})),L++)}return new Sn(A,{})}function yt(D){const w={};return sr(D,(_,A)=>{"string"==typeof _&&(_=[_]),null!==_&&(w[A]=Je(new Sn([],{}),0,_))}),w}function re(D){const w={};return sr(D,(_,A)=>w[A]=`${_}`),w}function Ue(D,w,_){return D==_.path&&Lt(w,_.parameters)}const et="imperative";class ft{constructor(w,_){this.id=w,this.url=_}}class wt extends ft{constructor(w,_,A="imperative",L=null){super(w,_),this.type=0,this.navigationTrigger=A,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jt extends ft{constructor(w,_,A){super(w,_),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cn extends ft{constructor(w,_,A,L){super(w,_),this.reason=A,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mn extends ft{constructor(w,_,A,L){super(w,_),this.reason=A,this.code=L,this.type=16}}class Mn extends ft{constructor(w,_,A,L){super(w,_),this.error=A,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hr extends ft{constructor(w,_,A,L){super(w,_),this.urlAfterRedirects=A,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends ft{constructor(w,_,A,L){super(w,_),this.urlAfterRedirects=A,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class He extends ft{constructor(w,_,A,L,W){super(w,_),this.urlAfterRedirects=A,this.state=L,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ot extends ft{constructor(w,_,A,L){super(w,_),this.urlAfterRedirects=A,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class At extends ft{constructor(w,_,A,L){super(w,_),this.urlAfterRedirects=A,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ht{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sn{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vn{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ur{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xi{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ri{constructor(w,_,A){this.routerEvent=w,this.position=_,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ws=(()=>{class D{createUrlTree(_,A,L,W,J,Qe){return lr(_||A.root,L,W,J,Qe)}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac}),D})(),To=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=a.Yz7({token:D,factory:function(w){return Ws.\u0275fac(w)},providedIn:"root"}),D})();class Jo{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const _=this.pathFromRoot(w);return _.length>1?_[_.length-2]:null}children(w){const _=jo(w,this._root);return _?_.children.map(A=>A.value):[]}firstChild(w){const _=jo(w,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(w){const _=Wi(w,this._root);return _.length<2?[]:_[_.length-2].children.map(L=>L.value).filter(L=>L!==w)}pathFromRoot(w){return Wi(w,this._root).map(_=>_.value)}}function jo(D,w){if(D===w.value)return w;for(const _ of w.children){const A=jo(D,_);if(A)return A}return null}function Wi(D,w){if(D===w.value)return[w];for(const _ of w.children){const A=Wi(D,_);if(A.length)return A.unshift(w),A}return[]}class Di{constructor(w,_){this.value=w,this.children=_}toString(){return`TreeNode(${this.value})`}}function bi(D){const w={};return D&&D.children.forEach(_=>w[_.value.outlet]=_),w}class So extends Jo{constructor(w,_){super(w),this.snapshot=_,Ao(this,w)}toString(){return this.snapshot.toString()}}function cs(D,w){const _=function mo(D,w){const J=new Oi([],{},{},"",{},Kt,w,null,D.root,-1,{});return new Es("",new Di(J,[]))}(D,w),A=new ie.X([new Fr("",{})]),L=new ie.X({}),W=new ie.X({}),J=new ie.X({}),Qe=new ie.X(""),xt=new Ui(A,L,J,Qe,W,Kt,w,_.root);return xt.snapshot=_.root,new So(new Di(xt,[]),_)}class Ui{constructor(w,_,A,L,W,J,Qe,xt){this.url=w,this.params=_,this.queryParams=A,this.fragment=L,this.data=W,this.outlet=J,this.component=Qe,this.title=this.data?.pipe((0,se.U)(en=>en[jn]))??(0,x.of)(void 0),this._futureSnapshot=xt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,se.U)(w=>hr(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,se.U)(w=>hr(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ki(D,w="emptyOnly"){const _=D.pathFromRoot;let A=0;if("always"!==w)for(A=_.length-1;A>=1;){const L=_[A],W=_[A-1];if(L.routeConfig&&""===L.routeConfig.path)A--;else{if(W.component)break;A--}}return function yo(D){return D.reduce((w,_)=>({params:{...w.params,..._.params},data:{...w.data,..._.data},resolve:{..._.data,...w.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(A))}class Oi{get title(){return this.data?.[jn]}constructor(w,_,A,L,W,J,Qe,xt,en,dn,cr){this.url=w,this.params=_,this.queryParams=A,this.fragment=L,this.data=W,this.outlet=J,this.component=Qe,this.routeConfig=xt,this._urlSegment=en,this._lastPathIndex=dn,this._resolve=cr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Es extends Jo{constructor(w,_){super(_),this.url=w,Ao(this,_)}toString(){return Mo(this._root)}}function Ao(D,w){w.value._routerState=D,w.children.forEach(_=>Ao(D,_))}function Mo(D){const w=D.children.length>0?` { ${D.children.map(Mo).join(", ")} } `:"";return`${D.value}${w}`}function ni(D){if(D.snapshot){const w=D.snapshot,_=D._futureSnapshot;D.snapshot=_,Lt(w.queryParams,_.queryParams)||D.queryParams.next(_.queryParams),w.fragment!==_.fragment&&D.fragment.next(_.fragment),Lt(w.params,_.params)||D.params.next(_.params),function Hn(D,w){if(D.length!==w.length)return!1;for(let _=0;_<D.length;++_)if(!Lt(D[_],w[_]))return!1;return!0}(w.url,_.url)||D.url.next(_.url),Lt(w.data,_.data)||D.data.next(_.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function Pi(D,w){const _=Lt(D.params,w.params)&&function Gt(D,w){return Ct(D,w)&&D.every((_,A)=>Lt(_.parameters,w[A].parameters))}(D.url,w.url);return _&&!(!D.parent!=!w.parent)&&(!D.parent||Pi(D.parent,w.parent))}function wi(D,w,_){if(_&&D.shouldReuseRoute(w.value,_.value.snapshot)){const A=_.value;A._futureSnapshot=w.value;const L=function es(D,w,_){return w.children.map(A=>{for(const L of _.children)if(D.shouldReuseRoute(A.value,L.value.snapshot))return wi(D,A,L);return wi(D,A)})}(D,w,_);return new Di(A,L)}{if(D.shouldAttach(w.value)){const W=D.retrieve(w.value);if(null!==W){const J=W.route;return J.value._futureSnapshot=w.value,J.children=w.children.map(Qe=>wi(D,Qe)),J}}const A=function br(D){return new Ui(new ie.X(D.url),new ie.X(D.params),new ie.X(D.queryParams),new ie.X(D.fragment),new ie.X(D.data),D.outlet,D.component,D)}(w.value),L=w.children.map(W=>wi(D,W));return new Di(A,L)}}const gi="ngNavigationCancelingError";function vo(D,w){const{redirectTo:_,navigationBehaviorOptions:A}=ir(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,L=Yi(!1,0,w);return L.url=_,L.navigationBehaviorOptions=A,L}function Yi(D,w,_){const A=new Error("NavigationCancelingError: "+(D||""));return A[gi]=!0,A.cancellationCode=w,_&&(A.url=_),A}function xo(D){return Ni(D)&&ir(D.url)}function Ni(D){return D&&D[gi]}class ji{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new qi,this.attachRef=null}}let qi=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(_,A){const L=this.getOrCreateContext(_);L.outlet=A,this.contexts.set(_,L)}onChildOutletDestroyed(_){const A=this.getContext(_);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let A=this.getContext(_);return A||(A=new ji,this.contexts.set(_,A)),A}getContext(_){return this.contexts.get(_)||null}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Go=!1;let _i=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Kt,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(qi),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(_){if(_.name){const{firstChange:A,previousValue:L}=_.name;if(A)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Go);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Go);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Go);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,A){this.activated=_,this._activatedRoute=A,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,A){if(this.isActivated)throw new a.vHH(4013,Go);this._activatedRoute=_;const L=this.location,J=_.snapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,xt=new Fi(_,Qe,L.injector);if(A&&function so(D){return!!D.resolveComponentFactory}(A)){const en=A.resolveComponentFactory(J);this.activated=L.createComponent(en,L.length,xt)}else this.activated=L.createComponent(J,{index:L.length,injector:xt,environmentInjector:A??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275dir=a.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),D})();class Fi{constructor(w,_,A){this.route=w,this.childContexts=_,this.parent=A}get(w,_){return w===Ui?this.route:w===qi?this.childContexts:this.parent.get(w,_)}}let Jn=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275cmp=a.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(_,A){1&_&&a._UZ(0,"router-outlet")},dependencies:[_i],encapsulation:2}),D})();function _o(D,w){return D.providers&&!D._injector&&(D._injector=(0,a.MMx)(D.providers,w,`Route: ${D.path}`)),D._injector??w}function ao(D){const w=D.children&&D.children.map(ao),_=w?{...D,children:w}:{...D};return!_.component&&!_.loadComponent&&(w||_.loadChildren)&&_.outlet&&_.outlet!==Kt&&(_.component=Jn),_}function Kr(D){return D.outlet||Kt}function ds(D,w){const _=D.filter(A=>Kr(A)===w);return _.push(...D.filter(A=>Kr(A)!==w)),_}function Do(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let w=D.parent;w;w=w.parent){const _=w.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class hs{constructor(w,_,A,L){this.routeReuseStrategy=w,this.futureState=_,this.currState=A,this.forwardEvent=L}activate(w){const _=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,A,w),ni(this.futureState.root),this.activateChildRoutes(_,A,w)}deactivateChildRoutes(w,_,A){const L=bi(_);w.children.forEach(W=>{const J=W.value.outlet;this.deactivateRoutes(W,L[J],A),delete L[J]}),sr(L,(W,J)=>{this.deactivateRouteAndItsChildren(W,A)})}deactivateRoutes(w,_,A){const L=w.value,W=_?_.value:null;if(L===W)if(L.component){const J=A.getContext(L.outlet);J&&this.deactivateChildRoutes(w,_,J.children)}else this.deactivateChildRoutes(w,_,A);else W&&this.deactivateRouteAndItsChildren(_,A)}deactivateRouteAndItsChildren(w,_){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,_):this.deactivateRouteAndOutlet(w,_)}detachAndStoreRouteSubtree(w,_){const A=_.getContext(w.value.outlet),L=A&&w.value.component?A.children:_,W=bi(w);for(const J of Object.keys(W))this.deactivateRouteAndItsChildren(W[J],L);if(A&&A.outlet){const J=A.outlet.detach(),Qe=A.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:J,route:w,contexts:Qe})}}deactivateRouteAndOutlet(w,_){const A=_.getContext(w.value.outlet),L=A&&w.value.component?A.children:_,W=bi(w);for(const J of Object.keys(W))this.deactivateRouteAndItsChildren(W[J],L);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(w,_,A){const L=bi(_);w.children.forEach(W=>{this.activateRoutes(W,L[W.value.outlet],A),this.forwardEvent(new xi(W.value.snapshot))}),w.children.length&&this.forwardEvent(new ur(w.value.snapshot))}activateRoutes(w,_,A){const L=w.value,W=_?_.value:null;if(ni(L),L===W)if(L.component){const J=A.getOrCreateContext(L.outlet);this.activateChildRoutes(w,_,J.children)}else this.activateChildRoutes(w,_,A);else if(L.component){const J=A.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const Qe=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),J.children.onOutletReAttached(Qe.contexts),J.attachRef=Qe.componentRef,J.route=Qe.route.value,J.outlet&&J.outlet.attach(Qe.componentRef,Qe.route.value),ni(Qe.route.value),this.activateChildRoutes(w,null,J.children)}else{const Qe=Do(L.snapshot),xt=Qe?.get(a._Vd)??null;J.attachRef=null,J.route=L,J.resolver=xt,J.injector=Qe,J.outlet&&J.outlet.activateWith(L,J.injector),this.activateChildRoutes(w,null,J.children)}}else this.activateChildRoutes(w,null,A)}}class Ks{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class bs{constructor(w,_){this.component=w,this.route=_}}function ts(D,w,_){const A=D._root;return Ro(A,w?w._root:null,_,[A.value])}function lo(D,w){const _=Symbol(),A=w.get(D,_);return A===_?"function"!=typeof D||(0,a.Z0I)(D)?w.get(D):D:A}function Ro(D,w,_,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const W=bi(w);return D.children.forEach(J=>{(function Os(D,w,_,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const W=D.value,J=w?w.value:null,Qe=_?_.getContext(D.value.outlet):null;if(J&&W.routeConfig===J.routeConfig){const xt=function Ft(D,w,_){if("function"==typeof _)return _(D,w);switch(_){case"pathParamsChange":return!Ct(D.url,w.url);case"pathParamsOrQueryParamsChange":return!Ct(D.url,w.url)||!Lt(D.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pi(D,w)||!Lt(D.queryParams,w.queryParams);default:return!Pi(D,w)}}(J,W,W.routeConfig.runGuardsAndResolvers);xt?L.canActivateChecks.push(new Ks(A)):(W.data=J.data,W._resolvedData=J._resolvedData),Ro(D,w,W.component?Qe?Qe.children:null:_,A,L),xt&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&L.canDeactivateChecks.push(new bs(Qe.outlet.component,J))}else J&&Zn(w,Qe,L),L.canActivateChecks.push(new Ks(A)),Ro(D,null,W.component?Qe?Qe.children:null:_,A,L)})(J,W[J.value.outlet],_,A.concat([J.value]),L),delete W[J.value.outlet]}),sr(W,(J,Qe)=>Zn(J,_.getContext(Qe),L)),L}function Zn(D,w,_){const A=bi(D),L=D.value;sr(A,(W,J)=>{Zn(W,L.component?w?w.children.getContext(J):null:w,_)}),_.canDeactivateChecks.push(new bs(L.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,L))}function F(D){return"function"==typeof D}function xn(D){return D instanceof Ie.K||"EmptyError"===D?.name}const or=Symbol("INITIAL_VALUE");function kn(){return(0,xe.w)(D=>ke(D.map(w=>w.pipe((0,Se.q)(1),(0,We.O)(or)))).pipe((0,se.U)(w=>{for(const _ of w)if(!0!==_){if(_===or)return or;if(!1===_||_ instanceof $n)return _}return!0}),(0,Ge.h)(w=>w!==or),(0,Se.q)(1)))}function Ys(D){return(0,Ze.z)((0,ze.b)(w=>{if(ir(w))throw vo(0,w)}),(0,se.U)(w=>!0===w))}const Zi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pa(D,w,_,A,L){const W=aa(D,w,_);return W.matched?function Oa(D,w,_,A){const L=w.canMatch;if(!L||0===L.length)return(0,x.of)(!0);const W=L.map(J=>{const Qe=lo(J,D);return fn(function at(D){return D&&F(D.canMatch)}(Qe)?Qe.canMatch(w,_):D.runInContext(()=>Qe(w,_)))});return(0,x.of)(W).pipe(kn(),Ys())}(A=_o(w,A),w,_).pipe((0,se.U)(J=>!0===J?W:{...Zi})):(0,x.of)(W)}function aa(D,w,_){if(""===w.path)return"full"===w.pathMatch&&(D.hasChildren()||_.length>0)?{...Zi}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const L=(w.matcher||pn)(_,D,w);if(!L)return{...Zi};const W={};sr(L.posParams,(Qe,xt)=>{W[xt]=Qe.path});const J=L.consumed.length>0?{...W,...L.consumed[L.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:L.consumed,remainingSegments:_.slice(L.consumed.length),parameters:J,positionalParamSegments:L.posParams??{}}}function fs(D,w,_,A){if(_.length>0&&function Ea(D,w,_){return _.some(A=>la(D,w,A)&&Kr(A)!==Kt)}(D,_,A)){const W=new Sn(w,function _a(D,w,_,A){const L={};L[Kt]=A,A._sourceSegment=D,A._segmentIndexShift=w.length;for(const W of _)if(""===W.path&&Kr(W)!==Kt){const J=new Sn([],{});J._sourceSegment=D,J._segmentIndexShift=w.length,L[Kr(W)]=J}return L}(D,w,A,new Sn(_,D.children)));return W._sourceSegment=D,W._segmentIndexShift=w.length,{segmentGroup:W,slicedSegments:[]}}if(0===_.length&&function Wl(D,w,_){return _.some(A=>la(D,w,A))}(D,_,A)){const W=new Sn(D.segments,function Na(D,w,_,A,L){const W={};for(const J of A)if(la(D,_,J)&&!L[Kr(J)]){const Qe=new Sn([],{});Qe._sourceSegment=D,Qe._segmentIndexShift=w.length,W[Kr(J)]=Qe}return{...L,...W}}(D,w,_,A,D.children));return W._sourceSegment=D,W._segmentIndexShift=w.length,{segmentGroup:W,slicedSegments:_}}const L=new Sn(D.segments,D.children);return L._sourceSegment=D,L._segmentIndexShift=w.length,{segmentGroup:L,slicedSegments:_}}function la(D,w,_){return(!(D.hasChildren()||w.length>0)||"full"!==_.pathMatch)&&""===_.path}function ps(D,w,_,A){return!!(Kr(D)===A||A!==Kt&&la(w,_,D))&&("**"===D.path||aa(w,D,_).matched)}function Kl(D,w,_){return 0===w.length&&!D.children[_]}const Bi=!1;class Po{constructor(w){this.segmentGroup=w||null}}class li{constructor(w){this.urlTree=w}}function Ns(D){return je(new Po(D))}function Xi(D){return je(new li(D))}class _l{constructor(w,_,A,L,W){this.injector=w,this.configLoader=_,this.urlSerializer=A,this.urlTree=L,this.config=W,this.allowRedirects=!0}apply(){const w=fs(this.urlTree.root,[],[],this.config).segmentGroup,_=new Sn(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,_,Kt).pipe((0,se.U)(W=>this.createUrlTree(Lr(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Re(W=>{if(W instanceof li)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof Po?this.noMatchError(W):W}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,Kt).pipe((0,se.U)(L=>this.createUrlTree(Lr(L),w.queryParams,w.fragment))).pipe(Re(L=>{throw L instanceof Po?this.noMatchError(L):L}))}noMatchError(w){return new a.vHH(4002,Bi)}createUrlTree(w,_,A){const L=vi(w);return new $n(L,_,A)}expandSegmentGroup(w,_,A,L){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(w,_,A).pipe((0,se.U)(W=>new Sn([],W))):this.expandSegment(w,A,_,A.segments,L,!0)}expandChildren(w,_,A){const L=[];for(const W of Object.keys(A.children))"primary"===W?L.unshift(W):L.push(W);return(0,k.D)(L).pipe(ye(W=>{const J=A.children[W],Qe=ds(_,W);return this.expandSegmentGroup(w,Qe,J,W).pipe((0,se.U)(xt=>({segment:xt,outlet:W})))}),(0,Ye.R)((W,J)=>(W[J.outlet]=J.segment,W),{}),bt())}expandSegment(w,_,A,L,W,J){return(0,k.D)(A).pipe(ye(Qe=>this.expandSegmentAgainstRoute(w,_,A,Qe,L,W,J).pipe(Re(en=>{if(en instanceof Po)return(0,x.of)(null);throw en}))),(0,me.P)(Qe=>!!Qe),Re((Qe,xt)=>{if(xn(Qe))return Kl(_,L,W)?(0,x.of)(new Sn([],{})):Ns(_);throw Qe}))}expandSegmentAgainstRoute(w,_,A,L,W,J,Qe){return ps(L,_,W,J)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(w,_,L,W,J):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,_,A,L,W,J):Ns(_):Ns(_)}expandSegmentAgainstRouteUsingRedirect(w,_,A,L,W,J){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,A,L,J):this.expandRegularSegmentAgainstRouteUsingRedirect(w,_,A,L,W,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,_,A,L){const W=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?Xi(W):this.lineralizeSegments(A,W).pipe((0,fe.z)(J=>{const Qe=new Sn(J,{});return this.expandSegment(w,Qe,_,J,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,_,A,L,W,J){const{matched:Qe,consumedSegments:xt,remainingSegments:en,positionalParamSegments:dn}=aa(_,L,W);if(!Qe)return Ns(_);const cr=this.applyRedirectCommands(xt,L.redirectTo,dn);return L.redirectTo.startsWith("/")?Xi(cr):this.lineralizeSegments(L,cr).pipe((0,fe.z)(O=>this.expandSegment(w,_,A,O.concat(en),J,!1)))}matchSegmentAgainstRoute(w,_,A,L,W){return"**"===A.path?(w=_o(A,w),A.loadChildren?(A._loadedRoutes?(0,x.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(w,A)).pipe((0,se.U)(Qe=>(A._loadedRoutes=Qe.routes,A._loadedInjector=Qe.injector,new Sn(L,{})))):(0,x.of)(new Sn(L,{}))):Pa(_,A,L,w).pipe((0,xe.w)(({matched:J,consumedSegments:Qe,remainingSegments:xt})=>J?this.getChildConfig(w=A._injector??w,A,L).pipe((0,fe.z)(dn=>{const cr=dn.injector??w,O=dn.routes,{segmentGroup:B,slicedSegments:K}=fs(_,Qe,xt,O),Ee=new Sn(B.segments,B.children);if(0===K.length&&Ee.hasChildren())return this.expandChildren(cr,O,Ee).pipe((0,se.U)(yn=>new Sn(Qe,yn)));if(0===O.length&&0===K.length)return(0,x.of)(new Sn(Qe,{}));const nt=Kr(A)===W;return this.expandSegment(cr,Ee,O,K,nt?Kt:W,!0).pipe((0,se.U)(Vt=>new Sn(Qe.concat(Vt.segments),Vt.children)))})):Ns(_)))}getChildConfig(w,_,A){return _.children?(0,x.of)({routes:_.children,injector:w}):_.loadChildren?void 0!==_._loadedRoutes?(0,x.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Ps(D,w,_,A){const L=w.canLoad;if(void 0===L||0===L.length)return(0,x.of)(!0);const W=L.map(J=>{const Qe=lo(J,D);return fn(function y(D){return D&&F(D.canLoad)}(Qe)?Qe.canLoad(w,_):D.runInContext(()=>Qe(w,_)))});return(0,x.of)(W).pipe(kn(),Ys())}(w,_,A).pipe((0,fe.z)(L=>L?this.configLoader.loadChildren(w,_).pipe((0,ze.b)(W=>{_._loadedRoutes=W.routes,_._loadedInjector=W.injector})):function Ia(D){return je(Yi(Bi,3))}())):(0,x.of)({routes:[],injector:w})}lineralizeSegments(w,_){let A=[],L=_.root;for(;;){if(A=A.concat(L.segments),0===L.numberOfChildren)return(0,x.of)(A);if(L.numberOfChildren>1||!L.children[Kt])return w.redirectTo,je(new a.vHH(4e3,Bi));L=L.children[Kt]}}applyRedirectCommands(w,_,A){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),w,A)}applyRedirectCreateUrlTree(w,_,A,L){const W=this.createSegmentGroup(w,_.root,A,L);return new $n(W,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(w,_){const A={};return sr(w,(L,W)=>{if("string"==typeof L&&L.startsWith(":")){const Qe=L.substring(1);A[W]=_[Qe]}else A[W]=L}),A}createSegmentGroup(w,_,A,L){const W=this.createSegments(w,_.segments,A,L);let J={};return sr(_.children,(Qe,xt)=>{J[xt]=this.createSegmentGroup(w,Qe,A,L)}),new Sn(W,J)}createSegments(w,_,A,L){return _.map(W=>W.path.startsWith(":")?this.findPosParam(w,W,L):this.findOrReturn(W,A))}findPosParam(w,_,A){const L=A[_.path.substring(1)];if(!L)throw new a.vHH(4001,Bi);return L}findOrReturn(w,_){let A=0;for(const L of _){if(L.path===w.path)return _.splice(A),L;A++}return w}}class ua{}class M{constructor(w,_,A,L,W,J,Qe){this.injector=w,this.rootComponentType=_,this.config=A,this.urlTree=L,this.url=W,this.paramsInheritanceStrategy=J,this.urlSerializer=Qe}recognize(){const w=fs(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,Kt).pipe((0,se.U)(_=>{if(null===_)return null;const A=new Oi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new Di(A,_),W=new Es(this.url,L);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(w){const _=w.value,A=Ki(_,this.paramsInheritanceStrategy);_.params=Object.freeze(A.params),_.data=Object.freeze(A.data),w.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(w,_,A,L){return 0===A.segments.length&&A.hasChildren()?this.processChildren(w,_,A):this.processSegment(w,_,A,A.segments,L)}processChildren(w,_,A){return(0,k.D)(Object.keys(A.children)).pipe(ye(L=>{const W=A.children[L],J=ds(_,L);return this.processSegmentGroup(w,J,W,L)}),(0,Ye.R)((L,W)=>L&&W?(L.push(...W),L):null),function Yt(D,w=!1){return(0,De.e)((_,A)=>{let L=0;_.subscribe((0,ue.x)(A,W=>{const J=D(W,L++);(J||w)&&A.next(W),!J&&A.complete()}))})}(L=>null!==L),(0,vt.d)(null),bt(),(0,se.U)(L=>{if(null===L)return null;const W=be(L);return function V(D){D.sort((w,_)=>w.value.outlet===Kt?-1:_.value.outlet===Kt?1:w.value.outlet.localeCompare(_.value.outlet))}(W),W}))}processSegment(w,_,A,L,W){return(0,k.D)(_).pipe(ye(J=>this.processSegmentAgainstRoute(J._injector??w,J,A,L,W)),(0,me.P)(J=>!!J),Re(J=>{if(xn(J))return Kl(A,L,W)?(0,x.of)([]):(0,x.of)(null);throw J}))}processSegmentAgainstRoute(w,_,A,L,W){if(_.redirectTo||!ps(_,A,L,W))return(0,x.of)(null);let J;if("**"===_.path){const Qe=L.length>0?mr(L).parameters:{},xt=wn(A)+L.length,en=new Oi(L,Qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tt(_),Kr(_),_.component??_._loadedComponent??null,_,Mt(A),xt,zn(_));J=(0,x.of)({snapshot:en,consumedSegments:[],remainingSegments:[]})}else J=Pa(A,_,L,w).pipe((0,se.U)(({matched:Qe,consumedSegments:xt,remainingSegments:en,parameters:dn})=>{if(!Qe)return null;const cr=wn(A)+xt.length;return{snapshot:new Oi(xt,dn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tt(_),Kr(_),_.component??_._loadedComponent??null,_,Mt(A),cr,zn(_)),consumedSegments:xt,remainingSegments:en}}));return J.pipe((0,xe.w)(Qe=>{if(null===Qe)return(0,x.of)(null);const{snapshot:xt,consumedSegments:en,remainingSegments:dn}=Qe;w=_._injector??w;const cr=_._loadedInjector??w,O=function N(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(_),{segmentGroup:B,slicedSegments:K}=fs(A,en,dn,O.filter(nt=>void 0===nt.redirectTo));if(0===K.length&&B.hasChildren())return this.processChildren(cr,O,B).pipe((0,se.U)(nt=>null===nt?null:[new Di(xt,nt)]));if(0===O.length&&0===K.length)return(0,x.of)([new Di(xt,[])]);const Ee=Kr(_)===W;return this.processSegment(cr,O,B,K,Ee?Kt:W).pipe((0,se.U)(nt=>null===nt?null:[new Di(xt,nt)]))}))}}function q(D){const w=D.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function be(D){const w=[],_=new Set;for(const A of D){if(!q(A)){w.push(A);continue}const L=w.find(W=>A.value.routeConfig===W.value.routeConfig);void 0!==L?(L.children.push(...A.children),_.add(L)):w.push(A)}for(const A of _){const L=be(A.children);w.push(new Di(A.value,L))}return w.filter(A=>!_.has(A))}function Mt(D){let w=D;for(;w._sourceSegment;)w=w._sourceSegment;return w}function wn(D){let w=D,_=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,_+=w._segmentIndexShift??0;return _-1}function Tt(D){return D.data||{}}function zn(D){return D.resolve||{}}function pt(D){return"string"==typeof D.title||null===D.title}function Nt(D){return(0,xe.w)(w=>{const _=D(w);return _?(0,k.D)(_).pipe((0,se.U)(()=>w)):(0,x.of)(w)})}const rs=new a.OlP("ROUTES");let ca=(()=>{class D{constructor(_,A){this.injector=_,this.compiler=A,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,x.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const A=fn(_.loadComponent()).pipe((0,se.U)(Fs),(0,ze.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=W}),hn(()=>{this.componentLoaders.delete(_)})),L=new Be(A,()=>new X.x).pipe(z());return this.componentLoaders.set(_,L),L}loadChildren(_,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,x.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const W=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,se.U)(Qe=>{this.onLoadEndListener&&this.onLoadEndListener(A);let xt,en,dn=!1;Array.isArray(Qe)?en=Qe:(xt=Qe.create(_).injector,en=gr(xt.get(rs,[],a.XFs.Self|a.XFs.Optional)));return{routes:en.map(ao),injector:xt}}),hn(()=>{this.childrenLoaders.delete(A)})),J=new Be(W,()=>new X.x).pipe(z());return this.childrenLoaders.set(A,J),J}loadModuleFactoryOrRoutes(_){return fn(_()).pipe((0,se.U)(Fs),(0,fe.z)(L=>L instanceof a.YKP||Array.isArray(L)?(0,x.of)(L):(0,k.D)(this.compiler.compileModuleAsync(L))))}}return D.\u0275fac=function(_){return new(_||D)(a.LFG(a.zs3),a.LFG(a.Sil))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Fs(D){return function El(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let uo=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new X.x,this.configLoader=(0,a.f3M)(ca),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(gn),this.rootContexts=(0,a.f3M)(qi),this.navigationId=0,this.afterPreactivation=()=>(0,x.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new sn(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new Ht(L))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:A})}setupNavigations(_){return this.transitions=new ie.X({id:0,targetPageId:0,currentUrlTree:_.currentUrlTree,currentRawUrl:_.currentUrlTree,extractedUrl:_.urlHandlingStrategy.extract(_.currentUrlTree),urlAfterRedirects:_.urlHandlingStrategy.extract(_.currentUrlTree),rawUrl:_.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:et,restoredState:null,currentSnapshot:_.routerState.snapshot,targetSnapshot:null,currentRouterState:_.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ge.h)(A=>0!==A.id),(0,se.U)(A=>({...A,extractedUrl:_.urlHandlingStrategy.extract(A.rawUrl)})),(0,xe.w)(A=>{let L=!1,W=!1;return(0,x.of)(A).pipe((0,ze.b)(J=>{this.currentNavigation={id:J.id,initialUrl:J.rawUrl,extractedUrl:J.extractedUrl,trigger:J.source,extras:J.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xe.w)(J=>{const Qe=_.browserUrlTree.toString(),xt=!_.navigated||J.extractedUrl.toString()!==Qe||Qe!==_.currentUrlTree.toString();if(!xt&&"reload"!==(J.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const dn="";return this.events.next(new mn(J.id,_.serializeUrl(A.rawUrl),dn,0)),_.rawUrlTree=J.rawUrl,J.resolve(null),Ve.E}if(_.urlHandlingStrategy.shouldProcessUrl(J.rawUrl))return Xa(J.source)&&(_.browserUrlTree=J.extractedUrl),(0,x.of)(J).pipe((0,xe.w)(dn=>{const cr=this.transitions?.getValue();return this.events.next(new wt(dn.id,this.urlSerializer.serialize(dn.extractedUrl),dn.source,dn.restoredState)),cr!==this.transitions?.getValue()?Ve.E:Promise.resolve(dn)}),function ka(D,w,_,A){return(0,xe.w)(L=>function mi(D,w,_,A,L){return new _l(D,w,_,A,L).apply()}(D,w,_,L.extractedUrl,A).pipe((0,se.U)(W=>({...L,urlAfterRedirects:W}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,_.config),(0,ze.b)(dn=>{this.currentNavigation={...this.currentNavigation,finalUrl:dn.urlAfterRedirects},A.urlAfterRedirects=dn.urlAfterRedirects}),function Xn(D,w,_,A,L){return(0,fe.z)(W=>function Za(D,w,_,A,L,W,J="emptyOnly"){return new M(D,w,_,A,L,J,W).recognize().pipe((0,xe.w)(Qe=>null===Qe?function Zs(D){return new pe.y(w=>w.error(D))}(new ua):(0,x.of)(Qe)))}(D,w,_,W.urlAfterRedirects,A.serialize(W.urlAfterRedirects),A,L).pipe((0,se.U)(J=>({...W,targetSnapshot:J}))))}(this.environmentInjector,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,ze.b)(dn=>{if(A.targetSnapshot=dn.targetSnapshot,"eager"===_.urlUpdateStrategy){if(!dn.extras.skipLocationChange){const O=_.urlHandlingStrategy.merge(dn.urlAfterRedirects,dn.rawUrl);_.setBrowserUrl(O,dn)}_.browserUrlTree=dn.urlAfterRedirects}const cr=new Hr(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot);this.events.next(cr)}));if(xt&&_.urlHandlingStrategy.shouldProcessUrl(_.rawUrlTree)){const{id:dn,extractedUrl:cr,source:O,restoredState:B,extras:K}=J,Ee=new wt(dn,this.urlSerializer.serialize(cr),O,B);this.events.next(Ee);const nt=cs(cr,this.rootComponentType).snapshot;return A={...J,targetSnapshot:nt,urlAfterRedirects:cr,extras:{...K,skipLocationChange:!1,replaceUrl:!1}},(0,x.of)(A)}{const dn="";return this.events.next(new mn(J.id,_.serializeUrl(A.extractedUrl),dn,1)),_.rawUrlTree=J.rawUrl,J.resolve(null),Ve.E}}),(0,ze.b)(J=>{const Qe=new qe(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot);this.events.next(Qe)}),(0,se.U)(J=>A={...J,guards:ts(J.targetSnapshot,J.currentSnapshot,this.rootContexts)}),function pr(D,w){return(0,fe.z)(_=>{const{targetSnapshot:A,currentSnapshot:L,guards:{canActivateChecks:W,canDeactivateChecks:J}}=_;return 0===J.length&&0===W.length?(0,x.of)({..._,guardsResult:!0}):function Ei(D,w,_,A){return(0,k.D)(D).pipe((0,fe.z)(L=>function sa(D,w,_,A,L){const W=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,x.of)(!0);const J=W.map(Qe=>{const xt=Do(w)??L,en=lo(Qe,xt);return fn(function G(D){return D&&F(D.canDeactivate)}(en)?en.canDeactivate(D,w,_,A):xt.runInContext(()=>en(D,w,_,A))).pipe((0,me.P)())});return(0,x.of)(J).pipe(kn())}(L.component,L.route,_,w,A)),(0,me.P)(L=>!0!==L,!0))}(J,A,L,D).pipe((0,fe.z)(Qe=>Qe&&function d(D){return"boolean"==typeof D}(Qe)?function ci(D,w,_,A){return(0,k.D)(w).pipe(ye(L=>(0,we.z)(function ws(D,w){return null!==D&&w&&w(new Vn(D)),(0,x.of)(!0)}(L.route.parent,A),function Nr(D,w){return null!==D&&w&&w(new qn(D)),(0,x.of)(!0)}(L.route,A),function oa(D,w,_){const A=w[w.length-1],W=w.slice(0,w.length-1).reverse().map(J=>function Wo(D){const w=D.routeConfig?D.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:D,guards:w}:null}(J)).filter(J=>null!==J).map(J=>ee(()=>{const Qe=J.guards.map(xt=>{const en=Do(J.node)??_,dn=lo(xt,en);return fn(function S(D){return D&&F(D.canActivateChild)}(dn)?dn.canActivateChild(A,D):en.runInContext(()=>dn(A,D))).pipe((0,me.P)())});return(0,x.of)(Qe).pipe(kn())}));return(0,x.of)(W).pipe(kn())}(D,L.path,_),function Oo(D,w,_){const A=w.routeConfig?w.routeConfig.canActivate:null;if(!A||0===A.length)return(0,x.of)(!0);const L=A.map(W=>ee(()=>{const J=Do(w)??_,Qe=lo(W,J);return fn(function p(D){return D&&F(D.canActivate)}(Qe)?Qe.canActivate(w,D):J.runInContext(()=>Qe(w,D))).pipe((0,me.P)())}));return(0,x.of)(L).pipe(kn())}(D,L.route,_))),(0,me.P)(L=>!0!==L,!0))}(A,W,D,w):(0,x.of)(Qe)),(0,se.U)(Qe=>({..._,guardsResult:Qe})))})}(this.environmentInjector,J=>this.events.next(J)),(0,ze.b)(J=>{if(A.guardsResult=J.guardsResult,ir(J.guardsResult))throw vo(0,J.guardsResult);const Qe=new He(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot,!!J.guardsResult);this.events.next(Qe)}),(0,Ge.h)(J=>!!J.guardsResult||(_.restoreHistory(J),this.cancelNavigationTransition(J,"",3),!1)),Nt(J=>{if(J.guards.canActivateChecks.length)return(0,x.of)(J).pipe((0,ze.b)(Qe=>{const xt=new ot(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(xt)}),(0,xe.w)(Qe=>{let xt=!1;return(0,x.of)(Qe).pipe(function ui(D,w){return(0,fe.z)(_=>{const{targetSnapshot:A,guards:{canActivateChecks:L}}=_;if(!L.length)return(0,x.of)(_);let W=0;return(0,k.D)(L).pipe(ye(J=>function Bt(D,w,_,A){const L=D.routeConfig,W=D._resolve;return void 0!==L?.title&&!pt(L)&&(W[jn]=L.title),function tn(D,w,_,A){const L=function Ko(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===L.length)return(0,x.of)({});const W={};return(0,k.D)(L).pipe((0,fe.z)(J=>function qt(D,w,_,A){const L=Do(w)??A,W=lo(D,L);return fn(W.resolve?W.resolve(w,_):L.runInContext(()=>W(w,_)))}(D[J],w,_,A).pipe((0,me.P)(),(0,ze.b)(Qe=>{W[J]=Qe}))),Fe(1),function _t(D){return(0,se.U)(()=>D)}(W),Re(J=>xn(J)?Ve.E:je(J)))}(W,D,w,A).pipe((0,se.U)(J=>(D._resolvedData=J,D.data=Ki(D,_).resolve,L&&pt(L)&&(D.data[jn]=L.title),null)))}(J.route,A,D,w)),(0,ze.b)(()=>W++),Fe(1),(0,fe.z)(J=>W===L.length?(0,x.of)(_):Ve.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,ze.b)({next:()=>xt=!0,complete:()=>{xt||(_.restoreHistory(Qe),this.cancelNavigationTransition(Qe,"",2))}}))}),(0,ze.b)(Qe=>{const xt=new At(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(xt)}))}),Nt(J=>{const Qe=xt=>{const en=[];xt.routeConfig?.loadComponent&&!xt.routeConfig._loadedComponent&&en.push(this.configLoader.loadComponent(xt.routeConfig).pipe((0,ze.b)(dn=>{xt.component=dn}),(0,se.U)(()=>{})));for(const dn of xt.children)en.push(...Qe(dn));return en};return ke(Qe(J.targetSnapshot.root)).pipe((0,vt.d)(),(0,Se.q)(1))}),Nt(()=>this.afterPreactivation()),(0,se.U)(J=>{const Qe=function Ho(D,w,_){const A=wi(D,w._root,_?_._root:void 0);return new So(A,w)}(_.routeReuseStrategy,J.targetSnapshot,J.currentRouterState);return A={...J,targetRouterState:Qe}}),(0,ze.b)(J=>{_.currentUrlTree=J.urlAfterRedirects,_.rawUrlTree=_.urlHandlingStrategy.merge(J.urlAfterRedirects,J.rawUrl),_.routerState=J.targetRouterState,"deferred"===_.urlUpdateStrategy&&(J.extras.skipLocationChange||_.setBrowserUrl(_.rawUrlTree,J),_.browserUrlTree=J.urlAfterRedirects)}),((D,w,_)=>(0,se.U)(A=>(new hs(w,A.targetRouterState,A.currentRouterState,_).activate(D),A)))(this.rootContexts,_.routeReuseStrategy,J=>this.events.next(J)),(0,ze.b)({next:J=>{L=!0,this.lastSuccessfulNavigation=this.currentNavigation,_.navigated=!0,this.events.next(new jt(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(_.currentUrlTree))),_.titleStrategy?.updateTitle(J.targetRouterState.snapshot),J.resolve(!0)},complete:()=>{L=!0}}),hn(()=>{L||W||this.cancelNavigationTransition(A,"",1),this.currentNavigation?.id===A.id&&(this.currentNavigation=null)}),Re(J=>{if(W=!0,Ni(J)){xo(J)||(_.navigated=!0,_.restoreHistory(A,!0));const Qe=new cn(A.id,this.urlSerializer.serialize(A.extractedUrl),J.message,J.cancellationCode);if(this.events.next(Qe),xo(J)){const xt=_.urlHandlingStrategy.merge(J.url,_.rawUrlTree),en={skipLocationChange:A.extras.skipLocationChange,replaceUrl:"eager"===_.urlUpdateStrategy||Xa(A.source)};_.scheduleNavigation(xt,et,null,en,{resolve:A.resolve,reject:A.reject,promise:A.promise})}else A.resolve(!1)}else{_.restoreHistory(A,!0);const Qe=new Mn(A.id,this.urlSerializer.serialize(A.extractedUrl),J,A.targetSnapshot??void 0);this.events.next(Qe);try{A.resolve(_.errorHandler(J))}catch(xt){A.reject(xt)}}return Ve.E}))}))}cancelNavigationTransition(_,A,L){const W=new cn(_.id,this.urlSerializer.serialize(_.extractedUrl),A,L);this.events.next(W),_.resolve(!1)}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Xa(D){return D!==et}let ha=(()=>{class D{buildTitle(_){let A,L=_.root;for(;void 0!==L;)A=this.getResolvedTitleForRoute(L)??A,L=L.children.find(W=>W.outlet===Kt);return A}getResolvedTitleForRoute(_){return _.data[jn]}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=a.Yz7({token:D,factory:function(){return(0,a.f3M)(Fa)},providedIn:"root"}),D})(),Fa=(()=>{class D extends ha{constructor(_){super(),this.title=_}updateTitle(_){const A=this.buildTitle(_);void 0!==A&&this.title.setTitle(A)}}return D.\u0275fac=function(_){return new(_||D)(a.LFG(Cn.Dx))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Da=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=a.Yz7({token:D,factory:function(){return(0,a.f3M)(Cs)},providedIn:"root"}),D})();class Wn{shouldDetach(w){return!1}store(w,_){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,_){return w.routeConfig===_.routeConfig}}let Cs=(()=>{class D extends Wn{}return D.\u0275fac=function(){let w;return function(A){return(w||(w=a.n5z(D)))(A||D)}}(),D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Yr=new a.OlP("",{providedIn:"root",factory:()=>({})});let Nn=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=a.Yz7({token:D,factory:function(){return(0,a.f3M)(gs)},providedIn:"root"}),D})(),gs=(()=>{class D{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,A){return _}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Au(D){throw D}function Or(D,w,_){return w.parse("/")}const Qt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},La={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ci=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(Yr,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Au,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Or,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(Nn),this.routeReuseStrategy=(0,a.f3M)(Da),this.urlCreationStrategy=(0,a.f3M)(To),this.titleStrategy=(0,a.f3M)(ha),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=gr((0,a.f3M)(rs,{optional:!0})??[]),this.navigationTransitions=(0,a.f3M)(uo),this.urlSerializer=(0,a.f3M)(gn),this.location=(0,a.f3M)(Ce.Ye),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new $n,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cs(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),et,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const A="popstate"===_.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,A,_.state)},0)}))}navigateToSyncWithBrowser(_,A,L){const W={replaceUrl:!0},J=L?.navigationId?L:null;if(L){const xt={...L};delete xt.navigationId,delete xt.\u0275routerPageId,0!==Object.keys(xt).length&&(W.state=xt)}const Qe=this.parseUrl(_);this.scheduleNavigation(Qe,A,J,W)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(_){this.config=_.map(ao),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,A={}){const{relativeTo:L,queryParams:W,fragment:J,queryParamsHandling:Qe,preserveFragment:xt}=A,en=xt?this.currentUrlTree.fragment:J;let dn=null;switch(Qe){case"merge":dn={...this.currentUrlTree.queryParams,...W};break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=W||null}return null!==dn&&(dn=this.removeEmptyProps(dn)),this.urlCreationStrategy.createUrlTree(L,this.routerState,this.currentUrlTree,_,dn,en??null)}navigateByUrl(_,A={skipLocationChange:!1}){const L=ir(_)?_:this.parseUrl(_),W=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(W,et,null,A)}navigate(_,A={skipLocationChange:!1}){return function Ts(D){for(let w=0;w<D.length;w++){const _=D[w];if(null==_)throw new a.vHH(4008,false)}}(_),this.navigateByUrl(this.createUrlTree(_,A),A)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let A;try{A=this.urlSerializer.parse(_)}catch(L){A=this.malformedUriErrorHandler(L,this.urlSerializer,_)}return A}isActive(_,A){let L;if(L=!0===A?{...Qt}:!1===A?{...La}:A,ir(_))return ln(this.currentUrlTree,_,L);const W=this.parseUrl(_);return ln(this.currentUrlTree,W,L)}removeEmptyProps(_){return Object.keys(_).reduce((A,L)=>{const W=_[L];return null!=W&&(A[L]=W),A},{})}scheduleNavigation(_,A,L,W,J){if(this.disposed)return Promise.resolve(!1);let Qe,xt,en,dn;return J?(Qe=J.resolve,xt=J.reject,en=J.promise):en=new Promise((cr,O)=>{Qe=cr,xt=O}),dn="computed"===this.canceledNavigationResolution?L&&L.\u0275routerPageId?L.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:dn,source:A,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_,extras:W,resolve:Qe,reject:xt,promise:en,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),en.catch(cr=>Promise.reject(cr))}setBrowserUrl(_,A){const L=this.urlSerializer.serialize(_),W={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.isCurrentPathEqualTo(L)||A.extras.replaceUrl?this.location.replaceState(L,"",W):this.location.go(L,"",W)}restoreHistory(_,A=!1){if("computed"===this.canceledNavigationResolution){const L=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===L?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===L&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(L)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,A){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:A}:{navigationId:_}}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Ss=(()=>{class D{constructor(_,A,L,W,J,Qe){this.router=_,this.route=A,this.tabIndexAttribute=L,this.renderer=W,this.el=J,this.locationStrategy=Qe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new X.x;const xt=J.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===xt||"area"===xt,this.isAnchorElement?this.subscription=_.events.subscribe(en=>{en instanceof jt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(_){this._preserveFragment=(0,a.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,a.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,a.D6c)(_)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,A,L,W,J){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||A||L||W||J||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,A){const L=this.renderer,W=this.el.nativeElement;null!==A?L.setAttribute(W,_,A):L.removeAttribute(W,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(_){return new(_||D)(a.Y36(Ci),a.Y36(Ui),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ce.S$))},D.\u0275dir=a.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(_,A){1&_&&a.NdJ("click",function(W){return A.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&_&&a.uIk("target",A.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),D})();class pa{}let Yl=(()=>{class D{preload(_,A){return A().pipe(Re(()=>(0,x.of)(null)))}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),co=(()=>{class D{constructor(_,A,L,W,J){this.router=_,this.injector=L,this.preloadingStrategy=W,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ge.h)(_=>_ instanceof jt),ye(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,A){const L=[];for(const W of A){W.providers&&!W._injector&&(W._injector=(0,a.MMx)(W.providers,_,`Route: ${W.path}`));const J=W._injector??_,Qe=W._loadedInjector??J;W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent?L.push(this.preloadConfig(J,W)):(W.children||W._loadedRoutes)&&L.push(this.processRoutes(Qe,W.children??W._loadedRoutes))}return(0,k.D)(L).pipe((0,In.J)())}preloadConfig(_,A){return this.preloadingStrategy.preload(A,()=>{let L;L=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(_,A):(0,x.of)(null);const W=L.pipe((0,fe.z)(J=>null===J?(0,x.of)(void 0):(A._loadedRoutes=J.routes,A._loadedInjector=J.injector,this.processRoutes(J.injector??_,J.routes))));if(A.loadComponent&&!A._loadedComponent){const J=this.loader.loadComponent(A);return(0,k.D)([W,J]).pipe((0,In.J)())}return W})}}return D.\u0275fac=function(_){return new(_||D)(a.LFG(Ci),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(pa),a.LFG(ca))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const As=new a.OlP("");let Xs=(()=>{class D{constructor(_,A,L,W,J={}){this.urlSerializer=_,this.transitions=A,this.viewportScroller=L,this.zone=W,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},J.scrollPositionRestoration=J.scrollPositionRestoration||"disabled",J.anchorScrolling=J.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof wt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof jt&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Ri&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ri(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return D.\u0275fac=function(_){a.$Z()},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac}),D})();var Ti=(()=>((Ti=Ti||{})[Ti.COMPLETE=0]="COMPLETE",Ti[Ti.FAILED=1]="FAILED",Ti[Ti.REDIRECTING=2]="REDIRECTING",Ti))();const Ls=!1;function Qi(D,w){return{\u0275kind:D,\u0275providers:w}}const qr=new a.OlP("",{providedIn:"root",factory:()=>!1});function ma(){const D=(0,a.f3M)(a.zs3);return w=>{const _=D.get(a.z2F);if(w!==_.components[0])return;const A=D.get(Ci),L=D.get(Qa);1===D.get(Ja)&&A.initialNavigation(),D.get(Ic,null,a.XFs.Optional)?.setUpPreloading(),D.get(As,null,a.XFs.Optional)?.init(),A.resetRootComponentType(_.componentTypes[0]),L.closed||(L.next(),L.unsubscribe())}}const Qa=new a.OlP(Ls?"bootstrap done indicator":"",{factory:()=>new X.x}),Ja=new a.OlP(Ls?"initial navigation":"",{providedIn:"root",factory:()=>1});function No(){let D=[];return D=Ls?[{provide:a.Xts,multi:!0,useFactory:()=>{const w=(0,a.f3M)(Ci);return()=>w.events.subscribe(_=>{console.group?.(`Router Event: ${_.constructor.name}`),console.log(function ai(D){if(!("type"in D))return`Unknown Router Event: ${D.constructor.name}`;switch(D.type){case 14:return`ActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state}, shouldActivate: ${D.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 2:return`NavigationCancel(id: ${D.id}, url: '${D.url}')`;case 16:return`NavigationSkipped(id: ${D.id}, url: '${D.url}')`;case 1:return`NavigationEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${D.id}, url: '${D.url}', error: ${D.error})`;case 0:return`NavigationStart(id: ${D.id}, url: '${D.url}')`;case 6:return`ResolveEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 5:return`ResolveStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 10:return`RouteConfigLoadEnd(path: ${D.route.path})`;case 9:return`RouteConfigLoadStart(path: ${D.route.path})`;case 4:return`RoutesRecognized(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 15:return`Scroll(anchor: '${D.anchor}', position: '${D.position?`${D.position[0]}, ${D.position[1]}`:null}')`}}(_)),console.log(_),console.groupEnd?.()})}}]:[],Qi(1,D)}const Ic=new a.OlP(Ls?"router preloader":"");function yi(D){return Qi(0,[{provide:Ic,useExisting:co},{provide:pa,useExisting:D}])}const Ji=!1,wa=new a.OlP(Ji?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),os=[Ce.Ye,{provide:gn,useClass:Dn},Ci,qi,{provide:Ui,useFactory:function Dl(D){return D.routerState.root},deps:[Ci]},ca,Ji?{provide:qr,useValue:!0}:[]];function ss(){return new a.PXZ("Router",Ci)}let el=(()=>{class D{constructor(_){}static forRoot(_,A){return{ngModule:D,providers:[os,Ji&&A?.enableTracing?No().\u0275providers:[],{provide:rs,multi:!0,useValue:_},{provide:wa,useFactory:Fo,deps:[[Ci,new a.FiY,new a.tp0]]},{provide:Yr,useValue:A||{}},A?.useHash?{provide:Ce.S$,useClass:Ce.Do}:{provide:Ce.S$,useClass:Ce.b0},{provide:As,useFactory:()=>{const D=(0,a.f3M)(Ce.EM),w=(0,a.f3M)(a.R0b),_=(0,a.f3M)(Yr),A=(0,a.f3M)(uo),L=(0,a.f3M)(gn);return _.scrollOffset&&D.setOffset(_.scrollOffset),new Xs(L,A,D,w,_)}},A?.preloadingStrategy?yi(A.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:ss},A?.initialNavigation?$s(A):[],[{provide:Gr,useFactory:ma},{provide:a.tb,multi:!0,useExisting:Gr}]]}}static forChild(_){return{ngModule:D,providers:[{provide:rs,multi:!0,useValue:_}]}}}return D.\u0275fac=function(_){return new(_||D)(a.LFG(wa,8))},D.\u0275mod=a.oAB({type:D}),D.\u0275inj=a.cJS({imports:[Jn]}),D})();function Fo(D){if(Ji&&D)throw new a.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function $s(D){return["disabled"===D.initialNavigation?Qi(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const w=(0,a.f3M)(Ci);return()=>{w.setUpLocationChangeListener()}}},{provide:Ja,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Qi(2,[{provide:Ja,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:w=>{const _=w.get(Ce.V_,Promise.resolve());return()=>_.then(()=>new Promise(A=>{const L=w.get(Ci),W=w.get(Qa);(function Qs(D,w){D.events.pipe((0,Ge.h)(_=>_ instanceof jt||_ instanceof cn||_ instanceof Mn||_ instanceof mn),(0,se.U)(_=>_ instanceof jt||_ instanceof mn?Ti.COMPLETE:_ instanceof cn&&(0===_.code||1===_.code)?Ti.REDIRECTING:Ti.FAILED),(0,Ge.h)(_=>_!==Ti.REDIRECTING),(0,Se.q)(1)).subscribe(()=>{w()})})(L,()=>{A(!0)}),w.get(uo).afterPreactivation=()=>(A(!0),W.closed?(0,x.of)(void 0):W),L.initialNavigation()}))}}]).\u0275providers:[]]}const Gr=new a.OlP(Ji?"Router Initializer":"")},3942:(zt,rt,P)=>{"use strict";P.d(rt,{Z:()=>Xe});var a=P(2090),k=P(4859),x=P(9681),ie=P(1877);class Ie{constructor(we,de){this._delegate=we,this.firebase=de,(0,x._addComponent)(we,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(we,de=x._DEFAULT_ENTRY_NAME){var ee;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(we);return!Ze.isInitialized()&&"EXPLICIT"===(null===(ee=Ze.getComponent())||void 0===ee?void 0:ee.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:de})}_removeServiceInstance(we,de=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(de)}_addComponent(we){(0,x._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,x._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Te(){const ht=function he(ht){const we={},de={__esModule:!0,initializeApp:function Ke(De,z={}){const Be=x.initializeApp(De,z);if((0,a.r3)(we,Be.name))return we[Be.name];const X=new ht(Be,de);return we[Be.name]=X,X},app:Ze,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function Ve(De){const z=De.name,Be=z.replace("-compat","");if(x._registerComponent(De)&&"PUBLIC"===De.type){const X=(Ce=Ze())=>{if("function"!=typeof Ce[Be])throw ne.create("invalid-app-argument",{appName:z});return Ce[Be]()};void 0!==De.serviceProps&&(0,a.ZB)(X,De.serviceProps),de[Be]=X,ht.prototype[Be]=function(...Ce){return this._getService.bind(this,z).apply(this,De.multipleInstances?Ce:[])}}return"PUBLIC"===De.type?de[Be]:null},removeApp:function ee(De){delete we[De]},useAsService:function _e(De,z){return"serverAuth"===z?null:z},modularAPIs:x}};function Ze(De){if(!(0,a.r3)(we,De=De||x._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:De});return we[De]}return de.default=de,Object.defineProperty(de,"apps",{get:function je(){return Object.keys(we).map(De=>we[De])}}),Ze.App=ht,de}(Ie);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function we(de){(0,a.ZB)(ht,de)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ht}(),le=new ie.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=ae;!function ke(ht){(0,x.registerVersion)("@firebase/app-compat","0.2.4",ht)}()},9681:(zt,rt,P)=>{"use strict";P.r(rt),P.d(rt,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Cn,_DEFAULT_ENTRY_NAME:()=>me,_addComponent:()=>Ye,_addOrOverwriteComponent:()=>Fe,_apps:()=>ze,_clearComponents:()=>Yt,_components:()=>Re,_getProvider:()=>vt,_registerComponent:()=>Dt,_removeServiceInstance:()=>bt,deleteApp:()=>hr,getApp:()=>jn,getApps:()=>er,initializeApp:()=>Kt,onLog:()=>Lt,registerVersion:()=>Hn,setLogLevel:()=>Tr});var a=P(5861),k=P(4859),x=P(1877),ie=P(2090),Ie=P(8766);class pe{constructor(Ct){this.container=Ct}getPlatformInfoString(){return this.container.getProviders().map(Jt=>{if(function ne(Gt){return"VERSION"===Gt.getComponent()?.type}(Jt)){const gn=Jt.getImmediate();return`${gn.library}/${gn.version}`}return null}).filter(Jt=>Jt).join(" ")}}const he="@firebase/app",ae=new x.Yd("@firebase/app"),me="[DEFAULT]",ye={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ze=new Map,Re=new Map;function Ye(Gt,Ct){try{Gt.container.addComponent(Ct)}catch(Jt){ae.debug(`Component ${Ct.name} failed to register with FirebaseApp ${Gt.name}`,Jt)}}function Fe(Gt,Ct){Gt.container.addOrOverwriteComponent(Ct)}function Dt(Gt){const Ct=Gt.name;if(Re.has(Ct))return ae.debug(`There were multiple attempts to register component ${Ct}.`),!1;Re.set(Ct,Gt);for(const Jt of ze.values())Ye(Jt,Gt);return!0}function vt(Gt,Ct){const Jt=Gt.container.getProvider("heartbeat").getImmediate({optional:!0});return Jt&&Jt.triggerHeartbeat(),Gt.container.getProvider(Ct)}function bt(Gt,Ct,Jt=me){vt(Gt,Ct).clearInstance(Jt)}function Yt(){Re.clear()}const hn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class In{constructor(Ct,Jt,gn){this._isDeleted=!1,this._options=Object.assign({},Ct),this._config=Object.assign({},Jt),this._name=Jt.name,this._automaticDataCollectionEnabled=Jt.automaticDataCollectionEnabled,this._container=gn,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ct){this._isDeleted=Ct}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}const Cn="9.17.2";function Kt(Gt,Ct={}){let Jt=Gt;"object"!=typeof Ct&&(Ct={name:Ct});const gn=Object.assign({name:me,automaticDataCollectionEnabled:!1},Ct),Dn=gn.name;if("string"!=typeof Dn||!Dn)throw hn.create("bad-app-name",{appName:String(Dn)});if(Jt||(Jt=(0,ie.aH)()),!Jt)throw hn.create("no-options");const bn=ze.get(Dn);if(bn){if((0,ie.vZ)(Jt,bn.options)&&(0,ie.vZ)(gn,bn.config))return bn;throw hn.create("duplicate-app",{appName:Dn})}const ar=new k.H0(Dn);for(const ge of Re.values())ar.addComponent(ge);const Ae=new In(Jt,gn,ar);return ze.set(Dn,Ae),Ae}function jn(Gt=me){const Ct=ze.get(Gt);if(!Ct&&Gt===me)return Kt();if(!Ct)throw hn.create("no-app",{appName:Gt});return Ct}function er(){return Array.from(ze.values())}function hr(Gt){return pn.apply(this,arguments)}function pn(){return(pn=(0,a.Z)(function*(Gt){const Ct=Gt.name;ze.has(Ct)&&(ze.delete(Ct),yield Promise.all(Gt.container.getProviders().map(Jt=>Jt.delete())),Gt.isDeleted=!0)})).apply(this,arguments)}function Hn(Gt,Ct,Jt){var gn;let Dn=null!==(gn=ye[Gt])&&void 0!==gn?gn:Gt;Jt&&(Dn+=`-${Jt}`);const bn=Dn.match(/\s|\//),ar=Ct.match(/\s|\//);if(bn||ar){const Ae=[`Unable to register library "${Dn}" with version "${Ct}":`];return bn&&Ae.push(`library name "${Dn}" contains illegal characters (whitespace or "/")`),bn&&ar&&Ae.push("and"),ar&&Ae.push(`version name "${Ct}" contains illegal characters (whitespace or "/")`),void ae.warn(Ae.join(" "))}Dt(new k.wA(`${Dn}-version`,()=>({library:Dn,version:Ct}),"VERSION"))}function Lt(Gt,Ct){if(null!==Gt&&"function"!=typeof Gt)throw hn.create("invalid-log-argument");(0,x.Am)(Gt,Ct)}function Tr(Gt){(0,x.Ub)(Gt)}const gr="firebase-heartbeat-database",mr=1,$r="firebase-heartbeat-store";let sr=null;function fn(){return sr||(sr=(0,Ie.X3)(gr,mr,{upgrade:(Gt,Ct)=>{0===Ct&&Gt.createObjectStore($r)}}).catch(Gt=>{throw hn.create("idb-open",{originalErrorMessage:Gt.message})})),sr}function un(){return(un=(0,a.Z)(function*(Gt){try{return(yield fn()).transaction($r).objectStore($r).get(vr(Gt))}catch(Ct){if(Ct instanceof ie.ZR)ae.warn(Ct.message);else{const Jt=hn.create("idb-get",{originalErrorMessage:Ct?.message});ae.warn(Jt.message)}}})).apply(this,arguments)}function Xr(Gt,Ct){return ln.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(Gt,Ct){try{const gn=(yield fn()).transaction($r,"readwrite");return yield gn.objectStore($r).put(Ct,vr(Gt)),gn.done}catch(Jt){if(Jt instanceof ie.ZR)ae.warn(Jt.message);else{const gn=hn.create("idb-set",{originalErrorMessage:Jt?.message});ae.warn(gn.message)}}})).apply(this,arguments)}function vr(Gt){return`${Gt.name}!${Gt.options.appId}`}class fi{constructor(Ct){this.container=Ct,this._heartbeatsCache=null;const Jt=this.container.getProvider("app").getImmediate();this._storage=new $n(Jt),this._heartbeatsCachePromise=this._storage.read().then(gn=>(this._heartbeatsCache=gn,gn))}triggerHeartbeat(){var Ct=this;return(0,a.Z)(function*(){const gn=Ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dn=tr();if(null===Ct._heartbeatsCache&&(Ct._heartbeatsCache=yield Ct._heartbeatsCachePromise),Ct._heartbeatsCache.lastSentHeartbeatDate!==Dn&&!Ct._heartbeatsCache.heartbeats.some(bn=>bn.date===Dn))return Ct._heartbeatsCache.heartbeats.push({date:Dn,agent:gn}),Ct._heartbeatsCache.heartbeats=Ct._heartbeatsCache.heartbeats.filter(bn=>{const ar=new Date(bn.date).valueOf();return Date.now()-ar<=2592e6}),Ct._storage.overwrite(Ct._heartbeatsCache)})()}getHeartbeatsHeader(){var Ct=this;return(0,a.Z)(function*(){if(null===Ct._heartbeatsCache&&(yield Ct._heartbeatsCachePromise),null===Ct._heartbeatsCache||0===Ct._heartbeatsCache.heartbeats.length)return"";const Jt=tr(),{heartbeatsToSend:gn,unsentEntries:Dn}=function Ur(Gt,Ct=1024){const Jt=[];let gn=Gt.slice();for(const Dn of Gt){const bn=Jt.find(ar=>ar.agent===Dn.agent);if(bn){if(bn.dates.push(Dn.date),Sn(Jt)>Ct){bn.dates.pop();break}}else if(Jt.push({agent:Dn.agent,dates:[Dn.date]}),Sn(Jt)>Ct){Jt.pop();break}gn=gn.slice(1)}return{heartbeatsToSend:Jt,unsentEntries:gn}}(Ct._heartbeatsCache.heartbeats),bn=(0,ie.L)(JSON.stringify({version:2,heartbeats:gn}));return Ct._heartbeatsCache.lastSentHeartbeatDate=Jt,Dn.length>0?(Ct._heartbeatsCache.heartbeats=Dn,yield Ct._storage.overwrite(Ct._heartbeatsCache)):(Ct._heartbeatsCache.heartbeats=[],Ct._storage.overwrite(Ct._heartbeatsCache)),bn})()}}function tr(){return(new Date).toISOString().substring(0,10)}class $n{constructor(Ct){this.app=Ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ct=this;return(0,a.Z)(function*(){return(yield Ct._canUseIndexedDBPromise)&&(yield function on(Gt){return un.apply(this,arguments)}(Ct.app))||{heartbeats:[]}})()}overwrite(Ct){var Jt=this;return(0,a.Z)(function*(){var gn;if(yield Jt._canUseIndexedDBPromise){const bn=yield Jt.read();return Xr(Jt.app,{lastSentHeartbeatDate:null!==(gn=Ct.lastSentHeartbeatDate)&&void 0!==gn?gn:bn.lastSentHeartbeatDate,heartbeats:Ct.heartbeats})}})()}add(Ct){var Jt=this;return(0,a.Z)(function*(){var gn;if(yield Jt._canUseIndexedDBPromise){const bn=yield Jt.read();return Xr(Jt.app,{lastSentHeartbeatDate:null!==(gn=Ct.lastSentHeartbeatDate)&&void 0!==gn?gn:bn.lastSentHeartbeatDate,heartbeats:[...bn.heartbeats,...Ct.heartbeats]})}})()}}function Sn(Gt){return(0,ie.L)(JSON.stringify({version:2,heartbeats:Gt})).length}!function Fr(Gt){Dt(new k.wA("platform-logger",Ct=>new pe(Ct),"PRIVATE")),Dt(new k.wA("heartbeat",Ct=>new fi(Ct),"PRIVATE")),Hn(he,"0.9.4",Gt),Hn(he,"0.9.4","esm2017"),Hn("fire-js","")}("")},4859:(zt,rt,P)=>{"use strict";P.d(rt,{H0:()=>he,wA:()=>x});var a=P(5861),k=P(2090);class x{constructor(ae,le,ue){this.name=ae,this.instanceFactory=le,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const ie="[DEFAULT]";class Ie{constructor(ae,le){this.name=ae,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const le=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(le)){const ue=new k.BH;if(this.instancesDeferred.set(le,ue),this.isInitialized(le)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:le});Oe&&ue.resolve(Oe)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ae){var le;const ue=this.normalizeInstanceIdentifier(ae?.identifier),Oe=null!==(le=ae?.optional)&&void 0!==le&&le;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(ke){if(Oe)return null;throw ke}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function ne(Te){return"EAGER"===Te.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[le,ue]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(le);try{const ke=this.getOrInitializeService({instanceIdentifier:Oe});ue.resolve(ke)}catch{}}}}clearInstance(ae=ie){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,a.Z)(function*(){const le=Array.from(ae.instances.values());yield Promise.all([...le.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...le.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=ie){return this.instances.has(ae)}getOptions(ae=ie){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:le={}}=ae,ue=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:ue,options:le});for(const[ke,Xe]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(ke)&&Xe.resolve(Oe);return Oe}onInit(ae,le){var ue;const Oe=this.normalizeInstanceIdentifier(le),ke=null!==(ue=this.onInitCallbacks.get(Oe))&&void 0!==ue?ue:new Set;ke.add(ae),this.onInitCallbacks.set(Oe,ke);const Xe=this.instances.get(Oe);return Xe&&ae(Xe,Oe),()=>{ke.delete(ae)}}invokeOnInitCallbacks(ae,le){const ue=this.onInitCallbacks.get(le);if(ue)for(const Oe of ue)try{Oe(ae,le)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:le={}}){let ue=this.instances.get(ae);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=ae,Te===ie?void 0:Te),options:le}),this.instances.set(ae,ue),this.instancesOptions.set(ae,le),this.invokeOnInitCallbacks(ue,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,ue)}catch{}var Te;return ue||null}normalizeInstanceIdentifier(ae=ie){return this.component?this.component.multipleInstances?ae:ie:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const le=this.getProvider(ae.name);if(le.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);le.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const le=new Ie(ae,this);return this.providers.set(ae,le),le}getProviders(){return Array.from(this.providers.values())}}},1877:(zt,rt,P)=>{"use strict";P.d(rt,{Am:()=>Te,Ub:()=>he,Yd:()=>ne,in:()=>k});const a=[];var k=(()=>{return(ae=k||(k={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",k;var ae})();const x={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},ie=k.INFO,Ie={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},pe=(ae,le,...ue)=>{if(le<ae.logLevel)return;const Oe=(new Date).toISOString(),ke=Ie[le];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[ke](`[${Oe}]  ${ae.name}:`,...ue)};class ne{constructor(le){this.name=le,this._logLevel=ie,this._logHandler=pe,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in k))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?x[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...le),this._logHandler(this,k.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...le),this._logHandler(this,k.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,k.INFO,...le),this._logHandler(this,k.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,k.WARN,...le),this._logHandler(this,k.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...le),this._logHandler(this,k.ERROR,...le)}}function he(ae){a.forEach(le=>{le.setLogLevel(ae)})}function Te(ae,le){for(const ue of a){let Oe=null;le&&le.level&&(Oe=x[le.level]),ue.userLogHandler=null===ae?null:(ke,Xe,...ht)=>{const we=ht.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch{return null}}).filter(de=>de).join(" ");Xe>=(Oe??ke.logLevel)&&ae({level:k[Xe].toLowerCase(),message:we,args:ht,type:ke.name})}}}},259:(zt,rt,P)=>{"use strict";P.d(rt,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=P(9681);(0,a.registerVersion)("firebase","9.17.2","app")},9260:(zt,rt,P)=>{"use strict";P.d(rt,{Z:()=>a.Z});var a=P(3942);a.Z.registerVersion("firebase","9.17.2","app-compat")},4217:(zt,rt,P)=>{"use strict";P.r(rt);var a=P(5861),k=P(3942),x=P(2090),ie=P(9681),Ie=P(1877),pe=P(655),ne=P(4859);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue_EMAIL_SIGNIN="EMAIL_SIGNIN",ue_PASSWORD_RESET="PASSWORD_RESET",ue_RECOVER_EMAIL="RECOVER_EMAIL",ue_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",ue_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",ue_VERIFY_EMAIL="VERIFY_EMAIL";const Xe=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ht=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},we=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ee=new Ie.Yd("@firebase/auth");function Ze(E,...h){ee.logLevel<=Ie.in.ERROR&&ee.error(`Auth (${ie.SDK_VERSION}): ${E}`,...h)}function Ke(E,...h){throw De(E,...h)}function je(E,...h){return De(E,...h)}function Ve(E,h,m){const b=Object.assign(Object.assign({},ht()),{[h]:m});return new x.LL("auth","Firebase",b).create(h,{appName:E.name})}function _e(E,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&Ke(E,"argument-error"),Ve(E,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function De(E,...h){if("string"!=typeof E){const m=h[0],b=[...h.slice(1)];return b[0]&&(b[0].appName=E.name),E._errorFactory.create(m,...b)}return we.create(E,...h)}function z(E,h,...m){if(!E)throw De(h,...m)}function Be(E){const h="INTERNAL ASSERTION FAILED: "+E;throw Ze(h),new Error(h)}function X(E,h){E||Be(h)}const Ce=new Map;function se(E){X(E instanceof Function,"Expected a class definition");let h=Ce.get(E);return h?(X(h instanceof E,"Instance stored in cache mismatched with class"),h):(h=new E,Ce.set(E,h),h)}function We(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Ge(){return"http:"===fe()||"https:"===fe()}function fe(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class ze{constructor(h,m){this.shortDelay=h,this.longDelay=m,X(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function me(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ge()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Re(E,h){X(E.emulator,"Emulator should always be set here");const{url:m}=E.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Ye{static initialize(h,m,b){this.fetchImpl=h,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dt=new ze(3e4,6e4);function vt(E,h){return E.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:E.tenantId}):h}function bt(E,h,m,b){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(E,h,m,b,j={}){return _t(E,j,(0,a.Z)(function*(){let Q={},it={};b&&("GET"===h?it=b:Q={body:JSON.stringify(b)});const St=(0,x.xO)(Object.assign({key:E.config.apiKey},it)).slice(1),an=yield E._getAdditionalHeaders();return an["Content-Type"]="application/json",E.languageCode&&(an["X-Firebase-Locale"]=E.languageCode),Ye.fetch()(Kt(E,E.config.apiHost,m,St),Object.assign({method:h,headers:an,referrerPolicy:"no-referrer"},Q))}))})).apply(this,arguments)}function _t(E,h,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(E,h,m){E._canInitEmulator=!1;const b=Object.assign(Object.assign({},Fe),h);try{const j=new jn(E),Q=yield Promise.race([m(),j.promise]);j.clearNetworkTimeout();const it=yield Q.json();if("needConfirmation"in it)throw er(E,"account-exists-with-different-credential",it);if(Q.ok&&!("errorMessage"in it))return it;{const St=Q.ok?it.errorMessage:it.error.message,[an,vn]=St.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===an)throw er(E,"credential-already-in-use",it);if("EMAIL_EXISTS"===an)throw er(E,"email-already-in-use",it);if("USER_DISABLED"===an)throw er(E,"user-disabled",it);const Qn=b[an]||an.toLowerCase().replace(/[_\s]+/g,"-");if(vn)throw Ve(E,Qn,vn);Ke(E,Qn)}}catch(j){if(j instanceof x.ZR)throw j;Ke(E,"internal-error",{message:String(j)})}})).apply(this,arguments)}function In(E,h,m,b){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*(E,h,m,b,j={}){const Q=yield bt(E,h,m,b,j);return"mfaPendingCredential"in Q&&Ke(E,"multi-factor-auth-required",{_serverResponse:Q}),Q})).apply(this,arguments)}function Kt(E,h,m,b){const j=`${h}${m}?${b}`;return E.config.emulator?Re(E.config,j):`${E.config.apiScheme}://${j}`}class jn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(je(this.auth,"network-request-failed")),Dt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function er(E,h,m){const b={appName:E.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const j=je(E,h,b);return j.customData._tokenResponse=m,j}function pn(){return(pn=(0,a.Z)(function*(E,h){return bt(E,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(E,h){return bt(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function gr(){return(gr=(0,a.Z)(function*(E,h){return bt(E,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function mr(E){if(E)try{const h=new Date(Number(E));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function fn(){return(fn=(0,a.Z)(function*(E,h=!1){const m=(0,x.m9)(E),b=yield m.getIdToken(h),j=un(b);z(j&&j.exp&&j.auth_time&&j.iat,m.auth,"internal-error");const Q="object"==typeof j.firebase?j.firebase:void 0,it=Q?.sign_in_provider;return{claims:j,token:b,authTime:mr(on(j.auth_time)),issuedAtTime:mr(on(j.iat)),expirationTime:mr(on(j.exp)),signInProvider:it||null,signInSecondFactor:Q?.sign_in_second_factor||null}})).apply(this,arguments)}function on(E){return 1e3*Number(E)}function un(E){const[h,m,b]=E.split(".");if(void 0===h||void 0===m||void 0===b)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,x.tV)(m);return j?JSON.parse(j):(Ze("Failed to decode base64 JWT payload"),null)}catch(j){return Ze("Caught error parsing JWT payload as JSON",j?.toString()),null}}function ln(E,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,a.Z)(function*(E,h,m=!1){if(m)return h;try{return yield h}catch(b){throw b instanceof x.ZR&&function Ot({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(b)&&E.auth.currentUser===E&&(yield E.auth.signOut()),b}})).apply(this,arguments)}class Vr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const j=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(h);this.timerId=setTimeout((0,a.Z)(function*(){yield m.iteration()}),b)}iteration(){var h=this;return(0,a.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&h.schedule(!0))}h.schedule()})()}}class fi{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tr(E){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,a.Z)(function*(E){var h;const m=E.auth,b=yield E.getIdToken(),j=yield ln(E,function Tr(E,h){return gr.apply(this,arguments)}(m,{idToken:b}));z(j?.users.length,m,"internal-error");const Q=j.users[0];E._notifyReloadListener(Q);const it=null!==(h=Q.providerUserInfo)&&void 0!==h&&h.length?function Gt(E){return E.map(h=>{var{providerId:m}=h,b=(0,pe._T)(h,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(Q.providerUserInfo):[],St=function Fr(E,h){return[...E.filter(b=>!h.some(j=>j.providerId===b.providerId)),...h]}(E.providerData,it),Qn=!!E.isAnonymous&&!(E.email&&Q.passwordHash||St?.length),Kn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:St,metadata:new fi(Q.createdAt,Q.lastLoginAt),isAnonymous:Qn};Object.assign(E,Kn)}),Ur.apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(E){const h=(0,x.m9)(E);yield tr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(E,h){const m=yield _t(E,{},(0,a.Z)(function*(){const b=(0,x.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:j,apiKey:Q}=E.config,it=Kt(E,j,"/v1/token",`key=${Q}`),St=yield E._getAdditionalHeaders();return St["Content-Type"]="application/x-www-form-urlencoded",Ye.fetch()(it,{method:"POST",headers:St,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){z(h.idToken,"internal-error"),z(typeof h.idToken<"u","internal-error"),z(typeof h.refreshToken<"u","internal-error");const m="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Xr(E){const h=un(E);return z(h,"internal-error"),z(typeof h.exp<"u","internal-error"),z(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var b=this;return(0,a.Z)(function*(){return z(!b.accessToken||b.refreshToken,h,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(h,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var b=this;return(0,a.Z)(function*(){const{accessToken:j,refreshToken:Q,expiresIn:it}=yield function Ct(E,h){return Jt.apply(this,arguments)}(h,m);b.updateTokensAndExpiration(j,Q,Number(it))})()}updateTokensAndExpiration(h,m,b){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(h,m){const{refreshToken:b,accessToken:j,expirationTime:Q}=m,it=new gn;return b&&(z("string"==typeof b,"internal-error",{appName:h}),it.refreshToken=b),j&&(z("string"==typeof j,"internal-error",{appName:h}),it.accessToken=j),Q&&(z("number"==typeof Q,"internal-error",{appName:h}),it.expirationTime=Q),it}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new gn,this.toJSON())}_performRefresh(){return Be("not implemented")}}function Dn(E,h){z("string"==typeof E||typeof E>"u","internal-error",{appName:h})}class bn{constructor(h){var{uid:m,auth:b,stsTokenManager:j}=h,Q=(0,pe._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.providerData=Q.providerData?[...Q.providerData]:[],this.metadata=new fi(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,a.Z)(function*(){const b=yield ln(m,m.stsTokenManager.getToken(m.auth,h));return z(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(h){return function sr(E){return fn.apply(this,arguments)}(this,h)}reload(){return function $n(E){return Sn.apply(this,arguments)}(this)}_assign(h){this!==h&&(z(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new bn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var b=this;return(0,a.Z)(function*(){let j=!1;h.idToken&&h.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(h),j=!0),m&&(yield tr(b)),yield b.auth._persistUserIfCurrent(b),j&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var h=this;return(0,a.Z)(function*(){const m=yield h.getIdToken();return yield ln(h,function hr(E,h){return pn.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var b,j,Q,it,St,an,vn,Qn;const Kn=null!==(b=m.displayName)&&void 0!==b?b:void 0,ho=null!==(j=m.email)&&void 0!==j?j:void 0,Us=null!==(Q=m.phoneNumber)&&void 0!==Q?Q:void 0,Ol=null!==(it=m.photoURL)&&void 0!==it?it:void 0,Aa=null!==(St=m.tenantId)&&void 0!==St?St:void 0,ll=null!==(an=m._redirectEventId)&&void 0!==an?an:void 0,Fd=null!==(vn=m.createdAt)&&void 0!==vn?vn:void 0,Ld=null!==(Qn=m.lastLoginAt)&&void 0!==Qn?Qn:void 0,{uid:Pc,emailVerified:ul,isAnonymous:uu,providerData:Bd,stsTokenManager:Nc}=m;z(Pc&&Nc,h,"internal-error");const kc=gn.fromJSON(this.name,Nc);z("string"==typeof Pc,h,"internal-error"),Dn(Kn,h.name),Dn(ho,h.name),z("boolean"==typeof ul,h,"internal-error"),z("boolean"==typeof uu,h,"internal-error"),Dn(Us,h.name),Dn(Ol,h.name),Dn(Aa,h.name),Dn(ll,h.name),Dn(Fd,h.name),Dn(Ld,h.name);const ls=new bn({uid:Pc,auth:h,email:ho,emailVerified:ul,displayName:Kn,isAnonymous:uu,photoURL:Ol,phoneNumber:Us,tenantId:Aa,stsTokenManager:kc,createdAt:Fd,lastLoginAt:Ld});return Bd&&Array.isArray(Bd)&&(ls.providerData=Bd.map(Rg=>Object.assign({},Rg))),ll&&(ls._redirectEventId=ll),ls}static _fromIdTokenResponse(h,m,b=!1){return(0,a.Z)(function*(){const j=new gn;j.updateFromServerResponse(m);const Q=new bn({uid:m.localId,auth:h,stsTokenManager:j,isAnonymous:b});return yield tr(Q),Q})()}}const Ae=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(m,b){var j=this;return(0,a.Z)(function*(){j.storage[m]=b})()}_get(m){var b=this;return(0,a.Z)(function*(){const j=b.storage[m];return void 0===j?null:j})()}_remove(m){var b=this;return(0,a.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return E.type="NONE",E})();function ge(E,h,m){return`firebase:${E}:${h}:${m}`}class $e{constructor(h,m,b){this.persistence=h,this.auth=m,this.userKey=b;const{config:j,name:Q}=this.auth;this.fullUserKey=ge(this.userKey,j.apiKey,Q),this.fullPersistenceKey=ge("persistence",j.apiKey,Q),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,a.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?bn._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,a.Z)(function*(){if(m.persistence===h)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,b="authUser"){return(0,a.Z)(function*(){if(!m.length)return new $e(se(Ae),h,b);const j=(yield Promise.all(m.map(function(){var vn=(0,a.Z)(function*(Qn){if(yield Qn._isAvailable())return Qn});return function(Qn){return vn.apply(this,arguments)}}()))).filter(vn=>vn);let Q=j[0]||se(Ae);const it=ge(b,h.config.apiKey,h.name);let St=null;for(const vn of m)try{const Qn=yield vn._get(it);if(Qn){const Kn=bn._fromJSON(h,Qn);vn!==Q&&(St=Kn),Q=vn;break}}catch{}const an=j.filter(vn=>vn._shouldAllowMigration);return Q._shouldAllowMigration&&an.length?(Q=an[0],St&&(yield Q._set(it,St.toJSON())),yield Promise.all(m.map(function(){var vn=(0,a.Z)(function*(Qn){if(Qn!==Q)try{yield Qn._remove(it)}catch{}});return function(Qn){return vn.apply(this,arguments)}}())),new $e(Q,h,b)):new $e(Q,h,b)})()}}function Et(E){const h=E.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Le(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(lt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(st(h))return"Blackberry";if(It(h))return"Webos";if(Zt(h))return"Safari";if((h.includes("chrome/")||Pe(h))&&!h.includes("edge/"))return"Chrome";if(ce(h))return"Android";{const b=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function lt(E=(0,x.z$)()){return/firefox\//i.test(E)}function Zt(E=(0,x.z$)()){const h=E.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Pe(E=(0,x.z$)()){return/crios\//i.test(E)}function Le(E=(0,x.z$)()){return/iemobile/i.test(E)}function ce(E=(0,x.z$)()){return/android/i.test(E)}function st(E=(0,x.z$)()){return/blackberry/i.test(E)}function It(E=(0,x.z$)()){return/webos/i.test(E)}function Rt(E=(0,x.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function si(E=(0,x.z$)()){return Rt(E)||ce(E)||It(E)||st(E)||/windows phone/i.test(E)||Le(E)}function vi(E,h=[]){let m;switch(E){case"Browser":m=Et((0,x.z$)());break;case"Worker":m=`${Et((0,x.z$)())}-${E}`;break;default:m=E}const b=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${ie.SDK_VERSION}/${b}`}class Lr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,m){const b=Q=>new Promise((it,St)=>{try{it(h(Q))}catch(an){St(an)}});b.onAbort=m,this.queue.push(b);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(h){var m=this;return(0,a.Z)(function*(){if(m.auth.currentUser===h)return;const b=[];try{for(const j of m.queue)yield j(h),j.onAbort&&b.push(j.onAbort)}catch(j){b.reverse();for(const Q of b)try{Q()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:j?.message})}})()}}class Jr{constructor(h,m,b){this.app=h,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mi(this),this.idTokenSubscription=new Mi(this),this.beforeStateQueue=new Lr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=we,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(h,m){var b=this;return m&&(this._popupRedirectResolver=se(m)),this._initializationPromise=this.queue((0,a.Z)(function*(){var j,Q;if(!b._deleted&&(b.persistenceManager=yield $e.create(b,h),!b._deleted)){if(null!==(j=b._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(Q=b.currentUser)||void 0===Q?void 0:Q.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,a.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m,!0)}})()}initializeCurrentUser(h){var m=this;return(0,a.Z)(function*(){var b;const j=yield m.assertedPersistence.getCurrentUser();let Q=j,it=!1;if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const St=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,an=Q?._redirectEventId,vn=yield m.tryRedirectSignIn(h);(!St||St===an)&&vn?.user&&(Q=vn.user,it=!0)}if(!Q)return m.directlySetCurrentUser(null);if(!Q._redirectEventId){if(it)try{yield m.beforeStateQueue.runMiddleware(Q)}catch(St){Q=j,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(St))}return Q?m.reloadAndSetCurrentUserOrClear(Q):m.directlySetCurrentUser(null)}return z(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Q._redirectEventId?m.directlySetCurrentUser(Q):m.reloadAndSetCurrentUserOrClear(Q)})()}tryRedirectSignIn(h){var m=this;return(0,a.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,a.Z)(function*(){try{yield tr(h)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ye(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var h=this;return(0,a.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,a.Z)(function*(){const b=h?(0,x.m9)(h):null;return b&&z(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(h,m=!1){var b=this;return(0,a.Z)(function*(){if(!b._deleted)return h&&z(b.tenantId===h.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(h)),b.queue((0,a.Z)(function*(){yield b.directlySetCurrentUser(h),b.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,a.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var m=this;return this.queue((0,a.Z)(function*(){yield m.assertedPersistence.setPersistence(se(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new x.LL("auth","Firebase",h())}onAuthStateChanged(h,m,b){return this.registerStateListener(this.authStateSubscription,h,m,b)}beforeAuthStateChanged(h,m){return this.beforeStateQueue.pushCallback(h,m)}onIdTokenChanged(h,m,b){return this.registerStateListener(this.idTokenSubscription,h,m,b)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var b=this;return(0,a.Z)(function*(){const j=yield b.getOrInitRedirectPersistenceManager(m);return null===h?j.removeCurrentUser():j.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,a.Z)(function*(){if(!m.redirectPersistenceManager){const b=h&&se(h)||m._popupRedirectResolver;z(b,m,"argument-error"),m.redirectPersistenceManager=yield $e.create(m,[se(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,a.Z)(function*(){var b,j;return m._isInitialized&&(yield m.queue((0,a.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===h?m._currentUser:(null===(j=m.redirectUser)||void 0===j?void 0:j._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,a.Z)(function*(){if(h===m.currentUser)return m.queue((0,a.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,b,j){if(this._deleted)return()=>{};const Q="function"==typeof m?m:m.next.bind(m),it=this._isInitialized?Promise.resolve():this._initializationPromise;return z(it,this,"internal-error"),it.then(()=>Q(this.currentUser)),"function"==typeof m?h.addObserver(m,b,j):h.addObserver(m)}directlySetCurrentUser(h){var m=this;return(0,a.Z)(function*(){m.currentUser&&m.currentUser!==h&&m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh(),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=vi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,a.Z)(function*(){var m;const b={"X-Client-Version":h.clientVersion};h.app.options.appId&&(b["X-Firebase-gmpid"]=h.app.options.appId);const j=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return j&&(b["X-Firebase-Client"]=j),b})()}}function ir(E){return(0,x.m9)(E)}class Mi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,x.ne)(m=>this.observer=m)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function On(E){const h=E.indexOf(":");return h<0?"":E.substr(0,h+1)}function lr(E){if(!E)return null;const h=Number(E);return isNaN(h)?null:h}class Rr{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return Be("not implemented")}_getIdTokenResponse(h){return Be("not implemented")}_linkToIdToken(h,m){return Be("not implemented")}_getReauthenticationResolver(h){return Be("not implemented")}}function nr(E,h){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,a.Z)(function*(E,h){return bt(E,"POST","/v1/accounts:resetPassword",vt(E,h))})).apply(this,arguments)}function Pn(E,h){return fr.apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(E,h){return bt(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ei(){return(ei=(0,a.Z)(function*(E,h){return bt(E,"POST","/v1/accounts:update",vt(E,h))})).apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signInWithPassword",vt(E,h))})).apply(this,arguments)}function _r(E,h){return Y.apply(this,arguments)}function Y(){return(Y=(0,a.Z)(function*(E,h){return bt(E,"POST","/v1/accounts:sendOobCode",vt(E,h))})).apply(this,arguments)}function Me(){return(Me=(0,a.Z)(function*(E,h){return _r(E,h)})).apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(E,h){return _r(E,h)})).apply(this,arguments)}function Ue(){return(Ue=(0,a.Z)(function*(E,h){return _r(E,h)})).apply(this,arguments)}function ft(){return(ft=(0,a.Z)(function*(E,h){return _r(E,h)})).apply(this,arguments)}function jt(){return(jt=(0,a.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signInWithEmailLink",vt(E,h))})).apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signInWithEmailLink",vt(E,h))})).apply(this,arguments)}class Mn extends Rr{constructor(h,m,b,j=null){super("password",b),this._email=h,this._password=m,this._tenantId=j}static _fromEmailAndPassword(h,m){return new Mn(h,m,"password")}static _fromEmailAndCode(h,m,b=null){return new Mn(h,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,a.Z)(function*(){switch(m.signInMethod){case"password":return function Pr(E,h){return ti.apply(this,arguments)}(h,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function wt(E,h){return jt.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:Ke(h,"internal-error")}})()}_linkToIdToken(h,m){var b=this;return(0,a.Z)(function*(){switch(b.signInMethod){case"password":return Pn(h,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function cn(E,h){return mn.apply(this,arguments)}(h,{idToken:m,email:b._email,oobCode:b._password});default:Ke(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Hr(E,h){return qe.apply(this,arguments)}function qe(){return(qe=(0,a.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signInWithIdp",vt(E,h))})).apply(this,arguments)}class ot extends Rr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new ot(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):Ke("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:b,signInMethod:j}=m,Q=(0,pe._T)(m,["providerId","signInMethod"]);if(!b||!j)return null;const it=new ot(b,j);return it.idToken=Q.idToken||void 0,it.accessToken=Q.accessToken||void 0,it.secret=Q.secret,it.nonce=Q.nonce,it.pendingToken=Q.pendingToken||null,it}_getIdTokenResponse(h){return Hr(h,this.buildRequest())}_linkToIdToken(h,m){const b=this.buildRequest();return b.idToken=m,Hr(h,b)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,Hr(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,x.xO)(m)}return h}}function Ht(){return(Ht=(0,a.Z)(function*(E,h){return bt(E,"POST","/v1/accounts:sendVerificationCode",vt(E,h))})).apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signInWithPhoneNumber",vt(E,h))})).apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(E,h){const m=yield In(E,"POST","/v1/accounts:signInWithPhoneNumber",vt(E,h));if(m.temporaryProof)throw er(E,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const xi={USER_NOT_FOUND:"user-not-found"};function ai(){return(ai=(0,a.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signInWithPhoneNumber",vt(E,Object.assign(Object.assign({},h),{operation:"REAUTH"})),xi)})).apply(this,arguments)}class hi extends Rr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new hi({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new hi({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function sn(E,h){return Vn.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function ur(E,h){return qn.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Ri(E,h){return ai.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:b,verificationCode:j}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:b,code:j}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:b,phoneNumber:j,temporaryProof:Q}=h;return b||m||j||Q?new hi({verificationId:m,verificationCode:b,phoneNumber:j,temporaryProof:Q}):null}}class To{constructor(h){var m,b,j,Q,it,St;const an=(0,x.zd)((0,x.pd)(h)),vn=null!==(m=an.apiKey)&&void 0!==m?m:null,Qn=null!==(b=an.oobCode)&&void 0!==b?b:null,Kn=function Ws(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=an.mode)&&void 0!==j?j:null);z(vn&&Qn&&Kn,"argument-error"),this.apiKey=vn,this.operation=Kn,this.code=Qn,this.continueUrl=null!==(Q=an.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(it=an.languageCode)&&void 0!==it?it:null,this.tenantId=null!==(St=an.tenantId)&&void 0!==St?St:null}static parseLink(h){const m=function Qo(E){const h=(0,x.zd)((0,x.pd)(E)).link,m=h?(0,x.zd)((0,x.pd)(h)).deep_link_id:null,b=(0,x.zd)((0,x.pd)(E)).deep_link_id;return(b?(0,x.zd)((0,x.pd)(b)).link:null)||b||m||h||E}(h);try{return new To(m)}catch{return null}}}let jo=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(m,b){return Mn._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const j=To.parseLink(b);return z(j,"argument-error"),Mn._fromEmailAndCode(m,j.code,j.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Wi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Di extends Wi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class bi extends Di{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return z("providerId"in m&&"signInMethod"in m,"argument-error"),ot._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return z(h.idToken||h.accessToken,"argument-error"),ot._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return bi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return bi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:j,pendingToken:Q,nonce:it,providerId:St}=h;if(!b&&!j&&!m&&!Q||!St)return null;try{return new bi(St)._credential({idToken:m,accessToken:b,nonce:it,pendingToken:Q})}catch{return null}}}let So=(()=>{class E extends Di{constructor(){super("facebook.com")}static credential(m){return ot._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),cs=(()=>{class E extends Di{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return ot._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:j}=m;if(!b&&!j)return null;try{return E.credential(b,j)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),mo=(()=>{class E extends Di{constructor(){super("github.com")}static credential(m){return ot._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Ki extends Rr{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return Hr(h,this.buildRequest())}_linkToIdToken(h,m){const b=this.buildRequest();return b.idToken=m,Hr(h,b)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,Hr(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:b,signInMethod:j,pendingToken:Q}=m;return b&&j&&Q&&b===j?new Ki(b,Q):null}static _create(h,m){return new Ki(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Oi extends Wi{constructor(h){z(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Oi.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Oi.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=Ki.fromJSON(h);return z(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:b}=h;if(!m||!b)return null;try{return Ki._create(b,m)}catch{return null}}}let Es=(()=>{class E extends Di{constructor(){super("twitter.com")}static credential(m,b){return ot._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:j}=m;if(!b||!j)return null;try{return E.credential(b,j)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Ao(E,h){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,a.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signUp",vt(E,h))})).apply(this,arguments)}class ni{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,b,j=!1){return(0,a.Z)(function*(){const Q=yield bn._fromIdTokenResponse(h,b,j),it=Pi(b);return new ni({user:Q,providerId:it,_tokenResponse:b,operationType:m})})()}static _forOperation(h,m,b){return(0,a.Z)(function*(){yield h._updateTokensIfNecessary(b,!0);const j=Pi(b);return new ni({user:h,providerId:j,_tokenResponse:b,operationType:m})})()}}function Pi(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function wi(){return(wi=(0,a.Z)(function*(E){var h;const m=ir(E);if(yield m._initializationPromise,null!==(h=m.currentUser)&&void 0!==h&&h.isAnonymous)return new ni({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Ao(m,{returnSecureToken:!0}),j=yield ni._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(j.user),j})).apply(this,arguments)}class es extends x.ZR{constructor(h,m,b,j){var Q;super(m.code,m.message),this.operationType=b,this.user=j,Object.setPrototypeOf(this,es.prototype),this.customData={appName:h.name,tenantId:null!==(Q=h.tenantId)&&void 0!==Q?Q:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(h,m,b,j){return new es(h,m,b,j)}}function br(E,h,m,b){return("reauthenticate"===h?m._getReauthenticationResolver(E):m._getIdTokenResponse(E)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?es._fromErrorAndOperation(E,Q,h,b):Q})}function gi(E){return new Set(E.map(({providerId:h})=>h).filter(h=>!!h))}function Yi(){return Yi=(0,a.Z)(function*(E,h){const m=(0,x.m9)(E);yield ji(!0,m,h);const{providerUserInfo:b}=yield function Hn(E,h){return Lt.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),j=gi(b||[]);return m.providerData=m.providerData.filter(Q=>j.has(Q.providerId)),j.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Yi.apply(this,arguments)}function xo(E,h){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(E,h,m=!1){const b=yield ln(E,h._linkToIdToken(E.auth,yield E.getIdToken()),m);return ni._forOperation(E,"link",b)})).apply(this,arguments)}function ji(E,h,m){return qi.apply(this,arguments)}function qi(){return(qi=(0,a.Z)(function*(E,h,m){yield tr(h);const j=!1===E?"provider-already-linked":"no-such-provider";z(gi(h.providerData).has(m)===E,h.auth,j)})).apply(this,arguments)}function Go(E,h){return _i.apply(this,arguments)}function _i(){return(_i=(0,a.Z)(function*(E,h,m=!1){const{auth:b}=E,j="reauthenticate";try{const Q=yield ln(E,br(b,j,h,E),m);z(Q.idToken,b,"internal-error");const it=un(Q.idToken);z(it,b,"internal-error");const{sub:St}=it;return z(E.uid===St,b,"user-mismatch"),ni._forOperation(E,j,Q)}catch(Q){throw"auth/user-not-found"===Q?.code&&Ke(b,"user-mismatch"),Q}})).apply(this,arguments)}function Fi(E,h){return so.apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(E,h,m=!1){const b="signIn",j=yield br(E,b,h),Q=yield ni._fromIdTokenResponse(E,b,j);return m||(yield E._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function Jn(E,h){return _o.apply(this,arguments)}function _o(){return(_o=(0,a.Z)(function*(E,h){return Fi(ir(E),h)})).apply(this,arguments)}function Eo(E,h){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,a.Z)(function*(E,h){const m=(0,x.m9)(E);return yield ji(!1,m,h.providerId),xo(m,h)})).apply(this,arguments)}function Is(E,h){return zo.apply(this,arguments)}function zo(){return(zo=(0,a.Z)(function*(E,h){return Go((0,x.m9)(E),h)})).apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signInWithCustomToken",vt(E,h))})).apply(this,arguments)}function Io(){return Io=(0,a.Z)(function*(E,h){const m=ir(E),b=yield function Li(E,h){return ri.apply(this,arguments)}(m,{token:h,returnSecureToken:!0}),j=yield ni._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(j.user),j}),Io.apply(this,arguments)}class ao{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?Kr._fromServerResponse(h,m):Ke(h,"internal-error")}}class Kr extends ao{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new Kr(m)}}function ds(E,h,m){var b;z((null===(b=m.url)||void 0===b?void 0:b.length)>0,E,"invalid-continue-uri"),z(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(z(m.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(z(m.android.packageName.length>0,E,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function Ln(){return Ln=(0,a.Z)(function*(E,h,m){const b=(0,x.m9)(E),j={requestType:"PASSWORD_RESET",email:h};m&&ds(b,j,m),yield function Je(E,h){return yt.apply(this,arguments)}(b,j)}),Ln.apply(this,arguments)}function Ks(){return(Ks=(0,a.Z)(function*(E,h,m){yield nr((0,x.m9)(E),{oobCode:h,newPassword:m})})).apply(this,arguments)}function ts(){return ts=(0,a.Z)(function*(E,h){yield function Sr(E,h){return ei.apply(this,arguments)}((0,x.m9)(E),{oobCode:h})}),ts.apply(this,arguments)}function Wo(E,h){return lo.apply(this,arguments)}function lo(){return(lo=(0,a.Z)(function*(E,h){const m=(0,x.m9)(E),b=yield nr(m,{oobCode:h}),j=b.requestType;switch(z(j,m,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(b.mfaInfo,m,"internal-error");default:z(b.email,m,"internal-error")}let Q=null;return b.mfaInfo&&(Q=ao._fromServerResponse(ir(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:Q},operation:j}})).apply(this,arguments)}function Os(){return(Os=(0,a.Z)(function*(E,h){const{data:m}=yield Wo((0,x.m9)(E),h);return m.email})).apply(this,arguments)}function Zn(){return(Zn=(0,a.Z)(function*(E,h,m){const b=ir(E),j=yield Ao(b,{returnSecureToken:!0,email:h,password:m}),Q=yield ni._fromIdTokenResponse(b,"signIn",j);return yield b._updateCurrentUser(Q.user),Q})).apply(this,arguments)}function y(){return y=(0,a.Z)(function*(E,h,m){const b=(0,x.m9)(E),j={requestType:"EMAIL_SIGNIN",email:h};z(m.handleCodeInApp,b,"argument-error"),m&&ds(b,j,m),yield function re(E,h){return Ue.apply(this,arguments)}(b,j)}),y.apply(this,arguments)}function G(){return(G=(0,a.Z)(function*(E,h,m){const b=(0,x.m9)(E),j=jo.credentialWithLink(h,m||We());return z(j._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Jn(b,j)})).apply(this,arguments)}function Ut(){return(Ut=(0,a.Z)(function*(E,h){return bt(E,"POST","/v1/accounts:createAuthUri",vt(E,h))})).apply(this,arguments)}function xn(){return xn=(0,a.Z)(function*(E,h){const b={identifier:h,continueUri:Ge()?We():"http://localhost"},{signinMethods:j}=yield function at(E,h){return Ut.apply(this,arguments)}((0,x.m9)(E),b);return j||[]}),xn.apply(this,arguments)}function kn(){return kn=(0,a.Z)(function*(E,h){const m=(0,x.m9)(E),j={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};h&&ds(m.auth,j,h);const{email:Q}=yield function oe(E,h){return Me.apply(this,arguments)}(m.auth,j);Q!==E.email&&(yield E.reload())}),kn.apply(this,arguments)}function Ei(){return Ei=(0,a.Z)(function*(E,h,m){const b=(0,x.m9)(E),Q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:h};m&&ds(b.auth,Q,m);const{email:it}=yield function et(E,h){return ft.apply(this,arguments)}(b.auth,Q);it!==E.email&&(yield E.reload())}),Ei.apply(this,arguments)}function Nr(){return(Nr=(0,a.Z)(function*(E,h){return bt(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Oo(){return Oo=(0,a.Z)(function*(E,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const b=(0,x.m9)(E),Q={idToken:yield b.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},it=yield ln(b,function ci(E,h){return Nr.apply(this,arguments)}(b.auth,Q));b.displayName=it.displayName||null,b.photoURL=it.photoUrl||null;const St=b.providerData.find(({providerId:an})=>"password"===an);St&&(St.displayName=b.displayName,St.photoURL=b.photoURL),yield b._updateTokensIfNecessary(it)}),Oo.apply(this,arguments)}function Ps(E,h,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,a.Z)(function*(E,h,m){const{auth:b}=E,Q={idToken:yield E.getIdToken(),returnSecureToken:!0};h&&(Q.email=h),m&&(Q.password=m);const it=yield ln(E,Pn(b,Q));yield E._updateTokensIfNecessary(it,!0)})).apply(this,arguments)}class Zi{constructor(h,m,b={}){this.isNewUser=h,this.providerId=m,this.profile=b}}class Pa extends Zi{constructor(h,m,b,j){super(h,m,b),this.username=j}}class aa extends Zi{constructor(h,m){super(h,"facebook.com",m)}}class fs extends Pa{constructor(h,m){super(h,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Na extends Zi{constructor(h,m){super(h,"google.com",m)}}class _a extends Pa{constructor(h,m,b){super(h,"twitter.com",m,b)}}function Ea(E){const{user:h,_tokenResponse:m}=E;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Oa(E){var h,m;if(!E)return null;const{providerId:b}=E,j=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},Q=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!b&&E?.idToken){const it=null===(m=null===(h=un(E.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(it)return new Zi(Q,"anonymous"!==it&&"custom"!==it?it:null)}if(!b)return null;switch(b){case"facebook.com":return new aa(Q,j);case"github.com":return new fs(Q,j);case"google.com":return new Na(Q,j);case"twitter.com":return new _a(Q,j,E.screenName||null);case"custom":case"anonymous":return new Zi(Q,null);default:return new Zi(Q,b,j)}}(m)}class ks{constructor(h,m,b){this.type=h,this.credential=m,this.auth=b}static _fromIdtoken(h,m){return new ks("enroll",h,m)}static _fromMfaPendingCredential(h){return new ks("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,b;if(h?.multiFactorSession){if(null!==(m=h.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ks._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(b=h.multiFactorSession)&&void 0!==b&&b.idToken)return ks._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ia{constructor(h,m,b){this.session=h,this.hints=m,this.signInResolver=b}static _fromError(h,m){const b=ir(h),j=m.customData._serverResponse,Q=(j.mfaInfo||[]).map(St=>ao._fromServerResponse(b,St));z(j.mfaPendingCredential,b,"internal-error");const it=ks._fromMfaPendingCredential(j.mfaPendingCredential);return new Ia(it,Q,function(){var St=(0,a.Z)(function*(an){const vn=yield an._process(b,it);delete j.mfaInfo,delete j.mfaPendingCredential;const Qn=Object.assign(Object.assign({},j),{idToken:vn.idToken,refreshToken:vn.refreshToken});switch(m.operationType){case"signIn":const Kn=yield ni._fromIdTokenResponse(b,m.operationType,Qn);return yield b._updateCurrentUser(Kn.user),Kn;case"reauthenticate":return z(m.user,b,"internal-error"),ni._forOperation(m.user,m.operationType,Qn);default:Ke(b,"internal-error")}});return function(an){return St.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,a.Z)(function*(){return m.signInResolver(h)})()}}class ua{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>ao._fromServerResponse(h.auth,b)))})}static _fromUser(h){return new ua(h)}getSession(){var h=this;return(0,a.Z)(function*(){return ks._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,m){var b=this;return(0,a.Z)(function*(){const j=h,Q=yield b.getSession(),it=yield ln(b.user,j._process(b.user.auth,Q,m));return yield b.user._updateTokensIfNecessary(it),b.user.reload()})()}unenroll(h){var m=this;return(0,a.Z)(function*(){const b="string"==typeof h?h:h.uid,j=yield m.user.getIdToken();try{const Q=yield ln(m.user,function qs(E,h){return bt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",vt(E,h))}(m.user.auth,{idToken:j,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:it})=>it!==b),yield m.user._updateTokensIfNecessary(Q),yield m.user.reload()}catch(Q){throw Q}})()}}const Zs=new WeakMap,M="__sak";class V{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(M,"1"),this.storage.removeItem(M),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mt=(()=>{class E extends V{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function N(){const E=(0,x.z$)();return Zt(E)||Rt(E)}()&&function Qr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=si(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const j=this.storage.getItem(b),Q=this.localCache[b];j!==Q&&m(b,Q,j)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((St,an,vn)=>{this.notifyListeners(St,vn)});const j=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const St=this.storage.getItem(j);if(m.newValue!==St)null!==m.newValue?this.storage.setItem(j,m.newValue):this.storage.removeItem(j);else if(this.localCache[j]===m.newValue&&!b)return}const Q=()=>{const St=this.storage.getItem(j);!b&&this.localCache[j]===St||this.notifyListeners(j,St)},it=this.storage.getItem(j);!function Yn(){return(0,x.w1)()&&10===document.documentMode}()||it===m.newValue||m.newValue===m.oldValue?Q():setTimeout(Q,10)}notifyListeners(m,b){this.localCache[m]=b;const j=this.listeners[m];if(j)for(const Q of Array.from(j))Q(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var j=()=>super._set,Q=this;return(0,a.Z)(function*(){yield j().call(Q,m,b),Q.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,j=this;return(0,a.Z)(function*(){const Q=yield b().call(j,m);return j.localCache[m]=JSON.stringify(Q),Q})()}_remove(m){var b=()=>super._remove,j=this;return(0,a.Z)(function*(){yield b().call(j,m),delete j.localCache[m]})()}}return E.type="LOCAL",E})(),Er=(()=>{class E extends V{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return E.type="SESSION",E})();let zn=(()=>{class E{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(Q=>Q.isListeningto(m));if(b)return b;const j=new E(m);return this.receivers.push(j),j}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,a.Z)(function*(){const j=m,{eventId:Q,eventType:it,data:St}=j.data,an=b.handlersMap[it];if(!an?.size)return;j.ports[0].postMessage({status:"ack",eventId:Q,eventType:it});const vn=Array.from(an).map(function(){var Kn=(0,a.Z)(function*(ho){return ho(j.origin,St)});return function(ho){return Kn.apply(this,arguments)}}()),Qn=yield function Tt(E){return Promise.all(E.map(function(){var h=(0,a.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return h.apply(this,arguments)}}()))}(vn);j.ports[0].postMessage({status:"done",eventId:Q,eventType:it,response:Qn})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Xn(E="",h=10){let m="";for(let b=0;b<h;b++)m+=Math.floor(10*Math.random());return E+m}class ui{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,b=50){var j=this;return(0,a.Z)(function*(){const Q=typeof MessageChannel<"u"?new MessageChannel:null;if(!Q)throw new Error("connection_unavailable");let it,St;return new Promise((an,vn)=>{const Qn=Xn("",20);Q.port1.start();const Kn=setTimeout(()=>{vn(new Error("unsupported_event"))},b);St={messageChannel:Q,onMessage(ho){const Us=ho;if(Us.data.eventId===Qn)switch(Us.data.status){case"ack":clearTimeout(Kn),it=setTimeout(()=>{vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(it),an(Us.data.response);break;default:clearTimeout(Kn),clearTimeout(it),vn(new Error("invalid_response"))}}},j.handlers.add(St),Q.port1.addEventListener("message",St.onMessage),j.target.postMessage({eventType:h,eventId:Qn,data:m},[Q.port2])}).finally(()=>{St&&j.removeMessageHandler(St)})})()}}function Bt(){return window}function Ko(){return typeof Bt().WorkerGlobalScope<"u"&&"function"==typeof Bt().importScripts}function pt(){return(pt=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ns="firebaseLocalStorageDb",rs=1,ca="firebaseLocalStorage",El="fbase_key";class Fs{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function da(E,h){return E.transaction([ca],h?"readwrite":"readonly").objectStore(ca)}function Xa(){const E=indexedDB.open(ns,rs);return new Promise((h,m)=>{E.addEventListener("error",()=>{m(E.error)}),E.addEventListener("upgradeneeded",()=>{const b=E.result;try{b.createObjectStore(ca,{keyPath:El})}catch(j){m(j)}}),E.addEventListener("success",(0,a.Z)(function*(){const b=E.result;b.objectStoreNames.contains(ca)?h(b):(b.close(),yield function uo(){const E=indexedDB.deleteDatabase(ns);return new Fs(E).toPromise()}(),h(yield Xa()))}))})}function ha(E,h,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,a.Z)(function*(E,h,m){const b=da(E,!0).put({[El]:h,value:m});return new Fs(b).toPromise()})).apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(E,h){const m=da(E,!1).get(h),b=yield new Fs(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Cs(E,h){const m=da(E,!0).delete(h);return new Fs(m).toPromise()}const gs=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,a.Z)(function*(){return m.db||(m.db=yield Xa()),m.db})()}_withRetries(m){var b=this;return(0,a.Z)(function*(){let j=0;for(;;)try{const Q=yield b._openDb();return yield m(Q)}catch(Q){if(j++>3)throw Q;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,a.Z)(function*(){return Ko()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,a.Z)(function*(){m.receiver=zn._getInstance(function ii(){return Ko()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,a.Z)(function*(j,Q){return{keyProcessed:(yield m._poll()).includes(Q.key)}});return function(j,Q){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,a.Z)(function*(j,Q){return["keyChanged"]});return function(j,Q){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,a.Z)(function*(){var b,j;if(m.activeServiceWorker=yield function qt(){return pt.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ui(m.activeServiceWorker);const Q=yield m.sender._send("ping",{},800);Q&&null!==(b=Q[0])&&void 0!==b&&b.fulfilled&&null!==(j=Q[0])&&void 0!==j&&j.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,a.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Nt(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Xa();return yield ha(m,M,"1"),yield Cs(m,M),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,a.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var j=this;return(0,a.Z)(function*(){return j._withPendingWrite((0,a.Z)(function*(){return yield j._withRetries(Q=>ha(Q,m,b)),j.localCache[m]=b,j.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,a.Z)(function*(){const j=yield b._withRetries(Q=>function Da(E,h){return Wn.apply(this,arguments)}(Q,m));return b.localCache[m]=j,j})()}_remove(m){var b=this;return(0,a.Z)(function*(){return b._withPendingWrite((0,a.Z)(function*(){return yield b._withRetries(j=>Cs(j,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,a.Z)(function*(){const b=yield m._withRetries(it=>{const St=da(it,!1).getAll();return new Fs(St).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const j=[],Q=new Set;for(const{fbase_key:it,value:St}of b)Q.add(it),JSON.stringify(m.localCache[it])!==JSON.stringify(St)&&(m.notifyListeners(it,St),j.push(it));for(const it of Object.keys(m.localCache))m.localCache[it]&&!Q.has(it)&&(m.notifyListeners(it,null),j.push(it));return j})()}notifyListeners(m,b){this.localCache[m]=b;const j=this.listeners[m];if(j)for(const Q of Array.from(j))Q(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function Qt(){return(Qt=(0,a.Z)(function*(E){return(yield bt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ci(E){return new Promise((h,m)=>{const b=document.createElement("script");b.setAttribute("src",E),b.onload=h,b.onerror=j=>{const Q=je("internal-error");Q.customData=j,m(Q)},b.type="text/javascript",b.charset="UTF-8",function La(){var E,h;return null!==(h=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==h?h:document}().appendChild(b)})}function Ts(E){return`__${E}${Math.floor(1e6*Math.random())}`}const fa=1e12;class pa{constructor(h){this.auth=h,this.counter=fa,this._widgets=new Map}render(h,m){const b=this.counter;return this._widgets.set(b,new Yl(h,this.auth.name,m||{})),this.counter++,b}reset(h){var m;const b=h||fa;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(h){var m;return(null===(m=this._widgets.get(h||fa))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,a.Z)(function*(){var b;return null===(b=m._widgets.get(h||fa))||void 0===b||b.execute(),""})()}}class Yl{constructor(h,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof h?document.getElementById(h):h;z(j,"argument-error",{appName:m}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ql(E){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<E;b++)h.push(m.charAt(Math.floor(Math.random()*m.length)));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const co=Ts("rcb"),As=new ze(3e4,6e4);class Ti{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Bt().grecaptcha)||void 0===h||!h.render)}load(h,m=""){return z(function Qs(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(m),h,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Bt().grecaptcha):new Promise((b,j)=>{const Q=Bt().setTimeout(()=>{j(je(h,"network-request-failed"))},As.get());Bt()[co]=()=>{Bt().clearTimeout(Q),delete Bt()[co];const St=Bt().grecaptcha;if(!St)return void j(je(h,"internal-error"));const an=St.render;St.render=(vn,Qn)=>{const Kn=an(vn,Qn);return this.counter++,Kn},this.hostLanguage=m,b(St)},Ci(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:co,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(Q),j(je(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var m;return!(null===(m=Bt().grecaptcha)||void 0===m||!m.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ls{load(h){return(0,a.Z)(function*(){return new pa(h)})()}clearedOneInstance(){}}const mt="recaptcha",Dl={theme:"light",type:"image"};class Qi{constructor(h,m=Object.assign({},Dl),b){this.parameters=m,this.type=mt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ir(b),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof h?document.getElementById(h):h;z(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ls:new Ti,this.validateStartingState()}verify(){var h=this;return(0,a.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),b=h.getAssertedRecaptcha();return b.getResponse(m)||new Promise(Q=>{const it=St=>{St&&(h.tokenChangeListeners.delete(it),Q(St))};h.tokenChangeListeners.add(it),h.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof h)h(m);else if("string"==typeof h){const b=Bt()[h];"function"==typeof b&&b(m)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,a.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,a.Z)(function*(){z(Ge()&&!Ko(),h.auth,"internal-error"),yield function qr(){let E=null;return new Promise(h=>{"complete"!==document.readyState?(E=()=>h(),window.addEventListener("load",E)):h()}).catch(h=>{throw E&&window.removeEventListener("load",E),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function Or(E){return Qt.apply(this,arguments)}(h.auth);z(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ba{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=hi._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function Zl(){return(Zl=(0,a.Z)(function*(E,h,m){const b=ir(E),j=yield Js(b,h,(0,x.m9)(m));return new Ba(j,Q=>Jn(b,Q))})).apply(this,arguments)}function Qa(){return(Qa=(0,a.Z)(function*(E,h,m){const b=(0,x.m9)(E);yield ji(!1,b,"phone");const j=yield Js(b.auth,h,(0,x.m9)(m));return new Ba(j,Q=>Eo(b,Q))})).apply(this,arguments)}function Xl(){return(Xl=(0,a.Z)(function*(E,h,m){const b=(0,x.m9)(E),j=yield Js(b.auth,h,(0,x.m9)(m));return new Ba(j,Q=>Is(b,Q))})).apply(this,arguments)}function Js(E,h,m){return No.apply(this,arguments)}function No(){return No=(0,a.Z)(function*(E,h,m){var b;const j=yield m.verify();try{let Q;if(z("string"==typeof j,E,"argument-error"),z(m.type===mt,E,"argument-error"),Q="string"==typeof h?{phoneNumber:h}:h,"session"in Q){const it=Q.session;if("phoneNumber"in Q)return z("enroll"===it.type,E,"internal-error"),(yield function _l(E,h){return bt(E,"POST","/v2/accounts/mfaEnrollment:start",vt(E,h))}(E,{idToken:it.credential,phoneEnrollmentInfo:{phoneNumber:Q.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{z("signin"===it.type,E,"internal-error");const St=(null===(b=Q.multiFactorHint)||void 0===b?void 0:b.uid)||Q.multiFactorUid;return z(St,E,"missing-multi-factor-info"),(yield function yr(E,h){return bt(E,"POST","/v2/accounts/mfaSignIn:start",vt(E,h))}(E,{mfaPendingCredential:it.credential,mfaEnrollmentId:St,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:it}=yield function At(E,h){return Ht.apply(this,arguments)}(E,{phoneNumber:Q.phoneNumber,recaptchaToken:j});return it}}finally{m._reset()}}),No.apply(this,arguments)}function yi(){return(yi=(0,a.Z)(function*(E,h){yield xo((0,x.m9)(E),h)})).apply(this,arguments)}let ba=(()=>{class E{constructor(m){this.providerId=E.PROVIDER_ID,this.auth=ir(m)}verifyPhoneNumber(m,b){return Js(this.auth,m,(0,x.m9)(b))}static credential(m,b){return hi._fromVerification(m,b)}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:j}=m;return b&&j?hi._fromTokenResponse(b,j):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Ms(E,h){return h?se(h):(z(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Bs extends Rr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Hr(h,this._buildIdpRequest())}_linkToIdToken(h,m){return Hr(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return Hr(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function Ji(E){return Fi(E.auth,new Bs(E),E.bypassAuthState)}function ko(E){const{auth:h,user:m}=E;return z(m,h,"internal-error"),Go(m,new Bs(E),E.bypassAuthState)}function wa(E){return os.apply(this,arguments)}function os(){return(os=(0,a.Z)(function*(E){const{auth:h,user:m}=E;return z(m,h,"internal-error"),xo(m,new Bs(E),E.bypassAuthState)})).apply(this,arguments)}class ss{constructor(h,m,b,j,Q=!1){this.auth=h,this.resolver=b,this.user=j,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,a.Z)(function*(b,j){h.pendingPromise={resolve:b,reject:j};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Q){h.reject(Q)}});return function(b,j){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,a.Z)(function*(){const{urlResponse:b,sessionId:j,postBody:Q,tenantId:it,error:St,type:an}=h;if(St)return void m.reject(St);const vn={auth:m.auth,requestUri:b,sessionId:j,tenantId:it||void 0,postBody:Q||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(an)(vn))}catch(Qn){m.reject(Qn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ji;case"linkViaPopup":case"linkViaRedirect":return wa;case"reauthViaPopup":case"reauthViaRedirect":return ko;default:Ke(this.auth,"internal-error")}}resolve(h){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const el=new ze(2e3,1e4);function $a(){return($a=(0,a.Z)(function*(E,h,m){const b=ir(E);_e(E,h,Wi);const j=Ms(b,m);return new ea(b,"signInViaPopup",h,j).executeNotNull()})).apply(this,arguments)}function Fo(){return(Fo=(0,a.Z)(function*(E,h,m){const b=(0,x.m9)(E);_e(b.auth,h,Wi);const j=Ms(b.auth,m);return new ea(b.auth,"reauthViaPopup",h,j,b).executeNotNull()})).apply(this,arguments)}function Gr(){return(Gr=(0,a.Z)(function*(E,h,m){const b=(0,x.m9)(E);_e(b.auth,h,Wi);const j=Ms(b.auth,m);return new ea(b.auth,"linkViaPopup",h,j,b).executeNotNull()})).apply(this,arguments)}let ea=(()=>{class E extends ss{constructor(m,b,j,Q,it){super(m,b,Q,it),this.provider=j,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var m=this;return(0,a.Z)(function*(){const b=yield m.execute();return z(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,a.Z)(function*(){X(1===m.filter.length,"Popup operations only handle one event");const b=Xn();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(j=>{m.reject(j)}),m.resolver._isIframeWebStorageSupported(m.auth,j=>{j||m.reject(je(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,j;this.pollId=null!==(j=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,el.get())};m()}}return E.currentPopupAction=null,E})();const ta="pendingRedirect",D=new Map;class w extends ss{constructor(h,m,b=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,a.Z)(function*(){let b=D.get(m.auth._key());if(!b){try{const Q=(yield function _(E,h){return A.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;b=()=>Promise.resolve(Q)}catch(j){b=()=>Promise.reject(j)}D.set(m.auth._key(),b)}return m.bypassAuthState||D.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,b=this;return(0,a.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(b,h);if("unknown"!==h.type){if(h.eventId){const j=yield b.auth._redirectUserForId(h.eventId);if(j)return b.user=j,m().call(b,h);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function A(){return(A=(0,a.Z)(function*(E,h){const m=en(h),b=xt(E);if(!(yield b._isAvailable()))return!1;const j="true"===(yield b._get(m));return yield b._remove(m),j})).apply(this,arguments)}function L(E,h){return W.apply(this,arguments)}function W(){return(W=(0,a.Z)(function*(E,h){return xt(E)._set(en(h),"true")})).apply(this,arguments)}function Qe(E,h){D.set(E._key(),h)}function xt(E){return se(E._redirectPersistence)}function en(E){return ge(ta,E.config.apiKey,E.name)}function dn(E,h,m){return function cr(E,h,m){return O.apply(this,arguments)}(E,h,m)}function O(){return(O=(0,a.Z)(function*(E,h,m){const b=ir(E);_e(E,h,Wi),yield b._initializationPromise;const j=Ms(b,m);return yield L(j,b),j._openRedirect(b,h,"signInViaRedirect")})).apply(this,arguments)}function B(E,h,m){return function K(E,h,m){return Ee.apply(this,arguments)}(E,h,m)}function Ee(){return(Ee=(0,a.Z)(function*(E,h,m){const b=(0,x.m9)(E);_e(b.auth,h,Wi),yield b.auth._initializationPromise;const j=Ms(b.auth,m);yield L(j,b.auth);const Q=yield Gn(b);return j._openRedirect(b.auth,h,"reauthViaRedirect",Q)})).apply(this,arguments)}function nt(E,h,m){return function gt(E,h,m){return Vt.apply(this,arguments)}(E,h,m)}function Vt(){return(Vt=(0,a.Z)(function*(E,h,m){const b=(0,x.m9)(E);_e(b.auth,h,Wi),yield b.auth._initializationPromise;const j=Ms(b.auth,m);yield ji(!1,b,h.providerId),yield L(j,b.auth);const Q=yield Gn(b);return j._openRedirect(b.auth,h,"linkViaRedirect",Q)})).apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(E,h){return yield ir(E)._initializationPromise,Un(E,h,!1)})).apply(this,arguments)}function Un(E,h){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(E,h,m=!1){const b=ir(E),j=Ms(b,h),it=yield new w(b,j,m).execute();return it&&!m&&(delete it.user._redirectEventId,yield b._persistUserIfCurrent(it.user),yield b._setRedirectUser(null,h)),it})).apply(this,arguments)}function Gn(E){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,a.Z)(function*(E){const h=Xn(`${E.uid}:::`);return E._redirectEventId=h,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),h})).apply(this,arguments)}class tl{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(h,b)&&(m=!0,this.sendToConsumer(h,b),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function to(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kr(E);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var b;if(h.error&&!kr(h)){const j=(null===(b=h.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(je(this.auth,j))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const b=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&b}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wr(h))}saveEventToCache(h){this.cachedEventUids.add(wr(h)),this.lastProcessedEventTime=Date.now()}}function wr(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(h=>h).join("-")}function kr({type:E,error:h}){return"unknown"===E&&"auth/no-auth-event"===h?.code}function xs(E){return nl.apply(this,arguments)}function nl(){return(nl=(0,a.Z)(function*(E,h={}){return bt(E,"GET","/v1/projects",h)})).apply(this,arguments)}const hd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bh=/^https?/;function pd(){return(pd=(0,a.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:h}=yield xs(E);for(const m of h)try{if(wh(m))return}catch{}Ke(E,"unauthorized-domain")})).apply(this,arguments)}function wh(E){const h=We(),{protocol:m,hostname:b}=new URL(h);if(E.startsWith("chrome-extension://")){const it=new URL(E);return""===it.hostname&&""===b?"chrome-extension:"===m&&E.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&it.hostname===b}if(!bh.test(m))return!1;if(hd.test(E))return b===E;const j=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(b)}const Yf=new ze(3e4,6e4);function Dc(){const E=Bt().___jsl;if(E?.H)for(const h of Object.keys(E.H))if(E.H[h].r=E.H[h].r||[],E.H[h].L=E.H[h].L||[],E.H[h].r=[...E.H[h].L],E.CP)for(let m=0;m<E.CP.length;m++)E.CP[m]=null}let bc=null;const qf=new ze(5e3,15e3),Ag="__/auth/iframe",Mg="emulator/auth/iframe",Mu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hi(E){const h=E.config;z(h.authDomain,E,"auth-domain-config-required");const m=h.emulator?Re(h,Mg):`https://${E.config.authDomain}/${Ag}`,b={apiKey:h.apiKey,appName:E.name,v:ie.SDK_VERSION},j=xg.get(E.config.apiHost);j&&(b.eid=j);const Q=E._getFrameworks();return Q.length&&(b.fw=Q.join(",")),`${m}?${(0,x.xO)(b).slice(1)}`}function no(){return no=(0,a.Z)(function*(E){const h=yield function gd(E){return bc=bc||function Sg(E){return new Promise((h,m)=>{var b,j,Q;function it(){Dc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Dc(),m(je(E,"network-request-failed"))},timeout:Yf.get()})}if(null!==(j=null===(b=Bt().gapi)||void 0===b?void 0:b.iframes)&&void 0!==j&&j.Iframe)h(gapi.iframes.getContext());else{if(null===(Q=Bt().gapi)||void 0===Q||!Q.load){const St=Ts("iframefcb");return Bt()[St]=()=>{gapi.load?it():m(je(E,"network-request-failed"))},Ci(`https://apis.google.com/js/api.js?onload=${St}`).catch(an=>m(an))}it()}}).catch(h=>{throw bc=null,h})}(E),bc}(E),m=Bt().gapi;return z(m,E,"internal-error"),h.open({where:document.body,url:Hi(E),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mu,dontclear:!0},b=>new Promise(function(){var j=(0,a.Z)(function*(Q,it){yield b.restyle({setHideOnLeave:!1});const St=je(E,"network-request-failed"),an=Bt().setTimeout(()=>{it(St)},qf.get());function vn(){Bt().clearTimeout(an),Q(b)}b.ping(vn).then(vn,()=>{it(St)})});return function(Q,it){return j.apply(this,arguments)}}()))}),no.apply(this,arguments)}const di={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},md=500,bl=600,$i="_blank",Lo="http://localhost";class yd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ru="__/auth/handler",wl="emulator/auth/handler";function Cl(E,h,m,b,j,Q){z(E.config.authDomain,E,"auth-domain-config-required"),z(E.config.apiKey,E,"invalid-api-key");const it={apiKey:E.config.apiKey,appName:E.name,authType:m,redirectUrl:b,v:ie.SDK_VERSION,eventId:j};if(h instanceof Wi){h.setDefaultLanguage(E.languageCode),it.providerId=h.providerId||"",(0,x.xb)(h.getCustomParameters())||(it.customParameters=JSON.stringify(h.getCustomParameters()));for(const[an,vn]of Object.entries(Q||{}))it[an]=vn}if(h instanceof Di){const an=h.getScopes().filter(vn=>""!==vn);an.length>0&&(it.scopes=an.join(","))}E.tenantId&&(it.tid=E.tenantId);const St=it;for(const an of Object.keys(St))void 0===St[an]&&delete St[an];return`${function wc({config:E}){return E.emulator?Re(E,wl):`https://${E.authDomain}/${Ru}`}(E)}?${(0,x.xO)(St).slice(1)}`}const Tl="webStorageSupport",vd=class Th{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Er,this._completeRedirectFn=Un,this._overrideRedirectResult=Qe}_openPopup(h,m,b,j){var Q=this;return(0,a.Z)(function*(){var it;X(null===(it=Q.eventManagers[h._key()])||void 0===it?void 0:it.manager,"_initialize() not called before _openPopup()");const St=Cl(h,m,b,We(),j);return function Si(E,h,m,b=md,j=bl){const Q=Math.max((window.screen.availHeight-j)/2,0).toString(),it=Math.max((window.screen.availWidth-b)/2,0).toString();let St="";const an=Object.assign(Object.assign({},di),{width:b.toString(),height:j.toString(),top:Q,left:it}),vn=(0,x.z$)().toLowerCase();m&&(St=Pe(vn)?$i:m),lt(vn)&&(h=h||Lo,an.scrollbars="yes");const Qn=Object.entries(an).reduce((ho,[Us,Ol])=>`${ho}${Us}=${Ol},`,"");if(function An(E=(0,x.z$)()){var h;return Rt(E)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(vn)&&"_self"!==St)return function Ch(E,h){const m=document.createElement("a");m.href=E,m.target=h;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(h||"",St),new yd(null);const Kn=window.open(h||"",St,Qn);z(Kn,E,"popup-blocked");try{Kn.focus()}catch{}return new yd(Kn)}(h,St,Xn())})()}_openRedirect(h,m,b,j){var Q=this;return(0,a.Z)(function*(){return yield Q._originValidation(h),function tn(E){Bt().location.href=E}(Cl(h,m,b,We(),j)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:j,promise:Q}=this.eventManagers[m];return j?Promise.resolve(j):(X(Q,"If manager is not set, promise should be"),Q)}const b=this.initAndGetManager(h);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(h){var m=this;return(0,a.Z)(function*(){const b=yield function xu(E){return no.apply(this,arguments)}(h),j=new tl(h);return b.register("authEvent",Q=>(z(Q?.authEvent,h,"invalid-auth-event"),{status:j.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:j},m.iframes[h._key()]=b,j})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(Tl,{type:Tl},j=>{var Q;const it=null===(Q=j?.[0])||void 0===Q?void 0:Q[Tl];void 0!==it&&m(!!it),Ke(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function fd(E){return pd.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return si()||Zt()||Rt()}};class Gi{constructor(h){this.factorId=h}_process(h,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,b);case"signin":return this._finalizeSignIn(h,m.credential);default:return Be("unexpected MultiFactorSessionType")}}}class Jl extends Gi{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Jl(h)}_finalizeEnroll(h,m,b){return function ka(E,h){return bt(E,"POST","/v2/accounts/mfaEnrollment:finalize",vt(E,h))}(h,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function Au(E,h){return bt(E,"POST","/v2/accounts/mfaSignIn:finalize",vt(E,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sl=(()=>{class E{constructor(){}static assertion(m){return Jl._fromCredential(m)}}return E.FACTOR_ID="phone",E})();var Ou="@firebase/auth";class rl{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,a.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(b=>{h(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);m&&(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ca(){return window}(0,x.Pz)("authIdTokenMaxAge"),function il(E){(0,ie._registerComponent)(new ne.wA("auth",(h,{options:m})=>{const b=h.getProvider("app").getImmediate(),j=h.getProvider("heartbeat"),{apiKey:Q,authDomain:it}=b.options;return((St,an)=>{z(Q&&!Q.includes(":"),"invalid-api-key",{appName:St.name}),z(!it?.includes(":"),"argument-error",{appName:St.name});const vn={apiKey:Q,authDomain:it,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vi(E)},Qn=new Jr(St,an,vn);return function Se(E,h){const m=h?.persistence||[],b=(Array.isArray(m)?m:[m]).map(se);h?.errorMap&&E._updateErrorMap(h.errorMap),E._initializeWithPersistence(b,h?.popupRedirectResolver)}(Qn,m),Qn})(b,j)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,b)=>{h.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ne.wA("auth-internal",h=>{const m=ir(h.getProvider("auth").getImmediate());return new rl(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Ou,"0.21.4",function Cc(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,ie.registerVersion)(Ou,"0.21.4","esm2017")}("Browser");const Nu=2e3;function tu(){return tu=(0,a.Z)(function*(E,h,m){var b;const{BuildInfo:j}=Ca();X(h.sessionId,"AuthEvent did not contain a session ID");const Q=yield function Id(E){return ku.apply(this,arguments)}(h.sessionId),it={};return Rt()?it.ibi=j.packageName:ce()?it.apn=j.packageName:Ke(E,"operation-not-supported-in-this-environment"),j.displayName&&(it.appDisplayName=j.displayName),it.sessionId=Q,Cl(E,m,h.type,void 0,null!==(b=h.eventId)&&void 0!==b?b:void 0,it)}),tu.apply(this,arguments)}function Sc(){return(Sc=(0,a.Z)(function*(E){const{BuildInfo:h}=Ca(),m={};Rt()?m.iosBundleId=h.packageName:ce()?m.androidPackageName=h.packageName:Ke(E,"operation-not-supported-in-this-environment"),yield xs(E,m)})).apply(this,arguments)}function ru(){return(ru=(0,a.Z)(function*(E,h,m){const{cordova:b}=Ca();let j=()=>{};try{yield new Promise((Q,it)=>{let St=null;function an(){var Kn;Q();const ho=null===(Kn=b.plugins.browsertab)||void 0===Kn?void 0:Kn.close;"function"==typeof ho&&ho(),"function"==typeof m?.close&&m.close()}function vn(){St||(St=window.setTimeout(()=>{it(je(E,"redirect-cancelled-by-user"))},Nu))}function Qn(){"visible"===document?.visibilityState&&vn()}h.addPassiveListener(an),document.addEventListener("resume",vn,!1),ce()&&document.addEventListener("visibilitychange",Qn,!1),j=()=>{h.removePassiveListener(an),document.removeEventListener("resume",vn,!1),document.removeEventListener("visibilitychange",Qn,!1),St&&window.clearTimeout(St)}})}finally{j()}})).apply(this,arguments)}function ku(){return(ku=(0,a.Z)(function*(E){const h=function ya(E){if(X(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const h=new ArrayBuffer(E.length),m=new Uint8Array(h);for(let b=0;b<E.length;b++)m[b]=E.charCodeAt(b);return m}(E),m=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(m)).map(j=>j.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Va=20;class Dd extends tl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(h)),super.onEvent(h)}initialized(){var h=this;return(0,a.Z)(function*(){yield h.initPromise})()}}function Ml(E){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,a.Z)(function*(E){const h=yield bd()._get(wd(E));return h&&(yield bd()._remove(wd(E))),h})).apply(this,arguments)}function Fu(){const E=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<Va;m++){const b=Math.floor(Math.random()*h.length);E.push(h.charAt(b))}return E.join("")}function bd(){return se(Mt)}function wd(E){return ge("authEvent",E.config.apiKey,E.name)}function ol(E){if(!E?.includes("?"))return{};const[h,...m]=E.split("?");return(0,x.zd)(m.join("?"))}const Lu=class Xf{constructor(){this._redirectPersistence=Er,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Un,this._overrideRedirectResult=Qe}_initialize(h){var m=this;return(0,a.Z)(function*(){const b=h._key();let j=m.eventManagers.get(b);return j||(j=new Dd(h),m.eventManagers.set(b,j),m.attachCallbackListeners(h,j)),j})()}_openPopup(h){Ke(h,"operation-not-supported-in-this-environment")}_openRedirect(h,m,b,j){var Q=this;return(0,a.Z)(function*(){!function Ed(E){var h,m,b,j,Q,it,St,an,vn,Qn;const Kn=Ca();z("function"==typeof(null===(h=Kn?.universalLinks)||void 0===h?void 0:h.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(typeof(null===(m=Kn?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z("function"==typeof(null===(Q=null===(j=null===(b=Kn?.cordova)||void 0===b?void 0:b.plugins)||void 0===j?void 0:j.browsertab)||void 0===Q?void 0:Q.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(an=null===(St=null===(it=Kn?.cordova)||void 0===it?void 0:it.plugins)||void 0===St?void 0:St.browsertab)||void 0===an?void 0:an.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(Qn=null===(vn=Kn?.cordova)||void 0===vn?void 0:vn.InAppBrowser)||void 0===Qn?void 0:Qn.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const it=yield Q._initialize(h);yield it.initialized(),it.resetRedirect(),function J(){D.clear()}(),yield Q._originValidation(h);const St=function Al(E,h,m=null){return{type:h,eventId:m,urlResponse:null,sessionId:Fu(),postBody:null,tenantId:E.tenantId,error:je(E,"no-auth-event")}}(h,b,j);yield function Ac(E,h){return bd()._set(wd(E),h)}(h,St);const an=yield function Sh(E,h,m){return tu.apply(this,arguments)}(h,St,m),vn=yield function nu(E){const{cordova:h}=Ca();return new Promise(m=>{h.plugins.browsertab.isAvailable(b=>{let j=null;b?h.plugins.browsertab.openUrl(E):j=h.InAppBrowser.open(E,function Tn(E=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),m(j)})})}(an);return function Ah(E,h,m){return ru.apply(this,arguments)}(h,it,vn)})()}_isIframeWebStorageSupported(h,m){throw new Error("Method not implemented.")}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function _d(E){return Sc.apply(this,arguments)}(h)),this.originValidationPromises[m]}attachCallbackListeners(h,m){const{universalLinks:b,handleOpenURL:j,BuildInfo:Q}=Ca(),it=setTimeout((0,a.Z)(function*(){yield Ml(h),m.onEvent(Cd())}),500),St=function(){var Qn=(0,a.Z)(function*(Kn){clearTimeout(it);const ho=yield Ml(h);let Us=null;ho&&Kn?.url&&(Us=function Mh(E,h){var m,b;const j=function iu(E){const h=ol(E),m=h.link?decodeURIComponent(h.link):void 0,b=ol(m).link,j=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return ol(j).link||j||b||m||E}(h);if(j.includes("/__/auth/callback")){const Q=ol(j),it=Q.firebaseError?function Ai(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(Q.firebaseError)):null,St=null===(b=null===(m=it?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],an=St?je(St):null;return an?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:an,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:j,postBody:null}}return null}(ho,Kn.url)),m.onEvent(Us||Cd())});return function(ho){return Qn.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,St);const an=j,vn=`${Q.packageName.toLowerCase()}://`;Ca().handleOpenURL=function(){var Qn=(0,a.Z)(function*(Kn){if(Kn.toLowerCase().startsWith(vn)&&St({url:Kn}),"function"==typeof an)try{an(Kn)}catch(ho){console.error(ho)}});return function(Kn){return Qn.apply(this,arguments)}}()}};function Cd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:je("no-auth-event")}}const Sd=1e3;function ou(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Sa(E=(0,x.z$)()){return!("file:"!==ou()&&"ionic:"!==ou()&&"capacitor:"!==ou()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bu(){try{const E=self.localStorage,h=Xn();if(E)return E.setItem(h,"1"),E.removeItem(h),!function Br(E=(0,x.z$)()){return function xh(){return(0,x.w1)()&&11===document?.documentMode}()||function ro(E=(0,x.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,x.hl)()}catch{return $u()&&(0,x.hl)()}return!1}function $u(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vs(){return(function Qf(){return"http:"===ou()||"https:"===ou()}()||(0,x.ru)()||Sa())&&!function Ad(){return(0,x.b$)()||(0,x.UG)()}()&&Bu()&&!$u()}function Vu(){return Sa()&&typeof document<"u"}function su(){return(su=(0,a.Z)(function*(){return!!Vu()&&new Promise(E=>{const h=setTimeout(()=>{E(!1)},Sd);document.addEventListener("deviceready",()=>{clearTimeout(h),E(!0)})})})).apply(this,arguments)}const as={LOCAL:"local",NONE:"none",SESSION:"session"},Bo=z,Md="persistence";function xd(E){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,a.Z)(function*(E){yield E._initializationPromise;const h=Od(),m=ge(Md,E.config.apiKey,E.name);h&&h.setItem(m,E._getPersistence())})).apply(this,arguments)}function Od(){var E;try{return(null===(E=function xl(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const Uu=z;class vs{constructor(){this.browserResolver=se(vd),this.cordovaResolver=se(Lu),this.underlyingResolver=null,this._redirectPersistence=Er,this._completeRedirectFn=Un,this._overrideRedirectResult=Qe}_initialize(h){var m=this;return(0,a.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,m,b,j){var Q=this;return(0,a.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openPopup(h,m,b,j)})()}_openRedirect(h,m,b,j){var Q=this;return(0,a.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openRedirect(h,m,b,j)})()}_isIframeWebStorageSupported(h,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,m)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Vu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Uu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,a.Z)(function*(){if(h.underlyingResolver)return;const m=yield function ys(){return su.apply(this,arguments)}();h.underlyingResolver=m?h.cordovaResolver:h.browserResolver})()}}function sl(E){return E.unwrap()}function Rh(E){return Ph(E)}function Ph(E){const{_tokenResponse:h}=E instanceof x.ZR?E.customData:E;if(!h)return null;if(!(E instanceof x.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return ba.credentialFromResult(E);const m=h.providerId;if(!m||m===Te.PASSWORD)return null;let b;switch(m){case Te.GOOGLE:b=cs;break;case Te.FACEBOOK:b=So;break;case Te.GITHUB:b=mo;break;case Te.TWITTER:b=Es;break;default:const{oauthIdToken:j,oauthAccessToken:Q,oauthTokenSecret:it,pendingToken:St,nonce:an}=h;return Q||it||j||St?St?m.startsWith("saml.")?Ki._create(m,St):ot._fromParams({providerId:m,signInMethod:m,pendingToken:St,idToken:j,accessToken:Q}):new bi(m).credential({idToken:j,accessToken:Q,rawNonce:an}):null}return E instanceof x.ZR?b.credentialFromError(E):b.credentialFromResult(E)}function Rs(E,h){return h.catch(m=>{throw m instanceof x.ZR&&function Oh(E,h){var m;const b=null===(m=h.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new Nh(E,function mi(E,h){var m;const b=(0,x.m9)(E),j=h;return z(h.customData.operationType,b,"argument-error"),z(null===(m=j.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Ia._fromError(b,j)}(E,h));else if(b){const j=Ph(h),Q=h;j&&(Q.credential=j,Q.tenantId=b.tenantId||void 0,Q.email=b.email||void 0,Q.phoneNumber=b.phoneNumber||void 0)}}(E,m),m}).then(m=>{const j=m.user;return{operationType:m.operationType,credential:Rh(m),additionalUserInfo:Ea(m),user:ra.getOrCreate(j)}})}function lu(E,h){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,a.Z)(function*(E,h){const m=yield h;return{verificationId:m.verificationId,confirm:b=>Rs(E,m.confirm(b))}})).apply(this,arguments)}class Nh{constructor(h,m){this.resolver=m,this.auth=function Ua(E){return E.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Rs(sl(this.auth),this.resolver.resolveSignIn(h))}}class ra{constructor(h){this._delegate=h,this.multiFactor=function Za(E){const h=(0,x.m9)(E);return Zs.has(h)||Zs.set(h,ua._fromUser(h)),Zs.get(h)}(h)}static getOrCreate(h){return ra.USER_MAP.has(h)||ra.USER_MAP.set(h,new ra(h)),ra.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var m=this;return(0,a.Z)(function*(){return Rs(m.auth,Eo(m._delegate,h))})()}linkWithPhoneNumber(h,m){var b=this;return(0,a.Z)(function*(){return lu(b.auth,function ma(E,h,m){return Qa.apply(this,arguments)}(b._delegate,h,m))})()}linkWithPopup(h){var m=this;return(0,a.Z)(function*(){return Rs(m.auth,function $s(E,h,m){return Gr.apply(this,arguments)}(m._delegate,h,vs))})()}linkWithRedirect(h){var m=this;return(0,a.Z)(function*(){return yield xd(ir(m.auth)),nt(m._delegate,h,vs)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var m=this;return(0,a.Z)(function*(){return Rs(m.auth,Is(m._delegate,h))})()}reauthenticateWithPhoneNumber(h,m){return lu(this.auth,function Ja(E,h,m){return Xl.apply(this,arguments)}(this._delegate,h,m))}reauthenticateWithPopup(h){return Rs(this.auth,function eo(E,h,m){return Fo.apply(this,arguments)}(this._delegate,h,vs))}reauthenticateWithRedirect(h){var m=this;return(0,a.Z)(function*(){return yield xd(ir(m.auth)),B(m._delegate,h,vs)})()}sendEmailVerification(h){return function or(E,h){return kn.apply(this,arguments)}(this._delegate,h)}unlink(h){var m=this;return(0,a.Z)(function*(){return yield function vo(E,h){return Yi.apply(this,arguments)}(m._delegate,h),m})()}updateEmail(h){return function oa(E,h){return Ps((0,x.m9)(E),h,null)}(this._delegate,h)}updatePassword(h){return function sa(E,h){return Ps((0,x.m9)(E),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Ic(E,h){return yi.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function ws(E,h){return Oo.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,m){return function pr(E,h,m){return Ei.apply(this,arguments)}(this._delegate,h,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ra.USER_MAP=new WeakMap;const Rl=z;let Pd=(()=>{class E{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:j}=m.options;Rl(j,"invalid-api-key",{appName:m.name}),Rl(j,"invalid-api-key",{appName:m.name});const Q=typeof window<"u"?vs:void 0;this._delegate=b.initialize({options:{persistence:Nd(j,m.name),popupRedirectResolver:Q}}),this._delegate._updateErrorMap(Xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ra.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function pi(E,h,m){const b=ir(E);z(b._canInitEmulator,b,"emulator-config-failed"),z(/^https?:\/\//.test(h),b,"invalid-emulator-scheme");const j=!!m?.disableWarnings,Q=On(h),{host:it,port:St}=function xr(E){const h=On(E),m=/(\/\/)?([^?#/]+)/.exec(E.substr(h.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(b);if(j){const Q=j[1];return{host:Q,port:lr(b.substr(Q.length+1))}}{const[Q,it]=b.split(":");return{host:Q,port:lr(it)}}}(h);b.config.emulator={url:`${Q}//${it}${null===St?"":`:${St}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:it,port:St,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function jr(){function E(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,m,b)}applyActionCode(m){return function bs(E,h){return ts.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Wo(this._delegate,m)}confirmPasswordReset(m,b){return function hs(E,h,m){return Ks.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var j=this;return(0,a.Z)(function*(){return Rs(j._delegate,function Ft(E,h,m){return Zn.apply(this,arguments)}(j._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function rn(E,h){return xn.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function p(E,h){return"EMAIL_SIGNIN"===To.parseLink(h)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,a.Z)(function*(){Rl(Vs(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function yn(E,h){return Rn.apply(this,arguments)}(m._delegate,vs);return b?Rs(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Td(E,h){ir(E)._logFramework(h)}(this._delegate,m)}onAuthStateChanged(m,b,j){const{next:Q,error:it,complete:St}=al(m,b,j);return this._delegate.onAuthStateChanged(Q,it,St)}onIdTokenChanged(m,b,j){const{next:Q,error:it,complete:St}=al(m,b,j);return this._delegate.onIdTokenChanged(Q,it,St)}sendSignInLinkToEmail(m,b){return function d(E,h,m){return y.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Do(E,h,m){return Ln.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,a.Z)(function*(){let j;switch(function au(E,h){Bo(Object.values(as).includes(h),E,"invalid-persistence-type"),(0,x.b$)()?Bo(h!==as.SESSION,E,"unsupported-persistence-type"):(0,x.UG)()?Bo(h===as.NONE,E,"unsupported-persistence-type"):$u()?Bo(h===as.NONE||h===as.LOCAL&&(0,x.hl)(),E,"unsupported-persistence-type"):Bo(h===as.NONE||Bu(),E,"unsupported-persistence-type")}(b._delegate,m),m){case as.SESSION:j=Er;break;case as.LOCAL:j=(yield se(gs)._isAvailable())?gs:Mt;break;case as.NONE:j=Ae;break;default:return Ke("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(j)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Rs(this._delegate,function Ho(E){return wi.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Rs(this._delegate,Jn(this._delegate,m))}signInWithCustomToken(m){return Rs(this._delegate,function Ds(E,h){return Io.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Rs(this._delegate,function F(E,h,m){return Jn((0,x.m9)(E),jo.credential(h,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Rs(this._delegate,function S(E,h,m){return G.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return lu(this._delegate,function ga(E,h,m){return Zl.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,a.Z)(function*(){return Rl(Vs(),b._delegate,"operation-not-supported-in-this-environment"),Rs(b._delegate,function Ql(E,h,m){return $a.apply(this,arguments)}(b._delegate,m,vs))})()}signInWithRedirect(m){var b=this;return(0,a.Z)(function*(){return Rl(Vs(),b._delegate,"operation-not-supported-in-this-environment"),yield xd(b._delegate),dn(b._delegate,m,vs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Ro(E,h){return Os.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=as,E})();function al(E,h,m){let b=E;"function"!=typeof E&&({next:b,error:h,complete:m}=E);const j=b;return{next:it=>j(it&&ra.getOrCreate(it)),error:h,complete:m}}function Nd(E,h){const m=function Ir(E,h){const m=Od();if(!m)return[];const b=ge(Md,E,h);switch(m.getItem(b)){case as.NONE:return[Ae];case as.LOCAL:return[gs,Er];case as.SESSION:return[Er];default:return[]}}(E,h);if(typeof self<"u"&&!m.includes(gs)&&m.push(gs),typeof window<"u")for(const b of[Mt,Er])m.includes(b)||m.push(b);return m.includes(Ae)||m.push(Ae),m}class Oc{constructor(){this.providerId="phone",this._delegate=new ba(sl(k.Z.auth()))}static credential(h,m){return ba.credential(h,m)}verifyPhoneNumber(h,m){return this._delegate.verifyPhoneNumber(h,m)}unwrap(){return this._delegate}}Oc.PHONE_SIGN_IN_METHOD=ba.PHONE_SIGN_IN_METHOD,Oc.PROVIDER_ID=ba.PROVIDER_ID;const io=z;class kd{constructor(h,m,b=k.Z.app()){var j;io(null===(j=b.options)||void 0===j?void 0:j.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Qi(h,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ju(E){E.INTERNAL.registerComponent(new ne.wA("auth-compat",h=>{const m=h.getProvider("app-compat").getImmediate(),b=h.getProvider("auth");return new Pd(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ue_EMAIL_SIGNIN,PASSWORD_RESET:ue_PASSWORD_RESET,RECOVER_EMAIL:ue_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ue_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ue_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ue_VERIFY_EMAIL}},EmailAuthProvider:jo,FacebookAuthProvider:So,GithubAuthProvider:mo,GoogleAuthProvider:cs,OAuthProvider:bi,SAMLAuthProvider:Oi,PhoneAuthProvider:Oc,PhoneMultiFactorGenerator:Sl,RecaptchaVerifier:kd,TwitterAuthProvider:Es,Auth:Pd,AuthCredential:Rr,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.3.4")}(k.Z)},8766:(zt,rt,P)=>{"use strict";P.d(rt,{Lj:()=>Ke,X3:()=>Ze});var a=P(5861);const k=(z,Be)=>Be.some(X=>z instanceof X);let x,ie;const ne=new WeakMap,he=new WeakMap,Te=new WeakMap,ae=new WeakMap,le=new WeakMap;let ke={get(z,Be,X){if(z instanceof IDBTransaction){if("done"===Be)return he.get(z);if("objectStoreNames"===Be)return z.objectStoreNames||Te.get(z);if("store"===Be)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return de(z[Be])},set:(z,Be,X)=>(z[Be]=X,!0),has:(z,Be)=>z instanceof IDBTransaction&&("done"===Be||"store"===Be)||Be in z};function we(z){return"function"==typeof z?function ht(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...Be){return z.apply(ee(this),Be),de(ne.get(this))}:function(...Be){return de(z.apply(ee(this),Be))}:function(Be,...X){const Ce=z.call(ee(this),Be,...X);return Te.set(Ce,Be.sort?Be.sort():[Be]),de(Ce)}}(z):(z instanceof IDBTransaction&&function Oe(z){if(he.has(z))return;const Be=new Promise((X,Ce)=>{const se=()=>{z.removeEventListener("complete",xe),z.removeEventListener("error",Se),z.removeEventListener("abort",Se)},xe=()=>{X(),se()},Se=()=>{Ce(z.error||new DOMException("AbortError","AbortError")),se()};z.addEventListener("complete",xe),z.addEventListener("error",Se),z.addEventListener("abort",Se)});he.set(z,Be)}(z),k(z,function Ie(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,ke):z)}function de(z){if(z instanceof IDBRequest)return function ue(z){const Be=new Promise((X,Ce)=>{const se=()=>{z.removeEventListener("success",xe),z.removeEventListener("error",Se)},xe=()=>{X(de(z.result)),se()},Se=()=>{Ce(z.error),se()};z.addEventListener("success",xe),z.addEventListener("error",Se)});return Be.then(X=>{X instanceof IDBCursor&&ne.set(X,z)}).catch(()=>{}),le.set(Be,z),Be}(z);if(ae.has(z))return ae.get(z);const Be=we(z);return Be!==z&&(ae.set(z,Be),le.set(Be,z)),Be}const ee=z=>le.get(z);function Ze(z,Be,{blocked:X,upgrade:Ce,blocking:se,terminated:xe}={}){const Se=indexedDB.open(z,Be),We=de(Se);return Ce&&Se.addEventListener("upgradeneeded",Ge=>{Ce(de(Se.result),Ge.oldVersion,Ge.newVersion,de(Se.transaction))}),X&&Se.addEventListener("blocked",()=>X()),We.then(Ge=>{xe&&Ge.addEventListener("close",()=>xe()),se&&Ge.addEventListener("versionchange",()=>se())}).catch(()=>{}),We}function Ke(z,{blocked:Be}={}){const X=indexedDB.deleteDatabase(z);return Be&&X.addEventListener("blocked",()=>Be()),de(X).then(()=>{})}const je=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],_e=new Map;function De(z,Be){if(!(z instanceof IDBDatabase)||Be in z||"string"!=typeof Be)return;if(_e.get(Be))return _e.get(Be);const X=Be.replace(/FromIndex$/,""),Ce=Be!==X,se=Ve.includes(X);if(!(X in(Ce?IDBIndex:IDBObjectStore).prototype)||!se&&!je.includes(X))return;const xe=function(){var Se=(0,a.Z)(function*(We,...Ge){const fe=this.transaction(We,se?"readwrite":"readonly");let me=fe.store;return Ce&&(me=me.index(Ge.shift())),(yield Promise.all([me[X](...Ge),se&&fe.done]))[0]});return function(Ge){return Se.apply(this,arguments)}}();return _e.set(Be,xe),xe}!function Xe(z){ke=z(ke)}(z=>({...z,get:(Be,X,Ce)=>De(Be,X)||z.get(Be,X,Ce),has:(Be,X)=>!!De(Be,X)||z.has(Be,X)}))},5861:(zt,rt,P)=>{"use strict";function a(x,ie,Ie,pe,ne,he,Te){try{var ae=x[he](Te),le=ae.value}catch(ue){return void Ie(ue)}ae.done?ie(le):Promise.resolve(le).then(pe,ne)}function k(x){return function(){var ie=this,Ie=arguments;return new Promise(function(pe,ne){var he=x.apply(ie,Ie);function Te(le){a(he,pe,ne,Te,ae,"next",le)}function ae(le){a(he,pe,ne,Te,ae,"throw",le)}Te(void 0)})}}P.d(rt,{Z:()=>k})}},zt=>{zt(zt.s=9820)}]);