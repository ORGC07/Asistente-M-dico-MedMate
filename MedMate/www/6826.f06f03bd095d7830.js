"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6826],{6826:(y,g,n)=>{n.r(g),n.d(g,{VcitasPageModule:()=>x});var u=n(6895),m=n(433),e=n(2078),c=n(2435),r=n(655),t=n(4650),p=n(7556),f=n(1343);function Z(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item",7)(1,"ion-label")(2,"h2",8),t._uU(3),t.qZA(),t.TgZ(4,"h4",9)(5,"b"),t._uU(6,"Especialidad: "),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"h4",9)(9,"b"),t._uU(10,"Estado: "),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"h4",9)(13,"b"),t._uU(14,"Fecha: "),t.qZA(),t._uU(15),t.qZA(),t.TgZ(16,"h4",9)(17,"b"),t._uU(18,"Hora: "),t.qZA(),t._uU(19),t.qZA()(),t.TgZ(20,"ion-buttons",10)(21,"ion-button",11),t.NdJ("click",function(){const d=t.CHM(o).$implicit,h=t.oxw(2);return t.KtG(h.delete(d))}),t._UZ(22,"ion-icon",12),t.qZA()()()}if(2&i){const o=s.$implicit;t.xp6(3),t.hij("Dr. ",o.doctor,""),t.xp6(4),t.hij(" ",o.especialidad,""),t.xp6(4),t.hij(" ",o.estado,""),t.xp6(4),t.hij(" ",o.fecha,""),t.xp6(4),t.Oqu(o.hora)}}function v(i,s){if(1&i&&(t.TgZ(0,"ion-item-group",5),t.YNc(1,Z,23,5,"ion-item",6),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.citas)}}const C=function(){return["/home"]},A=[{path:"",component:(()=>{class i{constructor(o,a,l,d,h,P){this.auth=o,this.router=a,this.store=l,this.loadingCtrl=d,this.toastController=h,this.alertController=P,this.citas=[],this.infoc={doctor:"",iddoctor:"",paciente:"",idpaciente:"",especialidad:"",fecha:new Date,hora:0,id:"",estado:""},this.path="Citas"}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){const o=yield this.auth.getUid();o&&(this.uid=o,this.cita())})}cita(){this.store.consultar(this.path).subscribe(o=>{o&&(this.citas=[],o.forEach(a=>{a.idpaciente==this.uid&&(this.infoc=a,this.citas.push(this.infoc))}))})}delete(o){return(0,r.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"normal",header:"Advertencia",message:"\xbfSeguro que deseas <strong>eliminar</strong> esta cita?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"normal",handler:()=>{console.log("Alert canceled")}},{text:"OK",role:"confirm",handler:()=>{console.log("Alert confirmed"),this.store.deletedoc(this.path,o.id).then(l=>{this.alertController.dismiss(),this.presentToast("Eliminado con exito")}).catch(l=>{this.presentToast("No se pudo eliminar")})}}]})).present()})}showLoading(){return(0,r.mG)(this,void 0,void 0,function*(){this.loading=yield this.loadingCtrl.create({cssClass:"normal",message:"Guardando...",spinner:"circles"}),yield this.loading.present()})}presentToast(o){return(0,r.mG)(this,void 0,void 0,function*(){yield(yield this.toastController.create({cssClass:"normal",message:o,duration:2e3,icon:"thumbs-up-outline",color:"light"})).present()})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(p.e),t.Y36(c.F0),t.Y36(f.C),t.Y36(e.HT),t.Y36(e.yF),t.Y36(e.Br))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vcitas"]],decls:9,vars:3,consts:[["color","principal"],["color","blanco","fill","clear","slot","start",3,"routerLink"],["name","arrow-back-outline"],["color","blanco",1,"ion-padding"],["class","custom-list",4,"ngIf"],[1,"custom-list"],["color","relleno","color","light",4,"ngFor","ngForOf"],["color","relleno","color","light"],[1,"normal"],[1,"peque\xf1a"],["slot","end"],[3,"click"],["slot","icon-only","name","trash-outline","color","danger"]],template:function(o,a){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t._uU(3,"Citas"),t.qZA(),t.TgZ(4,"ion-button",1),t._UZ(5,"ion-icon",2),t.qZA()()(),t.TgZ(6,"ion-content")(7,"ion-content",3),t.YNc(8,v,2,1,"ion-item-group",4),t.qZA()()),2&o&&(t.xp6(4),t.Q6J("routerLink",t.DdM(2,C)),t.xp6(4),t.Q6J("ngIf",a.citas))},dependencies:[u.sg,u.O5,e.YG,e.Sm,e.W2,e.Gu,e.gu,e.Ie,e.Ub,e.Q$,e.wd,e.sr,e.YI,c.rH]}),i})()}];let T=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[c.Bz.forChild(A),c.Bz]}),i})(),x=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.ez,m.u5,e.Pc,T]}),i})()}}]);