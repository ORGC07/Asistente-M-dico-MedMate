"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5066],{5066:(x,g,n)=>{n.r(g),n.d(g,{VmedicamentosPageModule:()=>T});var m=n(6895),h=n(433),i=n(2078),a=n(2435),c=n(655),t=n(4650),p=n(7556),f=n(1343);function v(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",7)(1,"ion-label")(2,"p",8)(3,"b"),t._uU(4,"Medicamento: "),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p",9)(7,"b"),t._uU(8,"Hora: "),t.qZA(),t._uU(9),t.qZA()(),t.TgZ(10,"ion-buttons",10)(11,"ion-button",11),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.delete(d))}),t._UZ(12,"ion-icon",12),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(5),t.Oqu(e.medicamento),t.xp6(4),t.Oqu(e.hora)}}function C(o,s){if(1&o&&(t.TgZ(0,"ion-item-group",5),t.YNc(1,v,13,2,"ion-item",6),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.drugs)}}const Z=function(){return["/home"]},P=[{path:"",component:(()=>{class o{constructor(e,r,l,d,u,V){this.auth=e,this.router=r,this.store=l,this.loadingCtrl=d,this.toastController=u,this.alertController=V,this.drugs=[],this.infom={medicamento:"",cdias:0,fecha:"",hora:0,userid:"",id:""},this.path="Medicamentos"}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){const e=yield this.auth.getUid();e&&(this.uid=e,this.medicamentos())})}medicamentos(){this.store.consultar(this.path).subscribe(e=>{e&&(this.drugs=[],e.forEach(r=>{r.userid==this.uid&&(this.infom=r,this.drugs.push(this.infom),console.log(this.drugs))}))})}delete(e){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"normal",header:"Advertencia",message:"\xbfSeguro que deseas <strong>eliminar</strong> este medicamento?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"normal",handler:()=>{console.log("Alert canceled")}},{text:"OK",role:"confirm",handler:()=>{console.log("Alert confirmed"),this.store.deletedoc(this.path,e.id).then(l=>{this.alertController.dismiss(),this.presentToast("Eliminado con exito")}).catch(l=>{this.presentToast("No se pudo eliminar")})}}]})).present()})}showLoading(){return(0,c.mG)(this,void 0,void 0,function*(){this.loading=yield this.loadingCtrl.create({cssClass:"normal",message:"Guardando...",spinner:"circles"}),yield this.loading.present()})}presentToast(e){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.toastController.create({cssClass:"normal",message:e,duration:2e3,icon:"thumbs-up-outline",color:"light"})).present()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.e),t.Y36(a.F0),t.Y36(f.C),t.Y36(i.HT),t.Y36(i.yF),t.Y36(i.Br))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-vmedicamentos"]],decls:9,vars:3,consts:[["color","principal"],["color","blanco","fill","clear","slot","start",3,"routerLink"],["name","arrow-back-outline"],[1,"ion-padding"],["class","custom-list",4,"ngIf"],[1,"custom-list"],["class","custom-item",4,"ngFor","ngForOf"],[1,"custom-item"],[1,"normal"],[1,"time"],["slot","end"],["color","danger",3,"click"],["slot","icon-only","name","trash"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t._uU(3,"Medicamentos"),t.qZA(),t.TgZ(4,"ion-button",1),t._UZ(5,"ion-icon",2),t.qZA()()(),t.TgZ(6,"ion-content",3)(7,"ion-list"),t.YNc(8,C,2,1,"ion-item-group",4),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("routerLink",t.DdM(2,Z)),t.xp6(4),t.Q6J("ngIf",r.drugs))},dependencies:[m.sg,m.O5,i.YG,i.Sm,i.W2,i.Gu,i.gu,i.Ie,i.Ub,i.Q$,i.q_,i.wd,i.sr,i.YI,a.rH],styles:["p.normal[_ngcontent-%COMP%]{font-size:.9em}"]}),o})()}];let y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[a.Bz.forChild(P),a.Bz]}),o})(),T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.ez,h.u5,i.Pc,y]}),o})()}}]);