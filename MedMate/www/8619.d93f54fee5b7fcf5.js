"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8619],{7423:(oe,H,p)=>{p.d(H,{Uw:()=>C,fo:()=>D});var d=p(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var n=(()=>{return(o=n||(n={})).Unimplemented="UNIMPLEMENTED",o.Unavailable="UNAVAILABLE",n;var o})();class S extends Error{constructor(e,t,i){super(e),this.message=e,this.code=t,this.data=i}}const F=o=>{var e,t,i,a,r;const c=o.CapacitorCustomPlatform||null,s=o.Capacitor||{},g=s.Plugins=s.Plugins||{},l=o.CapacitorPlatforms,I=(null===(e=l?.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==c?c.name:(o=>{var e,t;return o?.androidBridge?"android":null!==(t=null===(e=o?.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(o)),le=(null===(t=l?.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==I()),ue=(null===(i=l?.currentPlatform)||void 0===i?void 0:i.isPluginAvailable)||(f=>!(!K.get(f)?.platforms.has(I())&&!ee(f))),ee=(null===(a=l?.currentPlatform)||void 0===a?void 0:a.getPluginHeader)||(f=>{var m;return null===(m=s.PluginHeaders)||void 0===m?void 0:m.find(_=>_.name===f)}),K=new Map,pe=(null===(r=l?.currentPlatform)||void 0===r?void 0:r.registerPlugin)||((f,m={})=>{const _=K.get(f);if(_)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),_.proxy;const $=I(),W=ee(f);let Z;const ve=function(){var h=(0,d.Z)(function*(){return!Z&&$ in m?Z=Z="function"==typeof m[$]?yield m[$]():m[$]:null!==c&&!Z&&"web"in m&&(Z=Z="function"==typeof m.web?yield m.web():m.web),Z});return function(){return h.apply(this,arguments)}}(),Y=h=>{let w;const M=(...E)=>{const O=ve().then(y=>{const j=((h,w)=>{var M,E;if(!W){if(h)return null===(E=h[w])||void 0===E?void 0:E.bind(h);throw new S(`"${f}" plugin is not implemented on ${$}`,n.Unimplemented)}{const O=W?.methods.find(y=>w===y.name);if(O)return"promise"===O.rtype?y=>s.nativePromise(f,w.toString(),y):(y,j)=>s.nativeCallback(f,w.toString(),y,j);if(h)return null===(M=h[w])||void 0===M?void 0:M.bind(h)}})(y,h);if(j){const B=j(...E);return w=B?.remove,B}throw new S(`"${f}.${h}()" is not implemented on ${$}`,n.Unimplemented)});return"addListener"===h&&(O.remove=(0,d.Z)(function*(){return w()})),O};return M.toString=()=>`${h.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:h,writable:!1,configurable:!1}),M},te=Y("addListener"),ne=Y("removeListener"),Pe=(h,w)=>{const M=te({eventName:h},w),E=function(){var y=(0,d.Z)(function*(){const j=yield M;ne({eventName:h,callbackId:j},w)});return function(){return y.apply(this,arguments)}}(),O=new Promise(y=>M.then(()=>y({remove:E})));return O.remove=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield E()}),O},z=new Proxy({},{get(h,w){switch(w){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return W?Pe:te;case"removeListener":return ne;default:return Y(w)}}});return g[f]=z,K.set(f,{name:f,proxy:z,platforms:new Set([...Object.keys(m),...W?[$]:[]])}),z});return s.convertFileSrc||(s.convertFileSrc=f=>f),s.getPlatform=I,s.handleError=f=>o.console.error(f),s.isNativePlatform=le,s.isPluginAvailable=ue,s.pluginMethodNoop=(f,m,_)=>Promise.reject(`${_} does not have an implementation of "${m}".`),s.registerPlugin=pe,s.Exception=S,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},k=(o=>o.Capacitor=F(o))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),D=k.registerPlugin;class C{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var i=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);const c=function(){var g=(0,d.Z)(function*(){return i.removeListener(e,t)});return function(){return g.apply(this,arguments)}}(),s=Promise.resolve({remove:c});return Object.defineProperty(s,"remove",{value:(g=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield c()}),function(){return g.apply(this,arguments)})}),s;var g}removeAllListeners(){var e=this;return(0,d.Z)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t){const i=this.listeners[e];i&&i.forEach(a=>a(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:i=>{this.notifyListeners(t,i)}}}unimplemented(e="not implemented"){return new k.Exception(e,n.Unimplemented)}unavailable(e="not available"){return new k.Exception(e,n.Unavailable)}removeListener(e,t){var i=this;return(0,d.Z)(function*(){const a=i.listeners[e];if(!a)return;const r=a.indexOf(t);i.listeners[e].splice(r,1),i.listeners[e].length||i.removeWindowListener(i.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const L=o=>encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),T=o=>o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class U extends C{getCookies(){return(0,d.Z)(function*(){const e=document.cookie,t={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[a,r]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=T(a).trim(),r=T(r).trim(),t[a]=r}),t})()}setCookie(e){return(0,d.Z)(function*(){try{const t=L(e.key),i=L(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),c=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${i||""}${a}; path=${r}; ${c};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,d.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,d.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,d.Z)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}D("CapacitorCookies",{web:()=>new U});const X=function(){var o=(0,d.Z)(function*(e){return new Promise((t,i)=>{const a=new FileReader;a.onload=()=>{const r=a.result;t(r.indexOf(",")>=0?r.split(",")[1]:r)},a.onerror=r=>i(r),a.readAsDataURL(e)})});return function(t){return o.apply(this,arguments)}}();class ce extends C{request(e){return(0,d.Z)(function*(){const t=((o,e={})=>{const t=Object.assign({method:o.method||"GET",headers:o.headers},e),a=((o={})=>{const e=Object.keys(o);return Object.keys(o).map(a=>a.toLocaleLowerCase()).reduce((a,r,c)=>(a[r]=o[e[c]],a),{})})(o.headers)["content-type"]||"";if("string"==typeof o.data)t.body=o.data;else if(a.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[c,s]of Object.entries(o.data||{}))r.set(c,s);t.body=r.toString()}else if(a.includes("multipart/form-data")){const r=new FormData;if(o.data instanceof FormData)o.data.forEach((s,g)=>{r.append(g,s)});else for(const s of Object.keys(o.data))r.append(s,o.data[s]);t.body=r;const c=new Headers(t.headers);c.delete("content-type"),t.headers=c}else(a.includes("application/json")||"object"==typeof o.data)&&(t.body=JSON.stringify(o.data));return t})(e,e.webFetchExtra),i=((o,e=!0)=>o?Object.entries(o).reduce((i,a)=>{const[r,c]=a;let s,g;return Array.isArray(c)?(g="",c.forEach(l=>{s=e?encodeURIComponent(l):l,g+=`${r}=${s}&`}),g.slice(0,-1)):(s=e?encodeURIComponent(c):c,g=`${r}=${s}`),`${i}&${g}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=i?`${e.url}?${i}`:e.url,r=yield fetch(a,t),c=r.headers.get("content-type")||"";let g,l,{responseType:s="text"}=r.ok?e:{};switch(c.includes("application/json")&&(s="json"),s){case"arraybuffer":case"blob":l=yield r.blob(),g=yield X(l);break;case"json":g=yield r.json();break;default:g=yield r.text()}const R={};return r.headers.forEach((I,J)=>{R[J]=I}),{data:g,headers:R,status:r.status,url:r.url}})()}get(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}D("CapacitorHttp",{web:()=>new ce})},8619:(oe,H,p)=>{p.r(H),p.d(H,{MedicacionPageModule:()=>Q});var d=p(6895),v=p(433),b=p(2078),A=p(2435),N=p(655);const G=(0,p(7423).fo)("LocalNotifications",{web:()=>p.e(7434).then(p.bind(p,7434)).then(u=>new u.LocalNotificationsWeb)});var n=p(4650),S=p(7556),q=p(1343);const F=function(){return["/home"]},k=[{path:"",component:(()=>{class u{constructor(P,L,T,U,x){this.fb=P,this.auth=L,this.router=T,this.store=U,this.alertcontroller=x,this.newmedicamento={medicamento:"",cdias:0,fecha:"",hora:0,userid:"",id:this.store.getId()},this.medicamentoform=this.fb.group({medicamento:new v.NI("",v.kI.required),fecha:new v.NI("",v.kI.required),hora:new v.NI("",v.kI.required)})}ingresar(){var P;return(0,N.mG)(this,void 0,void 0,function*(){const L=yield this.auth.getUid();if(L&&(this.uid=L),this.store.getDoc("Pacientes",this.uid).subscribe(x=>{x&&(this.info=x)}),(null===(P=this.info)||void 0===P?void 0:P.uid)==this.uid){var U=this.medicamentoform.value;if(this.medicamentoform.invalid)return void(yield(yield this.alertcontroller.create({header:"Datos incompletos",message:"Debe de ingresar todos los campos"})).present());this.newmedicamento.medicamento=U.medicamento,this.newmedicamento.cdias=U.fe,this.newmedicamento.hora=U.hora,this.newmedicamento.fecha=U.fecha,this.newmedicamento.userid=this.uid,this.newmedicamento.id=this.store.getId(),console.log(this.newmedicamento),G.schedule({notifications:[{id:1,title:"Recordatorio",body:"\xa1Es hora de tomarte la medicina!"+this.newmedicamento.medicamento,schedule:{on:{year:2023,month:4,day:7,hour:17,minute:30,second:0}},sound:"beep.aiff",actions:[{id:"yes",title:"S\xed"},{id:"no",title:"No"}]}]}),this.store.createDoc(this.newmedicamento,"Medicamentos",this.newmedicamento.id),yield(yield this.alertcontroller.create({header:"Medicamento agregado"})).present(),this.router.navigate(["../home"])}})}ngOnInit(){}}return u.\u0275fac=function(P){return new(P||u)(n.Y36(v.qu),n.Y36(S.e),n.Y36(A.F0),n.Y36(q.C),n.Y36(b.Br))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-medicacion"]],decls:34,vars:3,consts:[["color","principal"],["color","blanco","fill","clear","slot","start",3,"routerLink"],["name","arrow-back-outline"],[1,"container"],[1,"titulo"],[1,"formulario",3,"formGroup","ngSubmit"],["position","stacked"],["color","danger"],["required","","formControlName","medicamento","type","text"],["required","","formControlName","fecha","type","date"],["required","","formControlName","hora","type","time"],[1,"botones"],["color","secondary","expand","block","type","submit"],["color","light","expand","block","type","reset"]],template:function(P,L){1&P&&(n.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),n._uU(3,"Medicacion"),n.qZA(),n.TgZ(4,"ion-button",1),n._UZ(5,"ion-icon",2),n.qZA()()(),n.TgZ(6,"ion-content")(7,"div",3)(8,"h1",4),n._uU(9,"Ingresar Medicamento"),n.qZA(),n.TgZ(10,"form",5),n.NdJ("ngSubmit",function(){return L.ingresar()}),n.TgZ(11,"ion-item")(12,"ion-label",6),n._uU(13,"Medicamento "),n.TgZ(14,"ion-text",7),n._uU(15,"*"),n.qZA()(),n._UZ(16,"ion-input",8),n.qZA(),n.TgZ(17,"ion-item")(18,"ion-label",6),n._uU(19,"Fecha "),n.TgZ(20,"ion-text",7),n._uU(21,"*"),n.qZA()(),n._UZ(22,"ion-input",9),n.qZA(),n.TgZ(23,"ion-item")(24,"ion-label",6),n._uU(25,"Hora "),n.TgZ(26,"ion-text",7),n._uU(27,"*"),n.qZA()(),n._UZ(28,"ion-input",10),n.qZA(),n.TgZ(29,"div",11)(30,"ion-button",12),n._uU(31," Aceptar "),n.qZA(),n.TgZ(32,"ion-button",13),n._uU(33," Cancelar "),n.qZA()()()()()),2&P&&(n.xp6(4),n.Q6J("routerLink",n.DdM(2,F)),n.xp6(6),n.Q6J("formGroup",L.medicamentoform))},dependencies:[v._Y,v.JJ,v.JL,v.Q7,b.YG,b.W2,b.Gu,b.gu,b.pK,b.Ie,b.Q$,b.yW,b.wd,b.sr,b.j9,b.YI,A.rH,v.sg,v.u],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:50%;margin-top:50px}.titulo[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:2rem}.formulario[_ngcontent-%COMP%]{width:100%;max-width:500px;margin-bottom:2rem;padding:2rem;border-radius:10px;box-shadow:0 0 15px #0000001a}.botones[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:4rem}']}),u})()}];let D=(()=>{class u{}return u.\u0275fac=function(P){return new(P||u)},u.\u0275mod=n.oAB({type:u}),u.\u0275inj=n.cJS({imports:[A.Bz.forChild(k),A.Bz]}),u})(),Q=(()=>{class u{}return u.\u0275fac=function(P){return new(P||u)},u.\u0275mod=n.oAB({type:u}),u.\u0275inj=n.cJS({imports:[d.ez,v.u5,b.Pc,D,v.UX]}),u})()}}]);