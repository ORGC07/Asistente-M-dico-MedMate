{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"../services/auth.service\";\nimport * as i4 from \"../services/firestore.service\";\nimport * as i5 from \"@angular/router\";\nexport let RpacientePage = /*#__PURE__*/(() => {\n  class RpacientePage {\n    constructor(fb, alertController, auth, store, router) {\n      this.fb = fb;\n      this.alertController = alertController;\n      this.auth = auth;\n      this.store = store;\n      this.router = router;\n      this.newpaciente = {\n        uid: \"\",\n        nombre: \"\",\n        apellido: \"\",\n        cedula: \"\",\n        fnacimiento: \"\",\n        edad: 0,\n        correo: \"\",\n        contraseña: \"\",\n        rol: \"Paciente\"\n      };\n      this.formularioregistrop = this.fb.group({\n        'nombre': new FormControl(\"\", Validators.required),\n        'apellido': new FormControl(\"\", Validators.required),\n        'cedula': new FormControl(\"\", Validators.required),\n        'fnacimiento': new FormControl(\"\", Validators.required),\n        'edad': new FormControl(\"\", Validators.required),\n        'correo': new FormControl(\"\", Validators.required),\n        'contraseña': new FormControl(\"\", Validators.required)\n      });\n    }\n    registrarse() {\n      return __awaiter(this, void 0, void 0, function* () {\n        var f = this.formularioregistrop.value;\n        if (this.formularioregistrop.invalid) {\n          const alert = yield this.alertController.create({\n            header: 'Datos incompletos',\n            message: 'Debe de ingresar todos los campos o asegurarse que su contraseña tenga minimo 6 caracteres',\n            buttons: ['Aceptar']\n          });\n          yield alert.present();\n          return;\n        } else {\n          this.newpaciente.nombre = f.nombre, this.newpaciente.apellido = f.apellido, this.newpaciente.cedula = f.cedula, this.newpaciente.fnacimiento = f.fnacimiento, this.newpaciente.edad = f.edad, this.newpaciente.correo = f.correo, this.newpaciente.contraseña = f.contraseña, this.newpaciente.rol = \"Paciente\", console.log(this.newpaciente);\n          const res = yield this.auth.registrar(this.newpaciente.correo, this.newpaciente.contraseña).catch(res => {\n            console.log('error');\n          });\n          if (res) {\n            console.log(\"Usuario creado\");\n            const path = 'Pacientes';\n            const Id = res.user.uid;\n            this.newpaciente.uid = Id;\n            this.newpaciente.contraseña = \"\";\n            yield this.store.createDoc(this.newpaciente, path, Id);\n            const alert2 = yield this.alertController.create({\n              header: 'Usuario creado',\n              buttons: ['INICIO']\n            });\n            yield alert2.present();\n            this.router.navigate(['../login']);\n          }\n        }\n      });\n    }\n    ngOnInit() {}\n  }\n  RpacientePage.ɵfac = function RpacientePage_Factory(t) {\n    return new (t || RpacientePage)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AlertController), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.FirestoreService), i0.ɵɵdirectiveInject(i5.Router));\n  };\n  RpacientePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RpacientePage,\n    selectors: [[\"app-rpaciente\"]],\n    decls: 74,\n    vars: 1,\n    consts: [[\"color\", \"primary\"], [\"fill\", \"clear\", \"slot\", \"start\"], [\"color\", \"light\"], [3, \"formGroup\", \"ngSubmit\"], [\"fill\", \"solid\"], [\"position\", \"floating\"], [\"color\", \"danger\"], [\"placeholder\", \"Ingrese su Nombre\", \"required\", \"\", \"formControlName\", \"nombre\", \"type\", \"text\"], [1, \"solid\"], [\"placeholder\", \"Ingrese su Apellido\", \"required\", \"\", \"formControlName\", \"apellido\", \"type\", \"text\"], [\"placeholder\", \"Ingrese su Numero de C\\u00E9dula\", \"required\", \"\", \"formControlName\", \"cedula\", \"type\", \"text\"], [\"placeholder\", \"Ingrese su Edad\", \"required\", \"\", \"formControlName\", \"edad\", \"type\", \"number\"], [\"required\", \"\", \"formControlName\", \"fnacimiento\", \"type\", \"text\"], [\"placeholder\", \"Ingrese su Correo electronico\", \"required\", \"\", \"formControlName\", \"correo\", \"type\", \"text\"], [\"placeholder\", \"Ingrese su Contrase\\u00F1a\", \"required\", \"\", \"formControlName\", \"contrase\\u00F1a\", \"type\", \"password\", \"minlength\", \"6\"], [\"block\", \"\", \"color\", \"primary\", \"type\", \"submit\"]],\n    template: function RpacientePage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\", 0);\n        i0.ɵɵelement(2, \"ion-title\");\n        i0.ɵɵelementStart(3, \"ion-button\", 1);\n        i0.ɵɵelement(4, \"ion-back-button\", 2);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(5, \"ion-content\")(6, \"ion-card\")(7, \"ion-card-header\")(8, \"ion-card-title\");\n        i0.ɵɵtext(9, \"Registro\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"ion-card-content\")(11, \"form\", 3);\n        i0.ɵɵlistener(\"ngSubmit\", function RpacientePage_Template_form_ngSubmit_11_listener() {\n          return ctx.registrarse();\n        });\n        i0.ɵɵelementStart(12, \"ion-item\", 4)(13, \"ion-label\", 5);\n        i0.ɵɵtext(14, \"Nombre \");\n        i0.ɵɵelementStart(15, \"ion-text\", 6);\n        i0.ɵɵtext(16, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(17, \"ion-input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"ion-item\")(19, \"ion-label\");\n        i0.ɵɵelement(20, \"hr\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"ion-item\", 4)(22, \"ion-label\", 5);\n        i0.ɵɵtext(23, \"Apellido \");\n        i0.ɵɵelementStart(24, \"ion-text\", 6);\n        i0.ɵɵtext(25, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(26, \"ion-input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"ion-item\")(28, \"ion-label\");\n        i0.ɵɵelement(29, \"hr\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"ion-item\", 4)(31, \"ion-label\", 5);\n        i0.ɵɵtext(32, \"C\\u00E9dula\");\n        i0.ɵɵelementStart(33, \"ion-text\", 6);\n        i0.ɵɵtext(34, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(35, \"ion-input\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"ion-item\")(37, \"ion-label\");\n        i0.ɵɵelement(38, \"hr\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"ion-item\", 4)(40, \"ion-label\", 5);\n        i0.ɵɵtext(41, \"Edad \");\n        i0.ɵɵelementStart(42, \"ion-text\", 6);\n        i0.ɵɵtext(43, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(44, \"ion-input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"ion-item\")(46, \"ion-label\");\n        i0.ɵɵelement(47, \"hr\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(48, \"ion-item\")(49, \"ion-label\", 5);\n        i0.ɵɵtext(50, \"Fecha de nacimiento \");\n        i0.ɵɵelementStart(51, \"ion-text\", 6);\n        i0.ɵɵtext(52, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(53, \"ion-input\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"ion-item\")(55, \"ion-label\");\n        i0.ɵɵelement(56, \"hr\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(57, \"ion-item\", 4)(58, \"ion-label\", 5);\n        i0.ɵɵtext(59, \"Correo electronico \");\n        i0.ɵɵelementStart(60, \"ion-text\", 6);\n        i0.ɵɵtext(61, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(62, \"ion-input\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(63, \"ion-item\")(64, \"ion-label\");\n        i0.ɵɵelement(65, \"hr\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(66, \"ion-item\", 4)(67, \"ion-label\", 5);\n        i0.ɵɵtext(68, \"Contrase\\u00F1a \");\n        i0.ɵɵelementStart(69, \"ion-text\", 6);\n        i0.ɵɵtext(70, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(71, \"ion-input\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(72, \"ion-button\", 15);\n        i0.ɵɵtext(73, \" Aceptar \");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"formGroup\", ctx.formularioregistrop);\n      }\n    },\n    dependencies: [i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.MinLengthValidator, i1.FormGroupDirective, i1.FormControlName, i2.IonBackButton, i2.IonButton, i2.IonCard, i2.IonCardContent, i2.IonCardHeader, i2.IonCardTitle, i2.IonContent, i2.IonHeader, i2.IonInput, i2.IonItem, i2.IonLabel, i2.IonText, i2.IonTitle, i2.IonToolbar, i2.NumericValueAccessor, i2.TextValueAccessor, i2.IonBackButtonDelegate],\n    styles: [\"ion-card[_ngcontent-%COMP%]{margin:20px;border-radius:10px;box-shadow:0 0 10px #0003}ion-card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}ion-item[_ngcontent-%COMP%]{margin-bottom:15px}ion-label[_ngcontent-%COMP%]{font-size:18px}ion-input[_ngcontent-%COMP%]{font-size:18px;border-radius:5px;padding:10px}ion-button[_ngcontent-%COMP%]{margin-top:20px}\"]\n  });\n  return RpacientePage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}