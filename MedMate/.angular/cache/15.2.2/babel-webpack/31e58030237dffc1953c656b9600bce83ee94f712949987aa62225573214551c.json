{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"../services/auth.service\";\nimport * as i4 from \"../services/firestore.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nfunction RdoctorPage_ion_select_option_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const especialidad_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", especialidad_r1.especialidad);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(especialidad_r1.especialidad);\n  }\n}\nexport class RdoctorPage {\n  constructor(fb, alertController, auth, store, router) {\n    this.fb = fb;\n    this.alertController = alertController;\n    this.auth = auth;\n    this.store = store;\n    this.router = router;\n    this.especialidades = [];\n    this.newdoctor = {\n      uid: \"\",\n      nombre: \"\",\n      apellido: \"\",\n      cedula: \"\",\n      especialidad: \"\",\n      correo: \"\",\n      contraseña: \"\",\n      rol: \"Doctor\"\n    };\n    this.formularioregistrod = this.fb.group({\n      'nombre': new FormControl(\"\", Validators.required),\n      'apellido': new FormControl(\"\", Validators.required),\n      'cedula': new FormControl(\"\", Validators.required),\n      'correo': new FormControl(\"\", Validators.required),\n      'especialidad': new FormControl(\"\", Validators.required),\n      'contraseña': new FormControl(\"\", Validators.required)\n    });\n  }\n  ngOnInit() {\n    this.getespecialidad();\n  }\n  getespecialidad() {\n    const path = 'Especialidades';\n    this.store.consultar(path).subscribe(res => {\n      if (res) {\n        this.especialidades = res;\n      }\n    });\n  }\n  registrarse() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const f = this.formularioregistrod.value;\n      if (this.formularioregistrod.invalid) {\n        const alert = yield this.alertController.create({\n          header: 'Datos incompletos',\n          message: 'Debe de ingresar todos los campos o asegurarse que su contraseña tenga minimo 6 caracteres',\n          buttons: ['Aceptar']\n        });\n        yield alert.present();\n        return;\n      }\n      // if (f.contraseña < 6) {\n      //   const alert3 = await this.alertController.create({\n      //     header: 'Contraseña muy corta',\n      //     message: 'La contraseña debe de tener minimo 6 caracteres',\n      //     buttons: ['Aceptar'],\n      //   });\n      //   await alert3.present() ;\n      //   return;\n      // }\n      else {\n        this.newdoctor.nombre = f.nombre, this.newdoctor.apellido = f.apellido, this.newdoctor.cedula = f.cedula, this.newdoctor.especialidad = f.especialidad, this.newdoctor.correo = f.correo, this.newdoctor.contraseña = f.contraseña, this.newdoctor.rol = \"Doctor\";\n        const res = yield this.auth.registrar(this.newdoctor.correo, this.newdoctor.contraseña).catch(res => {\n          console.log('error');\n        });\n        if (res) {\n          console.log(\"Usuario creado\");\n          const path = 'Doctores';\n          const Id = res.user.uid;\n          this.newdoctor.uid = Id;\n          this.newdoctor.contraseña = \"\";\n          yield this.store.createDoc(this.newdoctor, path, Id);\n          const alert2 = yield this.alertController.create({\n            header: 'Usuario creado',\n            buttons: ['INICIO']\n          });\n          yield alert2.present();\n          this.router.navigate(['../login']);\n        }\n      }\n    });\n  }\n}\nRdoctorPage.ɵfac = function RdoctorPage_Factory(t) {\n  return new (t || RdoctorPage)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AlertController), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.FirestoreService), i0.ɵɵdirectiveInject(i5.Router));\n};\nRdoctorPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RdoctorPage,\n  selectors: [[\"app-rdoctor\"]],\n  decls: 69,\n  vars: 2,\n  consts: [[\"color\", \"primary\"], [\"fill\", \"clear\", \"slot\", \"start\"], [\"color\", \"light\"], [1, \"ion-padding\"], [3, \"formGroup\", \"ngSubmit\"], [\"fill\", \"solid\"], [\"position\", \"floating\"], [\"color\", \"danger\"], [\"placeholder\", \"Ingrese su Nombre\", \"required\", \"\", \"formControlName\", \"nombre\", \"type\", \"text\"], [1, \"solid\"], [\"placeholder\", \"Ingrese su Apellido\", \"required\", \"\", \"formControlName\", \"apellido\", \"type\", \"text\"], [\"placeholder\", \"Ingrese su Numero de C\\u00E9dula\", \"required\", \"\", \"formControlName\", \"cedula\", \"type\", \"text\"], [\"formControlName\", \"especialidad\", \"interface\", \"popover\", \"placeholder\", \"Selecciona especialidad\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"placeholder\", \"Ingrese su Correo electronico\", \"required\", \"\", \"formControlName\", \"correo\", \"type\", \"text\"], [\"placeholder\", \"Ingrese su Contrase\\u00F1a\", \"required\", \"\", \"formControlName\", \"contrase\\u00F1a\", \"type\", \"password\", \"minlength\", \"6\"], [\"block\", \"\", \"position\", \"Centered\", \"color\", \"primary\", \"type\", \"submit\"], [3, \"value\"]],\n  template: function RdoctorPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\", 0);\n      i0.ɵɵelement(2, \"ion-title\");\n      i0.ɵɵelementStart(3, \"ion-button\", 1);\n      i0.ɵɵelement(4, \"ion-back-button\", 2);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(5, \"ion-content\", 3)(6, \"ion-card\")(7, \"ion-card-header\")(8, \"ion-card-title\");\n      i0.ɵɵtext(9, \"Registro\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"ion-card-content\")(11, \"form\", 4);\n      i0.ɵɵlistener(\"ngSubmit\", function RdoctorPage_Template_form_ngSubmit_11_listener() {\n        return ctx.registrarse();\n      });\n      i0.ɵɵelementStart(12, \"ion-item\", 5)(13, \"ion-label\", 6);\n      i0.ɵɵtext(14, \"Nombre \");\n      i0.ɵɵelementStart(15, \"ion-text\", 7);\n      i0.ɵɵtext(16, \"*\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(17, \"ion-input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"ion-item\")(19, \"ion-label\");\n      i0.ɵɵelement(20, \"hr\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"ion-item\", 5)(22, \"ion-label\", 6);\n      i0.ɵɵtext(23, \"Apellido \");\n      i0.ɵɵelementStart(24, \"ion-text\", 7);\n      i0.ɵɵtext(25, \"*\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(26, \"ion-input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"ion-item\")(28, \"ion-label\");\n      i0.ɵɵelement(29, \"hr\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"ion-item\", 5)(31, \"ion-label\", 6);\n      i0.ɵɵtext(32, \"C\\u00E9dula\");\n      i0.ɵɵelementStart(33, \"ion-text\", 7);\n      i0.ɵɵtext(34, \"*\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(35, \"ion-input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"ion-item\")(37, \"ion-label\");\n      i0.ɵɵelement(38, \"hr\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(39, \"ion-item\", 5)(40, \"ion-label\", 6);\n      i0.ɵɵtext(41, \"Especialidad\");\n      i0.ɵɵelementStart(42, \"ion-text\", 7);\n      i0.ɵɵtext(43, \"*\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(44, \"ion-select\", 12);\n      i0.ɵɵtemplate(45, RdoctorPage_ion_select_option_45_Template, 2, 2, \"ion-select-option\", 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(46, \"ion-item\")(47, \"ion-label\");\n      i0.ɵɵelement(48, \"hr\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(49, \"ion-item\", 5)(50, \"ion-label\", 6);\n      i0.ɵɵtext(51, \"Correo electronico \");\n      i0.ɵɵelementStart(52, \"ion-text\", 7);\n      i0.ɵɵtext(53, \"*\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(54, \"ion-input\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"ion-item\")(56, \"ion-label\");\n      i0.ɵɵelement(57, \"hr\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(58, \"ion-item\", 5)(59, \"ion-label\", 6);\n      i0.ɵɵtext(60, \"Contrase\\u00F1a \");\n      i0.ɵɵelementStart(61, \"ion-text\", 7);\n      i0.ɵɵtext(62, \"*\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(63, \"ion-input\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"ion-item\")(65, \"ion-label\");\n      i0.ɵɵelement(66, \"hr\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(67, \"ion-button\", 16);\n      i0.ɵɵtext(68, \" Aceptar \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"formGroup\", ctx.formularioregistrod);\n      i0.ɵɵadvance(34);\n      i0.ɵɵproperty(\"ngForOf\", ctx.especialidades);\n    }\n  },\n  dependencies: [i6.NgForOf, i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.MinLengthValidator, i1.FormGroupDirective, i1.FormControlName, i2.IonBackButton, i2.IonButton, i2.IonCard, i2.IonCardContent, i2.IonCardHeader, i2.IonCardTitle, i2.IonContent, i2.IonHeader, i2.IonInput, i2.IonItem, i2.IonLabel, i2.IonSelect, i2.IonSelectOption, i2.IonText, i2.IonTitle, i2.IonToolbar, i2.SelectValueAccessor, i2.TextValueAccessor, i2.IonBackButtonDelegate],\n  styles: [\"ion-card[_ngcontent-%COMP%] {\\n  margin: 20px;\\n  border-radius: 10px;\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\\n}\\n\\nion-card-title[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n  font-weight: bold;\\n  margin-bottom: 20px;\\n}\\n\\nion-item[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n}\\n\\nion-label[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n}\\n\\nion-input[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  border-radius: 5px;\\n  padding: 10px;\\n}\\n\\nion-button[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmRvY3Rvci9yZG9jdG9yLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSxtQkFBQTtFQUNBLHVDQUFBO0FBQ0o7O0FBRUU7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVFO0VBQ0UsbUJBQUE7QUFDSjs7QUFFRTtFQUNFLGVBQUE7QUFDSjs7QUFFRTtFQUNFLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7QUFDSjs7QUFFRTtFQUNFLGdCQUFBO0FBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZCB7XHJcbiAgICBtYXJnaW46IDIwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xyXG4gIH1cclxuICBcclxuICBpb24tY2FyZC10aXRsZSB7XHJcbiAgICBmb250LXNpemU6IDI0cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1pdGVtIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1sYWJlbCB7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1pbnB1dCB7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gIH1cclxuICBcclxuICBpb24tYnV0dG9uIHtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgfVxyXG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","Validators","i0","RdoctorPage","constructor","fb","alertController","auth","store","router","uid","nombre","apellido","cedula","especialidad","correo","contraseña","rol","formularioregistrod","group","required","ngOnInit","getespecialidad","path","consultar","subscribe","res","especialidades","registrarse","f","value","invalid","alert","create","header","message","buttons","present","newdoctor","registrar","catch","console","log","Id","user","createDoc","alert2","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\omarr\\Documents\\GitHub\\Asistente-M-dico-MedMate\\MedMate\\src\\app\\rdoctor\\rdoctor.page.ts","C:\\Users\\omarr\\Documents\\GitHub\\Asistente-M-dico-MedMate\\MedMate\\src\\app\\rdoctor\\rdoctor.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport {\r\n  FormGroup,\r\n  FormControl,\r\n  Validators,\r\n  FormBuilder,\r\n} from '@angular/forms';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { FirestoreService } from '../services/firestore.service';\r\nimport { Router } from '@angular/router';\r\nimport { doctor, especialidad, paciente } from '../models/interface';\r\n\r\n@Component({\r\n  selector: 'app-rdoctor',\r\n  templateUrl: './rdoctor.page.html',\r\n  styleUrls: ['./rdoctor.page.scss'],\r\n})\r\nexport class RdoctorPage implements OnInit {\r\n\r\n  formularioregistrod: FormGroup;\r\n\r\n  especialidades: especialidad[] = [];\r\n\r\n  newdoctor : doctor = {\r\n    uid: \"\",\r\n    nombre: \"\",\r\n    apellido: \"\",\r\n    cedula: \"\",\r\n    especialidad: \"\",\r\n    correo: \"\",\r\n    contraseña: \"\",\r\n    rol: \"Doctor\",\r\n\r\n  }\r\n\r\n  constructor(public fb: FormBuilder, public alertController: AlertController,\r\n     private auth: AuthService, private store: FirestoreService, private router: Router ) {\r\n    \r\n    \r\n    this.formularioregistrod = this.fb.group({\r\n      'nombre': new FormControl(\"\",Validators.required),\r\n      'apellido': new FormControl(\"\",Validators.required),\r\n      'cedula': new FormControl(\"\",Validators.required),\r\n      'correo': new FormControl(\"\",Validators.required),\r\n      'especialidad': new FormControl(\"\",Validators.required),\r\n      'contraseña': new FormControl(\"\",Validators.required),\r\n    })\r\n   }\r\n  \r\n  ngOnInit() {\r\n    this.getespecialidad()\r\n  }\r\n\r\n  getespecialidad(){\r\n    const path = 'Especialidades'\r\n    this.store.consultar<especialidad>(path).subscribe( res => {\r\n      if(res){\r\n        this.especialidades = res;\r\n      }\r\n    })\r\n  }\r\n\r\n  async registrarse(){\r\n\r\n\r\n    const f = this.formularioregistrod.value\r\n\r\n    if (this.formularioregistrod.invalid) {\r\n\r\n      const alert = await this.alertController.create({\r\n        header: 'Datos incompletos',\r\n        message: 'Debe de ingresar todos los campos o asegurarse que su contraseña tenga minimo 6 caracteres',\r\n        buttons: ['Aceptar'],\r\n      });\r\n\r\n      await alert.present() ;\r\n      return;\r\n    }\r\n\r\n    // if (f.contraseña < 6) {\r\n\r\n    //   const alert3 = await this.alertController.create({\r\n    //     header: 'Contraseña muy corta',\r\n    //     message: 'La contraseña debe de tener minimo 6 caracteres',\r\n    //     buttons: ['Aceptar'],\r\n    //   });\r\n\r\n    //   await alert3.present() ;\r\n    //   return;\r\n    // }\r\n\r\n    else{\r\n      \r\n      this.newdoctor.nombre= f.nombre,\r\n      this.newdoctor.apellido= f.apellido,\r\n      this.newdoctor.cedula=f.cedula,\r\n      this.newdoctor.especialidad= f.especialidad,\r\n      this.newdoctor.correo= f.correo,\r\n      this.newdoctor.contraseña= f.contraseña,\r\n      this.newdoctor.rol= \"Doctor\";\r\n\r\n      const res = await this.auth.registrar(this.newdoctor.correo, this.newdoctor.contraseña).catch(res => {\r\n      console.log('error');\r\n    })\r\n\r\n    if(res){\r\n      console.log(\"Usuario creado\")\r\n      const path = 'Doctores';\r\n      const Id = res.user!.uid;\r\n      this.newdoctor.uid = Id;\r\n      this.newdoctor.contraseña = \"\";\r\n\r\n      await this.store.createDoc(this.newdoctor, path, Id);\r\n\r\n      const alert2 = await this.alertController.create({\r\n        header: 'Usuario creado',\r\n        buttons: ['INICIO'],\r\n      });\r\n\r\n      await alert2.present();\r\n      this.router.navigate(['../login'])\r\n\r\n    }\r\n      \r\n\r\n    }\r\n    \r\n  }\r\n\r\n  \r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-title></ion-title>\r\n    <ion-button fill=\"clear\" slot=\"start\">\r\n      <ion-back-button color=\"light\" ></ion-back-button>\r\n    </ion-button>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\">\r\n  <ion-card>\r\n    <ion-card-header>\r\n      <ion-card-title>Registro</ion-card-title>\r\n    </ion-card-header>\r\n    <ion-card-content>\r\n      <form [formGroup]=\"formularioregistrod\" (ngSubmit)=\"registrarse()\">\r\n        <ion-item fill=\"solid\">\r\n          <ion-label position=\"floating\">Nombre <ion-text color=\"danger\">*</ion-text></ion-label>\r\n          <ion-input placeholder=\"Ingrese su Nombre\" required formControlName=\"nombre\" type=\"text\"></ion-input>\r\n        </ion-item>\r\n        <ion-item><ion-label><hr class=\"solid\"></ion-label></ion-item>\r\n        <ion-item fill=\"solid\">\r\n          <ion-label position=\"floating\">Apellido <ion-text color=\"danger\">*</ion-text></ion-label>\r\n          <ion-input placeholder=\"Ingrese su Apellido\" required formControlName=\"apellido\" type=\"text\"></ion-input>\r\n        </ion-item>\r\n        <ion-item><ion-label><hr class=\"solid\"></ion-label></ion-item>\r\n        <ion-item fill=\"solid\">\r\n          <ion-label position=\"floating\">Cédula<ion-text color=\"danger\">*</ion-text></ion-label>\r\n          <ion-input  placeholder=\"Ingrese su Numero de Cédula\" required formControlName=\"cedula\" type=\"text\"></ion-input>\r\n        </ion-item>\r\n        <ion-item><ion-label><hr class=\"solid\"></ion-label></ion-item>\r\n        <ion-item fill=\"solid\">\r\n          <ion-label position=\"floating\">Especialidad<ion-text color=\"danger\">*</ion-text></ion-label>\r\n            <ion-select formControlName=\"especialidad\" interface=\"popover\" placeholder=\"Selecciona especialidad\">\r\n              <ion-select-option *ngFor=\"let especialidad of especialidades\" [value]=\"especialidad.especialidad\">{{especialidad.especialidad}}</ion-select-option>\r\n            </ion-select>\r\n        </ion-item>\r\n        <ion-item><ion-label><hr class=\"solid\"></ion-label></ion-item>\r\n        <ion-item fill=\"solid\">\r\n          <ion-label position=\"floating\">Correo electronico <ion-text color=\"danger\">*</ion-text></ion-label>\r\n          <ion-input placeholder=\"Ingrese su Correo electronico\" required formControlName=\"correo\" type=\"text\"></ion-input>\r\n        </ion-item>\r\n        <ion-item><ion-label><hr class=\"solid\"></ion-label></ion-item>\r\n        <ion-item fill=\"solid\">\r\n          <ion-label position=\"floating\">Contraseña <ion-text color=\"danger\">*</ion-text></ion-label>\r\n          <ion-input placeholder=\"Ingrese su Contraseña\" required formControlName=\"contraseña\" type=\"password\" minlength= 6></ion-input>\r\n        </ion-item>\r\n        <ion-item><ion-label><hr class=\"solid\"></ion-label></ion-item>\r\n        <ion-button block position=\"Centered\" color=\"primary\" type=\"submit\">\r\n          Aceptar\r\n        </ion-button>\r\n      </form>\r\n    </ion-card-content>\r\n  </ion-card>\r\n\r\n</ion-content>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}