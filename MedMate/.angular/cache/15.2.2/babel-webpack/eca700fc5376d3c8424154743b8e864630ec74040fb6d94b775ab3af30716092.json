{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/app.component\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"src/app/services/firestore.service\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"@angular/common\";\nfunction HomePage_ion_item_group_7_ion_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-item\")(2, \"ion-label\")(3, \"h3\")(4, \"b\");\n    i0.ɵɵtext(5, \"Especialidad:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h4\")(8, \"b\");\n    i0.ɵɵtext(9, \"Doctor:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"h4\")(12, \"b\");\n    i0.ɵɵtext(13, \"Fecha:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"h4\")(16, \"b\");\n    i0.ɵɵtext(17, \"Hora:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const date_r2 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", date_r2.especialidad, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", date_r2.doctor, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", date_r2.fecha, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", date_r2.hora, \"\");\n  }\n}\nfunction HomePage_ion_item_group_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item-group\")(1, \"ion-item-divider\")(2, \"ion-label\")(3, \"h1\");\n    i0.ɵɵtext(4, \" Proximas citas \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(5, HomePage_ion_item_group_7_ion_item_5_Template, 19, 4, \"ion-item\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.dates);\n  }\n}\nexport class HomePage {\n  constructor(comp, auth, store, alertController) {\n    this.comp = comp;\n    this.auth = auth;\n    this.store = store;\n    this.alertController = alertController;\n    this.info = null;\n    this.dates = [];\n    this.infoc = {\n      doctor: \"\",\n      iddoctor: \"\",\n      paciente: \"\",\n      idpaciente: \"\",\n      especialidad: \"\",\n      fecha: new Date(),\n      hora: 0\n    };\n  }\n  ngOnInit() {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.comp.menu();\n      this.citas();\n      const uid = yield this.auth.getUid();\n      if (uid) {\n        this.uid = uid;\n        console.log(\"entro1\");\n        const path = \"Doctores\";\n        this.store.getDoc(path, uid).subscribe(res => __awaiter(this, void 0, void 0, function* () {\n          if (res) {\n            this.info = res;\n            console.log(this.info);\n            const alert = yield this.alertController.create({\n              header: \"Bienvenido\",\n              message: this.info.nombre + \" \" + this.info.apellido,\n              buttons: [\"Aceptar\"]\n            });\n            yield alert.present();\n            return;\n          }\n        }));\n      }\n    });\n  }\n  citas() {\n    const path = \"Citas\";\n    this.store.consultar(path).subscribe(res => {\n      if (res) {\n        this.dates = [];\n        res.forEach(r => {\n          if (r.iddoctor == this.uid) {\n            this.infoc = r;\n            this.dates.push(this.infoc), console.log(this.dates);\n          }\n        });\n      }\n    });\n  }\n}\nHomePage.ɵfac = function HomePage_Factory(t) {\n  return new (t || HomePage)(i0.ɵɵdirectiveInject(i1.AppComponent), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.FirestoreService), i0.ɵɵdirectiveInject(i4.AlertController));\n};\nHomePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomePage,\n  selectors: [[\"app-home\"]],\n  decls: 8,\n  vars: 1,\n  consts: [[\"slot\", \"start\"], [1, \"ion-padding\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function HomePage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Home\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-buttons\", 0);\n      i0.ɵɵelement(5, \"ion-menu-button\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"ion-content\", 1);\n      i0.ɵɵtemplate(7, HomePage_ion_item_group_7_Template, 6, 1, \"ion-item-group\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.dates);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i4.IonButtons, i4.IonContent, i4.IonHeader, i4.IonItem, i4.IonItemDivider, i4.IonItemGroup, i4.IonLabel, i4.IonMenuButton, i4.IonTitle, i4.IonToolbar],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","HomePage","constructor","comp","auth","store","alertController","doctor","iddoctor","paciente","idpaciente","especialidad","fecha","Date","hora","ngOnInit","menu","citas","uid","getUid","console","log","path","getDoc","subscribe","res","__awaiter","info","alert","create","header","message","nombre","apellido","buttons","present","consultar","dates","forEach","r","infoc","push","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\erick\\OneDrive\\Documentos\\GitHub\\Asistente-M-dico-MedMate\\MedMate\\src\\app\\mdoctor\\home\\home.page.html","C:\\Users\\erick\\OneDrive\\Documentos\\GitHub\\Asistente-M-dico-MedMate\\MedMate\\src\\app\\mdoctor\\home\\home.page.ts"],"sourcesContent":["<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title>Home</ion-title>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-menu-button></ion-menu-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\">\r\n\r\n  <!-- <ion-fab slot=\"fixed\" vertical=\"top\" horizontal=\"end\">\r\n    <ion-fab-button size=\"small\">\r\n      <ion-icon name=\"add\"></ion-icon>\r\n    </ion-fab-button>\r\n    <ion-fab-list side=\"start\">\r\n      <ion-fab-button>\r\n        <ion-icon name=\"document\"></ion-icon>\r\n      </ion-fab-button>\r\n      <ion-fab-button>\r\n        <ion-icon name=\"color-palette\"></ion-icon>\r\n      </ion-fab-button>\r\n      <ion-fab-button>\r\n        <ion-icon name=\"globe\"></ion-icon>\r\n      </ion-fab-button>\r\n    </ion-fab-list>\r\n  </ion-fab>\r\n\r\n  <ion-card color=\"medium\">\r\n    <ion-card-header>\r\n      <ion-card-title>Proximas citas</ion-card-title>\r\n    </ion-card-header>\r\n    <ion-card-content>\r\n      <ion-list>\r\n        <ion-item color=\"medium\">\r\n          <ion-label>\"Paciente: \"</ion-label>\r\n        </ion-item>\r\n        <ion-item color=\"medium\">\r\n          <ion-label>\"Fecha: \"</ion-label>\r\n        </ion-item>\r\n        <ion-item color=\"medium\">\r\n          <ion-label>\"Hora: \"</ion-label>\r\n        </ion-item>\r\n      </ion-list>\r\n    </ion-card-content>\r\n  </ion-card> -->\r\n  <ion-item-group *ngIf=\"dates\">\r\n    <ion-item-divider>\r\n      <ion-label>\r\n        <h1>\r\n          Proximas citas\r\n        </h1>\r\n      </ion-label>\r\n    </ion-item-divider>\r\n    <ion-item *ngFor=\"let date of dates\">\r\n      <ion-item>\r\n        <ion-label>\r\n          <h3><b>Especialidad:</b> {{date.especialidad}} </h3>\r\n          <h4> <b>Doctor:</b> {{date.doctor}}</h4>\r\n          <h4> <b>Fecha:</b> {{date.fecha}}</h4>\r\n          <h4> <b>Hora:</b> {{date.hora}}</h4>\r\n        </ion-label>\r\n      </ion-item>\r\n    </ion-item>\r\n  </ion-item-group>\r\n</ion-content>","import { Component, OnInit } from \"@angular/core\";\r\nimport { AlertController } from \"@ionic/angular\";\r\nimport { AppComponent } from \"src/app/app.component\";\r\nimport { cita, doctor } from \"src/app/models/interface\";\r\nimport { AuthService } from \"src/app/services/auth.service\";\r\nimport { FirestoreService } from \"src/app/services/firestore.service\";\r\n\r\n@Component({\r\n  selector: \"app-home\",\r\n  templateUrl: \"./home.page.html\",\r\n  styleUrls: [\"./home.page.scss\"],\r\n})\r\nexport class HomePage implements OnInit {\r\n  info: doctor = null!;\r\n  dates: any[] = [];\r\n  uid: any;\r\n  infoc: cita = {\r\n    doctor: \"\",\r\n    iddoctor: \"\",\r\n    paciente: \"\",\r\n    idpaciente: \"\",\r\n    especialidad: \"\",\r\n    fecha: new Date(),\r\n    hora: 0,\r\n  };\r\n\r\n  constructor(\r\n    private comp: AppComponent,\r\n    private auth: AuthService,\r\n    private store: FirestoreService,\r\n    private alertController: AlertController\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    this.comp.menu();\r\n    this.citas();\r\n    const uid = await this.auth.getUid();\r\n    if (uid) {\r\n      this.uid = uid;\r\n\r\n      console.log(\"entro1\");\r\n      const path = \"Doctores\";\r\n      this.store.getDoc<doctor>(path, uid).subscribe(async (res) => {\r\n        if (res) {\r\n          this.info = res;\r\n          console.log(this.info);\r\n          const alert = await this.alertController.create({\r\n            header: \"Bienvenido\",\r\n            message: this.info.nombre + \" \" + this.info.apellido,\r\n            buttons: [\"Aceptar\"],\r\n          });\r\n\r\n          await alert.present();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  citas() {\r\n    const path = \"Citas\";\r\n    this.store.consultar<cita>(path).subscribe((res) => {\r\n      if (res) {\r\n        this.dates = [];\r\n        res.forEach((r) => {\r\n          if (r.iddoctor == this.uid) {\r\n            this.infoc = r;\r\n            this.dates.push(this.infoc), console.log(this.dates);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}