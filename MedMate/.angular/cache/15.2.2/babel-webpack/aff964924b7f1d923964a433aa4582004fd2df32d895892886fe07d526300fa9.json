{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"src/app/services/firestore.service\";\nimport * as i4 from \"src/app/app.component\";\nimport * as i5 from \"@ionic/angular\";\nimport * as i6 from \"@angular/common\";\nfunction HomePage_ion_item_group_7_ion_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-item\")(2, \"ion-label\")(3, \"h3\")(4, \"b\");\n    i0.ɵɵtext(5, \"Medicina:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h4\")(8, \"b\");\n    i0.ɵɵtext(9, \"Hora:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const drug_r3 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", drug_r3.medicamento, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", drug_r3.hora, \"\");\n  }\n}\nfunction HomePage_ion_item_group_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item-group\")(1, \"ion-item-divider\")(2, \"ion-label\")(3, \"h1\");\n    i0.ɵɵtext(4, \" Medicamentos \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(5, HomePage_ion_item_group_7_ion_item_5_Template, 11, 2, \"ion-item\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.drugs);\n  }\n}\nfunction HomePage_ion_item_group_8_ion_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-item\")(2, \"ion-label\")(3, \"h3\")(4, \"b\");\n    i0.ɵɵtext(5, \"Especialidad:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h4\")(8, \"b\");\n    i0.ɵɵtext(9, \"Doctor:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"h4\")(12, \"b\");\n    i0.ɵɵtext(13, \"Fecha:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"h4\")(16, \"b\");\n    i0.ɵɵtext(17, \"Hora:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const date_r5 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", date_r5.especialidad, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", date_r5.doctor, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", date_r5.fecha, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", date_r5.hora, \"\");\n  }\n}\nfunction HomePage_ion_item_group_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item-group\")(1, \"ion-item-divider\")(2, \"ion-label\")(3, \"h1\");\n    i0.ɵɵtext(4, \" Proximas citas \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(5, HomePage_ion_item_group_8_ion_item_5_Template, 19, 4, \"ion-item\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.dates);\n  }\n}\nexport class HomePage {\n  constructor(router, auth, store, comp, alertController) {\n    this.router = router;\n    this.auth = auth;\n    this.store = store;\n    this.comp = comp;\n    this.alertController = alertController;\n    this.infom = {\n      medicamento: \"\",\n      cdias: 0,\n      fecha: \"\",\n      hora: 0,\n      userid: \"\"\n    };\n    this.infoc = {\n      doctor: \"\",\n      iddoctor: \"\",\n      paciente: \"\",\n      idpaciente: \"\",\n      especialidad: \"\",\n      fecha: new Date(),\n      hora: 0\n    };\n    this.info = null;\n    this.drugs = [];\n    this.dates = [];\n  }\n  ngOnInit() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const uid = yield this.auth.getUid();\n      if (uid) {\n        this.uid = uid;\n        this.medicamentos();\n        this.citas();\n        console.log(\"entro1\");\n        this.comp.menu();\n        const path = \"Pacientes\";\n        this.store.getDoc(path, this.uid).subscribe(res => {\n          if (res) {\n            this.info = res;\n          }\n        });\n        const alert = yield this.alertController.create({\n          header: \"Bienvenido\",\n          message: this.info.nombre,\n          buttons: [\"Aceptar\"]\n        });\n        yield alert.present();\n        return;\n      }\n      medicamentos();\n      {\n        const path = \"Medicamentos\";\n        this.store.consultar(path).subscribe(res => {\n          if (res) {\n            this.drugs = [];\n            res.forEach(r => {\n              if (r.userid == this.uid) {\n                this.infom = r;\n                this.drugs.push(this.infom), console.log(this.drugs);\n              }\n            });\n          }\n        });\n      }\n      citas();\n      {\n        const path = \"Citas\";\n        this.store.consultar(path).subscribe(res => {\n          if (res) {\n            this.dates = [];\n            res.forEach(r => {\n              if (r.idpaciente == this.uid) {\n                this.infoc = r;\n                this.dates.push(this.infom), console.log(this.dates);\n              }\n            });\n          }\n        });\n      }\n    });\n  }\n}\nHomePage.ɵfac = function HomePage_Factory(t) {\n  return new (t || HomePage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.FirestoreService), i0.ɵɵdirectiveInject(i4.AppComponent), i0.ɵɵdirectiveInject(i5.AlertController));\n};\nHomePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomePage,\n  selectors: [[\"app-home\"]],\n  decls: 9,\n  vars: 2,\n  consts: [[\"slot\", \"start\"], [\"overflow-scroll\", \"true\", 1, \"ion-padding\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function HomePage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Home\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-buttons\", 0);\n      i0.ɵɵelement(5, \"ion-menu-button\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"ion-content\", 1);\n      i0.ɵɵtemplate(7, HomePage_ion_item_group_7_Template, 6, 1, \"ion-item-group\", 2);\n      i0.ɵɵtemplate(8, HomePage_ion_item_group_8_Template, 6, 1, \"ion-item-group\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.drugs);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.dates);\n    }\n  },\n  dependencies: [i6.NgForOf, i6.NgIf, i5.IonButtons, i5.IonContent, i5.IonHeader, i5.IonItem, i5.IonItemDivider, i5.IonItemGroup, i5.IonLabel, i5.IonMenuButton, i5.IonTitle, i5.IonToolbar],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","HomePage","constructor","router","auth","store","comp","alertController","medicamento","cdias","fecha","hora","userid","doctor","iddoctor","paciente","idpaciente","especialidad","Date","ngOnInit","uid","getUid","medicamentos","citas","console","log","menu","path","getDoc","subscribe","res","info","alert","create","header","message","nombre","buttons","present","consultar","drugs","forEach","r","infom","push","dates","infoc","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\erick\\OneDrive\\Documentos\\GitHub\\Asistente-M-dico-MedMate\\MedMate\\src\\app\\mpacientes\\home\\home.page.html","C:\\Users\\erick\\OneDrive\\Documentos\\GitHub\\Asistente-M-dico-MedMate\\MedMate\\src\\app\\mpacientes\\home\\home.page.ts"],"sourcesContent":["<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title>Home</ion-title>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-menu-button></ion-menu-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n\r\n<ion-content class=\"ion-padding\" overflow-scroll=\"true\">\r\n  <ion-item-group *ngIf=\"drugs\">\r\n    <ion-item-divider>\r\n      <ion-label>\r\n        <h1>\r\n          Medicamentos\r\n        </h1>\r\n      </ion-label>\r\n    </ion-item-divider>\r\n    <ion-item *ngFor=\"let drug of drugs\">\r\n      <ion-item>\r\n        <ion-label>\r\n          <h3><b>Medicina:</b> {{drug.medicamento}}</h3>\r\n          <h4> <b>Hora:</b> {{drug.hora}}</h4>\r\n        </ion-label>\r\n      </ion-item>\r\n    </ion-item>\r\n  </ion-item-group>\r\n\r\n\r\n  <ion-item-group *ngIf=\"dates\">\r\n    <ion-item-divider>\r\n      <ion-label>\r\n        <h1>\r\n          Proximas citas\r\n        </h1>\r\n      </ion-label>\r\n    </ion-item-divider>\r\n    <ion-item *ngFor=\"let date of dates\"> \r\n      <ion-item>\r\n        <ion-label>\r\n          <h3><b>Especialidad:</b> {{date.especialidad}} </h3>\r\n          <h4> <b>Doctor:</b> {{date.doctor}}</h4>\r\n          <h4> <b>Fecha:</b> {{date.fecha}}</h4>\r\n          <h4> <b>Hora:</b> {{date.hora}}</h4>\r\n        </ion-label>\r\n      </ion-item>\r\n    </ion-item>\r\n  </ion-item-group>\r\n</ion-content>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, IonFooter } from '@ionic/angular';\r\nimport { AppComponent } from 'src/app/app.component';\r\nimport { cita, medicacion, paciente } from 'src/app/models/interface';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { FirestoreService } from 'src/app/services/firestore.service';\r\n\r\n@Component({\r\n  selector: \"app-home\",\r\n  templateUrl: \"./home.page.html\",\r\n  styleUrls: [\"./home.page.scss\"],\r\n})\r\nexport class HomePage implements OnInit {\r\n\r\n  infom: medicacion = {\r\n    medicamento: \"\",\r\n    cdias: 0,\r\n    fecha: \"\",\r\n    hora: 0,\r\n    userid: \"\",\r\n  };\r\n  infoc: cita = {\r\n    doctor: \"\",\r\n    iddoctor: \"\",\r\n    paciente: \"\",\r\n    idpaciente: \"\",\r\n    especialidad: \"\",\r\n    fecha: new Date(),\r\n    hora: 0,\r\n  };\r\n  info: paciente = null!;\r\n  drugs: any[] = [];\r\n  dates: any[] = [];\r\n  uid: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private auth: AuthService,\r\n    private store: FirestoreService,\r\n    private comp: AppComponent,\r\n    private alertController: AlertController\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    const uid = await this.auth.getUid();\r\n    if (uid) {\r\n      this.uid = uid;\r\n      this.medicamentos();\r\n      this.citas();\r\n      console.log(\"entro1\");\r\n      this.comp.menu();\r\n      const path = \"Pacientes\";\r\n      this.store.getDoc<paciente>(path, this.uid).subscribe((res) => {\r\n      if (res) {\r\n        this.info = res;\r\n      }\r\n    });\r\n      const alert = await this.alertController.create({\r\n        header: \"Bienvenido\",\r\n        message:\r\n          this.info.nombre,\r\n        buttons: [\"Aceptar\"],\r\n      });\r\n\r\n      await alert.present();\r\n      return;\r\n  }\r\n\r\n\r\n  medicamentos() {\r\n    const path = \"Medicamentos\";\r\n    this.store.consultar<medicacion>(path).subscribe((res) => {\r\n      if (res) {\r\n        this.drugs = [];\r\n        res.forEach((r) => {\r\n          if (r.userid == this.uid) {\r\n            this.infom = r;\r\n            this.drugs.push(this.infom), console.log(this.drugs);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n  citas() {\r\n    const path = \"Citas\";\r\n    this.store.consultar<cita>(path).subscribe((res) => {\r\n      if (res) {\r\n        this.dates = [];\r\n        res.forEach((r) => {\r\n          if (r.idpaciente == this.uid) {\r\n            this.infoc = r;\r\n            this.dates.push(this.infom), console.log(this.dates);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}