{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/app.component\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"src/app/services/firestore.service\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"@angular/common\";\nfunction CitasPage_ion_content_6_ion_item_group_1_ion_select_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const estado_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", estado_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(estado_r4);\n  }\n}\nfunction CitasPage_ion_content_6_ion_item_group_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item-group\")(1, \"ion-item-divider\", 5)(2, \"ion-item\")(3, \"ion-label\", 6);\n    i0.ɵɵtext(4, \"Estado:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-select\", 7);\n    i0.ɵɵlistener(\"ionChange\", function CitasPage_ion_content_6_ion_item_group_1_Template_ion_select_ionChange_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const date_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.Cambio(date_r2, $event));\n    });\n    i0.ɵɵtemplate(6, CitasPage_ion_content_6_ion_item_group_1_ion_select_option_6_Template, 2, 2, \"ion-select-option\", 8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"ion-item\", 9)(8, \"ion-item\", 10)(9, \"ion-label\")(10, \"h4\")(11, \"b\");\n    i0.ɵɵtext(12, \"Paciente:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"h4\")(15, \"b\");\n    i0.ɵɵtext(16, \"Fecha:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"h4\")(19, \"b\");\n    i0.ɵɵtext(20, \"Hora:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"h4\")(23, \"b\");\n    i0.ɵɵtext(24, \"Estado:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const date_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", date_r2.estado);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.estados);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", date_r2.paciente, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", date_r2.fecha, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", date_r2.hora, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", date_r2.estado, \"\");\n  }\n}\nfunction CitasPage_ion_content_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-content\", 3);\n    i0.ɵɵtemplate(1, CitasPage_ion_content_6_ion_item_group_1_Template, 26, 6, \"ion-item-group\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.dates);\n  }\n}\nexport class CitasPage {\n  constructor(comp, auth, store, alertController) {\n    this.comp = comp;\n    this.auth = auth;\n    this.store = store;\n    this.alertController = alertController;\n    this.dates = [];\n    this.infoc = {\n      doctor: \"\",\n      iddoctor: \"\",\n      paciente: \"\",\n      idpaciente: \"\",\n      especialidad: \"\",\n      fecha: new Date(),\n      hora: 0,\n      id: \"\",\n      estado: \"\"\n    };\n    this.estados = [\"En espera\", \"Aceptada\", \"Rechazada\"];\n  }\n  ngOnInit() {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.citas();\n      const uid = yield this.auth.getUid();\n      if (uid) {\n        this.uid = uid;\n      }\n    });\n  }\n  citas() {\n    const path = \"Citas\";\n    this.store.consultar(path).subscribe(res => {\n      if (res) {\n        this.dates = [];\n        res.forEach(r => {\n          if (r.iddoctor == this.uid) {\n            this.infoc = r;\n            this.dates.push(this.infoc);\n          }\n        });\n      }\n    });\n  }\n  Cambio(cita, evento) {\n    const update = {\n      estado: evento.target.value\n    };\n    this.store.updatedoc(\"Citas\", cita.id, update);\n  }\n}\nCitasPage.ɵfac = function CitasPage_Factory(t) {\n  return new (t || CitasPage)(i0.ɵɵdirectiveInject(i1.AppComponent), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.FirestoreService), i0.ɵɵdirectiveInject(i4.AlertController));\n};\nCitasPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CitasPage,\n  selectors: [[\"app-citas\"]],\n  decls: 7,\n  vars: 1,\n  consts: [[\"color\", \"principal\"], [\"slot\", \"start\"], [\"class\", \"ion-padding\", \"color\", \"blanco\", 4, \"ngIf\"], [\"color\", \"blanco\", 1, \"ion-padding\"], [4, \"ngFor\", \"ngForOf\"], [\"color\", \"blanco\", 1, \"divider\"], [\"position\", \"fixed\"], [\"interface\", \"action-sheet\", \"justify\", \"space-between\", 3, \"placeholder\", \"ionChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"color\", \"blanco\", 1, \"item\"], [\"color\", \"blanco\"], [3, \"value\"]],\n  template: function CitasPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\", 0)(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Citas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-buttons\", 1);\n      i0.ɵɵelement(5, \"ion-menu-button\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(6, CitasPage_ion_content_6_Template, 2, 1, \"ion-content\", 2);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.dates);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i4.IonButtons, i4.IonContent, i4.IonHeader, i4.IonItem, i4.IonItemDivider, i4.IonItemGroup, i4.IonLabel, i4.IonMenuButton, i4.IonSelect, i4.IonSelectOption, i4.IonTitle, i4.IonToolbar, i4.SelectValueAccessor],\n  styles: [\"ion-content[_ngcontent-%COMP%] {\\n  background-color: #F2F2F2;\\n  height: calc(50vh - 60px);\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n}\\n\\n.divider[_ngcontent-%COMP%] {\\n  background-color: #E5E5E5;\\n  margin-top: 0.25rem;\\n}\\n\\n.item[_ngcontent-%COMP%] {\\n  padding: 0.75rem;\\n  margin-top: 0.25rem;\\n  border-radius: 0.25rem;\\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);\\n  transition: box-shadow 0.3s ease;\\n}\\n\\n.item[_ngcontent-%COMP%]:hover {\\n  box-shadow: 0 0 16px rgba(0, 0, 0, 0.2);\\n}\\n\\nh4[_ngcontent-%COMP%] {\\n  margin: 0.15rem 0;\\n  font-weight: 500;\\n  font-size: 0.9rem;\\n}\\n\\nion-select[_ngcontent-%COMP%] {\\n  --padding-end: 0.10rem;\\n  font-size: 0.7rem;\\n  font-weight: 300;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWRvY3Rvci9jaXRhcy9jaXRhcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx5QkFBQTtFQUNBLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7QUFDSjs7QUFFRTtFQUNFLHlCQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFFRTtFQUNFLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtFQUNBLHNDQUFBO0VBQ0EsZ0NBQUE7QUFDSjs7QUFFRTtFQUNFLHVDQUFBO0FBQ0o7O0FBRUU7RUFDRSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUFDSjs7QUFFRTtFQUNFLHNCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0YyRjJGMjtcclxuICAgIGhlaWdodDogY2FsYyg1MHZoIC0gNjBweCk7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIH1cclxuICBcclxuICAuZGl2aWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTVFNUU1O1xyXG4gICAgbWFyZ2luLXRvcDogMC4yNXJlbTtcclxuICB9XHJcbiAgXHJcbiAgLml0ZW0ge1xyXG4gICAgcGFkZGluZzogMC43NXJlbTtcclxuICAgIG1hcmdpbi10b3A6IDAuMjVyZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiAwLjI1cmVtO1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuM3MgZWFzZTtcclxuICB9XHJcbiAgXHJcbiAgLml0ZW06aG92ZXIge1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDE2cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xyXG4gIH1cclxuICBcclxuICBoNCB7XHJcbiAgICBtYXJnaW46IDAuMTVyZW0gMDtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICBmb250LXNpemU6IDAuOXJlbTtcclxuICB9XHJcbiAgXHJcbiAgaW9uLXNlbGVjdCB7XHJcbiAgICAtLXBhZGRpbmctZW5kOiAwLjEwcmVtO1xyXG4gICAgZm9udC1zaXplOiAwLjdyZW07XHJcbiAgICBmb250LXdlaWdodDogMzAwO1xyXG4gIH1cclxuICBcclxuICBcclxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","CitasPage","constructor","comp","auth","store","alertController","doctor","iddoctor","paciente","idpaciente","especialidad","fecha","Date","hora","id","estado","ngOnInit","citas","uid","getUid","path","consultar","subscribe","res","dates","forEach","r","infoc","push","Cambio","cita","evento","update","target","value","updatedoc","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\omarr\\Documents\\GitHub\\Asistente-M-dico-MedMate\\MedMate\\src\\app\\mdoctor\\citas\\citas.page.html","C:\\Users\\omarr\\Documents\\GitHub\\Asistente-M-dico-MedMate\\MedMate\\src\\app\\mdoctor\\citas\\citas.page.ts"],"sourcesContent":["<ion-header>\r\n  <ion-toolbar color=\"principal\">\r\n    <ion-title>Citas</ion-title>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-menu-button></ion-menu-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\" color=\"blanco\" *ngIf=\"dates\">\r\n  <ion-item-group  *ngFor=\"let date of dates\">\r\n    <ion-item-divider color=\"blanco\" class=\"divider\">\r\n      <ion-item>\r\n        <ion-label position=\"fixed\">Estado:</ion-label>\r\n        <ion-select (ionChange)=\"Cambio(date, $event)\" interface=\"action-sheet\"  justify=\"space-between\" placeholder=\"{{date.estado}}\">\r\n          <ion-select-option *ngFor=\"let estado of estados\" [value]=\"estado\">{{estado}}</ion-select-option>\r\n        </ion-select>\r\n      </ion-item>\r\n    </ion-item-divider>\r\n    <ion-item class=\"item\" color=\"blanco\">\r\n      <ion-item color=\"blanco\">\r\n        <ion-label>\r\n          <h4> <b>Paciente:</b> {{date.paciente}}</h4>\r\n          <h4> <b>Fecha:</b> {{date.fecha}}</h4>\r\n          <h4> <b>Hora:</b> {{date.hora}}</h4>\r\n          <h4> <b>Estado:</b> {{date.estado}}</h4>\r\n        </ion-label>\r\n      </ion-item>\r\n    </ion-item>\r\n  </ion-item-group>\r\n</ion-content>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { AppComponent } from 'src/app/app.component';\r\nimport { EstadoCita, cita } from 'src/app/models/interface';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { FirestoreService } from 'src/app/services/firestore.service';\r\n\r\n@Component({\r\n  selector: \"app-citas\",\r\n  templateUrl: \"./citas.page.html\",\r\n  styleUrls: [\"./citas.page.scss\"],\r\n})\r\nexport class CitasPage implements OnInit {\r\n  dates: any[] = [];\r\n  uid: any;\r\n  infoc: cita = {\r\n    doctor: \"\",\r\n    iddoctor: \"\",\r\n    paciente: \"\",\r\n    idpaciente: \"\",\r\n    especialidad: \"\",\r\n    fecha: new Date(),\r\n    hora: 0,\r\n    id: \"\",\r\n    estado: \"\",\r\n  };\r\n\r\n  estados: EstadoCita[] = [\"En espera\" , \"Aceptada\" , \"Rechazada\"];\r\n\r\n  constructor(\r\n    private comp: AppComponent,\r\n    private auth: AuthService,\r\n    private store: FirestoreService,\r\n    private alertController: AlertController\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    this.citas();\r\n    const uid = await this.auth.getUid();\r\n    if (uid) {\r\n      this.uid = uid;\r\n    }\r\n  }\r\n\r\n  citas() {\r\n    const path = \"Citas\";\r\n    this.store.consultar<cita>(path).subscribe((res) => {\r\n      if (res) {\r\n        this.dates = [];\r\n        res.forEach((r) => {\r\n          if (r.iddoctor == this.uid) {\r\n            this.infoc = r;\r\n            this.dates.push(this.infoc);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  Cambio(cita: cita, evento: any) {\r\n    \r\n    const update = {\r\n      estado: evento.target.value,\r\n    };\r\n    this.store.updatedoc(\"Citas\", cita.id, update);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}