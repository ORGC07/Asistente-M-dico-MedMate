{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet SetReportesComponent = class SetReportesComponent {\n  constructor(menuController, firestoreService, loadingCtrl, toastController, alertController) {\n    this.menuController = menuController;\n    this.firestoreService = firestoreService;\n    this.loadingCtrl = loadingCtrl;\n    this.toastController = toastController;\n    this.alertController = alertController;\n    this.reporte = [];\n    this.infopacientes = [];\n    this.enablenewReportes = false;\n    this.path = \"reportes/\";\n  }\n  ngOnInit() {\n    this.leertRepo();\n    this.getpacientes();\n  }\n  getpacientes() {\n    this.firestoreService.getCollection(\"Doctores\").subscribe(res => {\n      if (res) {\n        this.infopacientes = res;\n      }\n    });\n  }\n  openMenu() {\n    this.menuController.toggle(\"main\");\n  }\n  guardarRepo() {\n    this.showLoading();\n    this.firestoreService.createRepo(this.newReportes, this.path, this.newReportes.id).then(res => {\n      this.loading.dismiss();\n      this.presentToast(\"Guardado con exito\");\n    }).catch(error => {\n      this.presentToast(\"No se pudo guardar\");\n    });\n  }\n  leertRepo() {\n    0;\n    this.firestoreService.getCollection(this.path).subscribe(res => {\n      this.reporte = res;\n    });\n  }\n  deleteReporte(Reporte) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const alert = yield this.alertController.create({\n        cssClass: \"normal\",\n        header: \"Advertencia\",\n        message: \"¿Seguro que deseas <strong>eliminar</strong> este reporte?\",\n        buttons: [{\n          text: \"Cancelar\",\n          role: \"cancel\",\n          cssClass: \"normal\",\n          handler: () => {\n            console.log(\"Alert canceled\");\n          }\n        }, {\n          text: \"OK\",\n          role: \"confirm\",\n          handler: () => {\n            console.log(\"Alert confirmed\");\n            this.firestoreService.deletetRepo(this.path, Reporte.id).then(res => {\n              this.alertController.dismiss();\n              this.presentToast(\"Eliminado con exito\");\n            }).catch(error => {\n              this.presentToast(\"No se pudo eliminar\");\n            });\n          }\n        }]\n      });\n      yield alert.present();\n    });\n  }\n  nuevo() {\n    this.enablenewReportes = true;\n    this.newReportes = {\n      nombre: \"\",\n      identificador: 0,\n      edad: 0,\n      peso: 0,\n      altura: 0,\n      medicamentos: \"\",\n      condicion: \"\",\n      id: this.firestoreService.getId(),\n      fecha: new Date()\n    };\n  }\n  showLoading() {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.loading = yield this.loadingCtrl.create({\n        cssClass: \"normal\",\n        message: \"Guardando...\",\n        spinner: \"circles\"\n      });\n      yield this.loading.present();\n    });\n  }\n  presentToast(msg) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const toast = yield this.toastController.create({\n        cssClass: \"normal\",\n        message: msg,\n        duration: 2000,\n        icon: \"thumbs-up-outline\",\n        color: \"light\"\n      });\n      yield toast.present();\n    });\n  }\n};\nSetReportesComponent = __decorate([Component({\n  selector: \"app-set-reportes\",\n  templateUrl: \"./set-reportes.component.html\",\n  styleUrls: [\"./set-reportes.component.scss\"]\n})], SetReportesComponent);\nexport { SetReportesComponent };","map":{"version":3,"mappings":"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","names":["Component","SetReportesComponent","constructor","menuController","firestoreService","loadingCtrl","toastController","alertController","ngOnInit","leertRepo","getpacientes","getCollection","subscribe","res","infopacientes","openMenu","toggle","guardarRepo","showLoading","createRepo","newReportes","path","id","then","loading","dismiss","presentToast","catch","error","reporte","deleteReporte","Reporte","alert","create","cssClass","header","message","buttons","text","role","handler","console","log","deletetRepo","present","nuevo","enablenewReportes","nombre","identificador","edad","peso","altura","medicamentos","condicion","getId","fecha","Date","spinner","msg","toast","duration","icon","color","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\erick\\OneDrive\\Documentos\\GitHub\\Asistente-M-dico-MedMate\\MedMate\\src\\app\\backend\\set-reportes\\set-reportes.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, LoadingController, MenuController, ToastController } from '@ionic/angular';\r\nimport { mainModule } from 'process';\r\nimport { FirestoreService } from 'src/app/services/firestore.services';\r\n\r\nimport { ɵNullViewportScroller } from '@angular/common';\r\nimport { error } from 'console';\r\nimport { Reporte, paciente } from 'src/app/models/interface';\r\n\r\n@Component({\r\n  selector: \"app-set-reportes\",\r\n  templateUrl: \"./set-reportes.component.html\",\r\n  styleUrls: [\"./set-reportes.component.scss\"],\r\n})\r\nexport class SetReportesComponent implements OnInit {\r\n  reporte: Reporte[] = [];\r\n  newReportes!: Reporte;\r\n  infopacientes: paciente[] = [];\r\n\r\n  enablenewReportes = false;\r\n\r\n  private path = \"reportes/\";\r\n  loading: any;\r\n\r\n  constructor(\r\n    public menuController: MenuController,\r\n    public firestoreService: FirestoreService,\r\n    private loadingCtrl: LoadingController,\r\n    private toastController: ToastController,\r\n    private alertController: AlertController\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.leertRepo();\r\n    this.getpacientes();\r\n  }\r\n\r\n  getpacientes() {\r\n    this.firestoreService\r\n      .getCollection<paciente>(\"Doctores\")\r\n      .subscribe((res) => {\r\n        if (res) {\r\n          this.infopacientes = res;\r\n        }\r\n      });\r\n  }\r\n\r\n  openMenu() {\r\n    this.menuController.toggle(\"main\");\r\n  }\r\n\r\n  guardarRepo() {\r\n    this.showLoading();\r\n    this.firestoreService\r\n      .createRepo(this.newReportes, this.path, this.newReportes.id)\r\n      .then((res) => {\r\n        this.loading.dismiss();\r\n        this.presentToast(\"Guardado con exito\");\r\n      })\r\n      .catch((error) => {\r\n        this.presentToast(\"No se pudo guardar\");\r\n      });\r\n  }\r\n  leertRepo() {\r\n    0;\r\n    this.firestoreService.getCollection<Reporte>(this.path).subscribe((res) => {\r\n      this.reporte = res;\r\n    });\r\n  }\r\n  async deleteReporte(Reporte: Reporte) {\r\n    const alert = await this.alertController.create({\r\n      cssClass: \"normal\",\r\n      header: \"Advertencia\",\r\n      message: \"¿Seguro que deseas <strong>eliminar</strong> este reporte?\",\r\n      buttons: [\r\n        {\r\n          text: \"Cancelar\",\r\n          role: \"cancel\",\r\n          cssClass: \"normal\",\r\n          handler: () => {\r\n            console.log(\"Alert canceled\");\r\n          },\r\n        },\r\n        {\r\n          text: \"OK\",\r\n          role: \"confirm\",\r\n          handler: () => {\r\n            console.log(\"Alert confirmed\");\r\n            this.firestoreService\r\n              .deletetRepo(this.path, Reporte.id)\r\n              .then((res) => {\r\n                this.alertController.dismiss();\r\n                this.presentToast(\"Eliminado con exito\");\r\n              })\r\n              .catch((error) => {\r\n                this.presentToast(\"No se pudo eliminar\");\r\n              });\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  nuevo() {\r\n    this.enablenewReportes = true;\r\n    this.newReportes = {\r\n      nombre: \"\",\r\n      identificador: 0,\r\n      edad: 0,\r\n      peso: 0,\r\n      altura: 0,\r\n      medicamentos: \"\",\r\n      condicion: \"\",\r\n      id: this.firestoreService.getId(),\r\n      fecha: new Date(),\r\n    };\r\n  }\r\n  async showLoading() {\r\n    this.loading = await this.loadingCtrl.create({\r\n      cssClass: \"normal\",\r\n      message: \"Guardando...\",\r\n      spinner: \"circles\",\r\n    });\r\n\r\n    await this.loading.present();\r\n  }\r\n  async presentToast(msg: string) {\r\n    const toast = await this.toastController.create({\r\n      cssClass: \"normal\",\r\n      message: msg,\r\n      duration: 2000,\r\n      icon: \"thumbs-up-outline\",\r\n      color: \"light\",\r\n    });\r\n\r\n    await toast.present();\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}