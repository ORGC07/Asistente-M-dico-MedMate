{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/app.component\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"src/app/services/firestore.service\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"@angular/common\";\nfunction CitasPage_ion_content_6_ion_item_group_1_ion_select_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const estado_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", estado_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(estado_r4);\n  }\n}\nfunction CitasPage_ion_content_6_ion_item_group_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item-group\")(1, \"ion-item-divider\", 5)(2, \"ion-item\")(3, \"ion-label\", 6);\n    i0.ɵɵtext(4, \"Estado:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-select\", 7);\n    i0.ɵɵlistener(\"ionChange\", function CitasPage_ion_content_6_ion_item_group_1_Template_ion_select_ionChange_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const date_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.Cambio(date_r2, $event));\n    });\n    i0.ɵɵtemplate(6, CitasPage_ion_content_6_ion_item_group_1_ion_select_option_6_Template, 2, 2, \"ion-select-option\", 8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"ion-item\", 9)(8, \"ion-item\", 10)(9, \"ion-label\")(10, \"h4\")(11, \"b\");\n    i0.ɵɵtext(12, \"Paciente:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"h4\")(15, \"b\");\n    i0.ɵɵtext(16, \"Fecha:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"h4\")(19, \"b\");\n    i0.ɵɵtext(20, \"Hora:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"h4\")(23, \"b\");\n    i0.ɵɵtext(24, \"Estado:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const date_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", date_r2.estado);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.estados);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", date_r2.paciente, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", date_r2.fecha, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", date_r2.hora, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", date_r2.estado, \"\");\n  }\n}\nfunction CitasPage_ion_content_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-content\", 3);\n    i0.ɵɵtemplate(1, CitasPage_ion_content_6_ion_item_group_1_Template, 26, 6, \"ion-item-group\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.dates);\n  }\n}\nexport let CitasPage = /*#__PURE__*/(() => {\n  class CitasPage {\n    constructor(comp, auth, store, alertController) {\n      this.comp = comp;\n      this.auth = auth;\n      this.store = store;\n      this.alertController = alertController;\n      this.dates = [];\n      this.infoc = {\n        doctor: \"\",\n        iddoctor: \"\",\n        paciente: \"\",\n        idpaciente: \"\",\n        especialidad: \"\",\n        fecha: new Date(),\n        hora: 0,\n        id: \"\",\n        estado: \"\"\n      };\n      this.estados = [\"En espera\", \"Aceptada\", \"Rechazada\"];\n    }\n    ngOnInit() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.citas();\n        const uid = yield this.auth.getUid();\n        if (uid) {\n          this.uid = uid;\n        }\n      });\n    }\n    citas() {\n      const path = \"Citas\";\n      this.store.consultar(path).subscribe(res => {\n        if (res) {\n          this.dates = [];\n          res.forEach(r => {\n            if (r.iddoctor == this.uid) {\n              this.infoc = r;\n              this.dates.push(this.infoc);\n            }\n          });\n        }\n      });\n    }\n    Cambio(cita, evento) {\n      const update = {\n        estado: evento.target.value\n      };\n      this.store.updatedoc(\"Citas\", cita.id, update);\n    }\n  }\n  CitasPage.ɵfac = function CitasPage_Factory(t) {\n    return new (t || CitasPage)(i0.ɵɵdirectiveInject(i1.AppComponent), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.FirestoreService), i0.ɵɵdirectiveInject(i4.AlertController));\n  };\n  CitasPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CitasPage,\n    selectors: [[\"app-citas\"]],\n    decls: 7,\n    vars: 1,\n    consts: [[\"color\", \"principal\"], [\"slot\", \"start\"], [\"class\", \"ion-padding\", \"color\", \"blanco\", 4, \"ngIf\"], [\"color\", \"blanco\", 1, \"ion-padding\"], [4, \"ngFor\", \"ngForOf\"], [\"color\", \"blanco\", 1, \"divider\"], [\"position\", \"fixed\"], [\"interface\", \"action-sheet\", \"justify\", \"space-between\", 3, \"placeholder\", \"ionChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"color\", \"blanco\", 1, \"item\"], [\"color\", \"blanco\"], [3, \"value\"]],\n    template: function CitasPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\", 0)(2, \"ion-title\");\n        i0.ɵɵtext(3, \"Citas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-buttons\", 1);\n        i0.ɵɵelement(5, \"ion-menu-button\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(6, CitasPage_ion_content_6_Template, 2, 1, \"ion-content\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.dates);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i4.IonButtons, i4.IonContent, i4.IonHeader, i4.IonItem, i4.IonItemDivider, i4.IonItemGroup, i4.IonLabel, i4.IonMenuButton, i4.IonSelect, i4.IonSelectOption, i4.IonTitle, i4.IonToolbar, i4.SelectValueAccessor],\n    styles: [\"ion-content[_ngcontent-%COMP%]{background-color:#f2f2f2;height:calc(50vh - 60px);display:flex;flex-direction:column;justify-content:center}.divider[_ngcontent-%COMP%]{background-color:#e5e5e5;margin-top:.25rem}.item[_ngcontent-%COMP%]{padding:.75rem;margin-top:.25rem;border-radius:.25rem;box-shadow:0 0 8px #0000001a;transition:box-shadow .3s ease}.item[_ngcontent-%COMP%]:hover{box-shadow:0 0 16px #0003}h4[_ngcontent-%COMP%]{margin:.15rem 0;font-weight:500;font-size:.9rem}ion-select[_ngcontent-%COMP%]{--padding-end: .1rem;font-size:.7rem;font-weight:300}\"]\n  });\n  return CitasPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}