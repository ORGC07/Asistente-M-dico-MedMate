{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"src/app/services/firestore.services\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction SetReportesComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"ion-item\")(2, \"ion-buttons\", 9)(3, \"ion-button\", 2);\n    i0.ɵɵlistener(\"click\", function SetReportesComponent_div_11_Template_ion_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.enablenewReportes = false);\n    });\n    i0.ɵɵelement(4, \"ion-icon\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-button\", 11);\n    i0.ɵɵlistener(\"click\", function SetReportesComponent_div_11_Template_ion_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.guardarRepo());\n    });\n    i0.ɵɵelement(6, \"ion-icon\", 12);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"H3\", 7);\n    i0.ɵɵtext(8, \"Agregar informacion personal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"ion-item\")(10, \"ion-label\", 13);\n    i0.ɵɵtext(11, \"Nombre Completo:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"ion-input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function SetReportesComponent_div_11_Template_ion_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.newReportes.nombre = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"ion-item\")(14, \"ion-label\", 13);\n    i0.ɵɵtext(15, \"Identificador:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ion-input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function SetReportesComponent_div_11_Template_ion_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.newReportes.identificador = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"ion-item\")(18, \"ion-label\", 13);\n    i0.ɵɵtext(19, \"Edad:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"ion-input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function SetReportesComponent_div_11_Template_ion_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.newReportes.edad = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"ion-item\")(22, \"ion-label\", 13);\n    i0.ɵɵtext(23, \"Peso:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"ion-input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function SetReportesComponent_div_11_Template_ion_input_ngModelChange_24_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.newReportes.peso = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"ion-item\")(26, \"ion-label\", 13);\n    i0.ɵɵtext(27, \"Altura:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"ion-input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function SetReportesComponent_div_11_Template_ion_input_ngModelChange_28_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.newReportes.altura = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"ion-item\", 16)(30, \"ion-label\", 13);\n    i0.ɵɵtext(31, \"Medicamentos que consume:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"ion-textarea\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function SetReportesComponent_div_11_Template_ion_textarea_ngModelChange_32_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.newReportes.medicamentos = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"ion-item\", 16)(34, \"ion-label\", 13);\n    i0.ɵɵtext(35, \"Condicion medica:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"ion-textarea\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function SetReportesComponent_div_11_Template_ion_textarea_ngModelChange_36_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.newReportes.condicion = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newReportes.nombre);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newReportes.identificador);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newReportes.edad);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newReportes.peso);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newReportes.altura);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newReportes.medicamentos);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newReportes.condicion);\n  }\n}\nfunction SetReportesComponent_ion_item_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-buttons\", 9)(4, \"ion-button\", 2);\n    i0.ɵɵlistener(\"click\", function SetReportesComponent_ion_item_15_Template_ion_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const Reporte_r12 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      ctx_r13.newReportes = Reporte_r12;\n      return i0.ɵɵresetView(ctx_r13.enablenewReportes = true);\n    });\n    i0.ɵɵelement(5, \"ion-icon\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ion-button\", 2);\n    i0.ɵɵlistener(\"click\", function SetReportesComponent_ion_item_15_Template_ion_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const Reporte_r12 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.deleteReporte(Reporte_r12));\n    });\n    i0.ɵɵelement(7, \"ion-icon\", 20);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const Reporte_r12 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(Reporte_r12.nombre);\n  }\n}\nexport class SetReportesComponent {\n  constructor(menuController, firestoreService, loadingCtrl, toastController, alertController) {\n    this.menuController = menuController;\n    this.firestoreService = firestoreService;\n    this.loadingCtrl = loadingCtrl;\n    this.toastController = toastController;\n    this.alertController = alertController;\n    this.reporte = [];\n    this.enablenewReportes = false;\n    this.path = 'reportes/';\n  }\n  ngOnInit() {\n    this.leertRepo();\n  }\n  openMenu() {\n    this.menuController.toggle('main');\n  }\n  guardarRepo() {\n    this.showLoading();\n    this.firestoreService.createRepo(this.newReportes, this.path, this.newReportes.id).then(res => {\n      this.loading.dismiss();\n      this.presentToast('Guardado con exito');\n    }).catch(error => {\n      this.presentToast('No se pudo guardar');\n    });\n  }\n  leertRepo() {\n    0;\n    this.firestoreService.getCollection(this.path).subscribe(res => {\n      this.reporte = res;\n    });\n  }\n  deleteReporte(Reporte) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const alert = yield this.alertController.create({\n        cssClass: 'normal',\n        header: 'Advertencia',\n        message: '¿Seguro que deseas <strong>eliminar</strong> este reporte?',\n        buttons: [{\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'normal',\n          handler: () => {\n            console.log('Alert canceled');\n          }\n        }, {\n          text: 'OK',\n          role: 'confirm',\n          handler: () => {\n            console.log('Alert confirmed');\n            this.firestoreService.deletetRepo(this.path, Reporte.id).then(res => {\n              this.alertController.dismiss();\n              this.presentToast('Eliminado con exito');\n            }).catch(error => {\n              this.presentToast('No se pudo eliminar');\n            });\n          }\n        }]\n      });\n      yield alert.present();\n    });\n  }\n  nuevo() {\n    this.enablenewReportes = true;\n    this.newReportes = {\n      nombre: '',\n      identificador: 0,\n      edad: 0,\n      peso: 0,\n      altura: 0,\n      medicamentos: '',\n      condicion: '',\n      id: this.firestoreService.getId(),\n      fecha: new Date()\n    };\n  }\n  showLoading() {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.loading = yield this.loadingCtrl.create({\n        cssClass: 'normal',\n        message: 'Guardando...',\n        spinner: 'circles'\n      });\n      yield this.loading.present();\n    });\n  }\n  presentToast(msg) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const toast = yield this.toastController.create({\n        cssClass: 'normal',\n        message: msg,\n        duration: 2000,\n        icon: 'thumbs-up-outline',\n        color: 'light'\n      });\n      yield toast.present();\n    });\n  }\n}\nSetReportesComponent.ɵfac = function SetReportesComponent_Factory(t) {\n  return new (t || SetReportesComponent)(i0.ɵɵdirectiveInject(i1.MenuController), i0.ɵɵdirectiveInject(i2.FirestoreService), i0.ɵɵdirectiveInject(i1.LoadingController), i0.ɵɵdirectiveInject(i1.ToastController), i0.ɵɵdirectiveInject(i1.AlertController));\n};\nSetReportesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SetReportesComponent,\n  selectors: [[\"app-set-reportes\"]],\n  decls: 16,\n  vars: 2,\n  consts: [[1, \"subtitulo\"], [\"slot\", \"start\"], [3, \"click\"], [\"color\", \"primary\", \"slot\", \"icon-only\", \"name\", \"menu-outline\"], [2, \"text-align\", \"end\", \"margin\", \"10px\"], [\"color\", \"dark\", 1, \"normal\", 3, \"click\"], [4, \"ngIf\"], [1, \"subtitulo\", \"p-3\", \"encabezado\"], [4, \"ngFor\", \"ngForOf\"], [\"slot\", \"end\"], [\"slot\", \"icon-only\", \"color\", \"dark\", \"name\", \"close\"], [\"color\", \"color1\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"save-outline\"], [\"position\", \"floating\", 1, \"normal\"], [\"type\", \"text\", \"inputmode\", \"text\", 1, \"normal\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"inputmode\", \"numeric\", 1, \"normal\", 3, \"ngModel\", \"ngModelChange\"], [\"counter\", \"true\"], [\"type\", \"text\", \"inputmode\", \"text\", \"maxlength\", \"120\", 1, \"normal\", 3, \"ngModel\", \"ngModelChange\"], [1, \"normal\"], [\"slot\", \"icon-only\", \"name\", \"create-outline\", 1, \"color1\"], [\"slot\", \"icon-only\", \"color\", \"danger\", \"name\", \"trash-outline\"]],\n  template: function SetReportesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\", 0);\n      i0.ɵɵtext(3, \" Agregar Reporte \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-buttons\", 1)(5, \"ion-button\", 2);\n      i0.ɵɵlistener(\"click\", function SetReportesComponent_Template_ion_button_click_5_listener() {\n        return ctx.openMenu();\n      });\n      i0.ɵɵelement(6, \"ion-icon\", 3);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(7, \"ion-content\")(8, \"div\", 4)(9, \"ion-button\", 5);\n      i0.ɵɵlistener(\"click\", function SetReportesComponent_Template_ion_button_click_9_listener() {\n        return ctx.nuevo();\n      });\n      i0.ɵɵtext(10, \"Nuevo\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(11, SetReportesComponent_div_11_Template, 37, 7, \"div\", 6);\n      i0.ɵɵelementStart(12, \"ion-card\")(13, \"H3\", 7);\n      i0.ɵɵtext(14, \"Lista de reportes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(15, SetReportesComponent_ion_item_15_Template, 8, 1, \"ion-item\", 8);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngIf\", ctx.enablenewReportes);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.reporte);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i1.IonButton, i1.IonButtons, i1.IonCard, i1.IonContent, i1.IonHeader, i1.IonIcon, i1.IonInput, i1.IonItem, i1.IonLabel, i1.IonTextarea, i1.IonTitle, i1.IonToolbar, i1.NumericValueAccessor, i1.TextValueAccessor, i4.NgControlStatus, i4.MaxLengthValidator, i4.NgModel],\n  styles: [\".encabezado[_ngcontent-%COMP%] {\\n  margin: 30px;\\n  border-radius: 20px;\\n  background: #e9ecef;\\n  text-align: center;\\n}\\n\\n.color1[_ngcontent-%COMP%] {\\n  color: #00d4ff;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYmFja2VuZC9zZXQtcmVwb3J0ZXMvc2V0LXJlcG9ydGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUUsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtBQUFGOztBQUVBO0VBQ0EsY0FBQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiLmVuY2FiZXphZG9cclxue1xyXG4gIG1hcmdpbjogMzBweDtcclxuICBib3JkZXItcmFkaXVzOiAyMHB4O1xyXG4gIGJhY2tncm91bmQ6ICNlOWVjZWY7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcbi5jb2xvcjF7XHJcbmNvbG9yOiAjMDBkNGZmO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAgBEA,2BAA+B;IAGXA;MAAAA;MAAA;MAAA,iDAA6B,KAAK;IAAA,EAAC;IACnDA,+BAAgE;IAClEA,iBAAa;IACbA,sCAAoD;IAAzBA;MAAAA;MAAA;MAAA,OAASA,mCAAc;IAAA,EAAC;IACjDA,+BAA0D;IAC5DA,iBAAa;IAGbA,6BAAsC;IAAAA,4CAA4B;IAAAA,iBAAK;IACnEA,gCAAU;IACsCA,iCAAgB;IAAAA,iBAAY;IAC1EA,sCAAwF;IAA7EA;MAAAA;MAAA;MAAA,OAAaA,kDAA0B;IAAA,EAAP;IAA6CA,iBAAY;IAEtGA,iCAAU;IACsCA,+BAAc;IAAAA,iBAAY;IACxEA,sCAAoG;IAAzFA;MAAAA;MAAA;MAAA,OAAaA,yDAAiC;IAAA,EAAP;IAAkDA,iBAAY;IAElHA,iCAAU;IACsCA,sBAAK;IAAAA,iBAAY;IAC/DA,sCAA2F;IAAhFA;MAAAA;MAAA;MAAA,OAAaA,gDAAwB;IAAA,EAAP;IAAkDA,iBAAY;IAEzGA,iCAAU;IACsCA,sBAAK;IAAAA,iBAAY;IAC/DA,sCAA2F;IAAhFA;MAAAA;MAAA;MAAA,OAAaA,gDAAwB;IAAA,EAAP;IAAkDA,iBAAY;IAEzGA,iCAAU;IACsCA,wBAAO;IAAAA,iBAAY;IACjEA,sCAA6F;IAAlFA;MAAAA;MAAA;MAAA,OAAaA,kDAA0B;IAAA,EAAP;IAAkDA,iBAAY;IAE3GA,qCAAyB;IACuBA,0CAAyB;IAAAA,iBAAY;IACnFA,yCAAiH;IAAnGA;MAAAA;MAAA;MAAA,OAAaA,yDAAgC;IAAA,EAAP;IAA6DA,iBAAe;IAElIA,qCAAyB;IACsBA,kCAAiB;IAAAA,iBAAY;IAC1EA,yCAA8G;IAAhGA;MAAAA;MAAA;MAAA,OAAaA,sDAA6B;IAAA,EAAP;IAA6DA,iBAAe;;;;IAxBlHA,gBAAgC;IAAhCA,mDAAgC;IAIhCA,eAAuC;IAAvCA,0DAAuC;IAIvCA,eAA8B;IAA9BA,iDAA8B;IAI9BA,eAA8B;IAA9BA,iDAA8B;IAI9BA,eAAgC;IAAhCA,mDAAgC;IAI7BA,eAAsC;IAAtCA,yDAAsC;IAItCA,eAAmC;IAAnCA,sDAAmC;;;;;;IAMnDA,gCAA0C;IACdA,YAAkB;IAAAA,iBAAY;IACxDA,sCAAwB;IACVA;MAAA;MAAA;MAAA;MAAAC;MAAA,kDAAqD,IAAI;IAAA,EAAC;IACpED,+BAA2E;IAC7EA,iBAAa;IACbA,qCAA6C;IAAjCA;MAAA;MAAA;MAAA;MAAA,OAASA,iDAAsB;IAAA,EAAC;IAC1CA,+BAA0E;IAC5EA,iBAAa;;;;IAPWA,eAAkB;IAAlBA,wCAAkB;;;AC/CtD,OAAM,MAAOE,oBAAoB;EAU/BC,YAAmBC,cAA8B,EAC9BC,gBAAkC,EACjCC,WAA8B,EAC9BC,eAAgC,EAChCC,eAAgC;IAJjC,mBAAc,GAAdJ,cAAc;IACd,qBAAgB,GAAhBC,gBAAgB;IACf,gBAAW,GAAXC,WAAW;IACX,oBAAe,GAAfC,eAAe;IACf,oBAAe,GAAfC,eAAe;IAZnC,YAAO,GAAc,EAAE;IAGvB,sBAAiB,GAAG,KAAK;IAEjB,SAAI,GAAG,WAAW;EAO8B;EAExDC,QAAQ;IACN,IAAI,CAACC,SAAS,EAAE;EAClB;EACAC,QAAQ;IACN,IAAI,CAACP,cAAc,CAACQ,MAAM,CAAC,MAAM,CAAC;EACpC;EAEAC,WAAW;IACT,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACT,gBAAgB,CAACU,UAAU,CAAC,IAAI,CAACC,WAAW,EAAE,IAAI,CAACC,IAAI,EAAE,IAAI,CAACD,WAAW,CAACE,EAAE,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAG;MAC7F,IAAI,CAACC,OAAO,CAACC,OAAO,EAAE;MACtB,IAAI,CAACC,YAAY,CAAC,oBAAoB,CAAC;IACzC,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAG;MACf,IAAI,CAACF,YAAY,CAAC,oBAAoB,CAAC;IACzC,CAAC,CAAC;EACJ;EACAb,SAAS;IAAG,CAAC;IACX,IAAI,CAACL,gBAAgB,CAACqB,aAAa,CAAU,IAAI,CAACT,IAAI,CAAC,CAACU,SAAS,CAAEP,GAAG,IAAG;MACnE,IAAI,CAACQ,OAAO,GAAGR,GAAG;IACxB,CAAC,CAAC;EACJ;EACMS,aAAa,CAACC,OAAe;;MACjC,MAAMC,KAAK,GAAG,MAAM,IAAI,CAACvB,eAAe,CAACwB,MAAM,CAAC;QAC9CC,QAAQ,EAAC,QAAQ;QACjBC,MAAM,EAAE,aAAa;QACrBC,OAAO,EAAE,4DAA4D;QACrEC,OAAO,EAAE,CACP;UACEC,IAAI,EAAE,UAAU;UAChBC,IAAI,EAAE,QAAQ;UACdL,QAAQ,EAAC,QAAQ;UACjBM,OAAO,EAAE,MAAK;YACZC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;UAC/B;SACD,EACD;UACEJ,IAAI,EAAE,IAAI;UACVC,IAAI,EAAE,SAAS;UACfC,OAAO,EAAE,MAAK;YACZC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;YAC9B,IAAI,CAACpC,gBAAgB,CAACqC,WAAW,CAAC,IAAI,CAACzB,IAAI,EAAEa,OAAO,CAACZ,EAAE,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAG;cACnE,IAAI,CAACZ,eAAe,CAACc,OAAO,EAAE;cAC9B,IAAI,CAACC,YAAY,CAAC,qBAAqB,CAAC;YAC1C,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAG;cACf,IAAI,CAACF,YAAY,CAAC,qBAAqB,CAAC;YAC1C,CAAC,CAAC;UACJ;SACD;OAEJ,CAAC;MACA,MAAMQ,KAAK,CAACY,OAAO,EAAE;IACzB,CAAC;;EAEDC,KAAK;IACH,IAAI,CAACC,iBAAiB,GAAG,IAAI;IAC7B,IAAI,CAAC7B,WAAW,GAAG;MACjB8B,MAAM,EAAE,EAAE;MACVC,aAAa,EAAE,CAAC;MAChBC,IAAI,EAAE,CAAC;MACPC,IAAI,EAAE,CAAC;MACPC,MAAM,EAAE,CAAC;MACTC,YAAY,EAAE,EAAE;MAChBC,SAAS,EAAE,EAAE;MACblC,EAAE,EAAE,IAAI,CAACb,gBAAgB,CAACgD,KAAK,EAAE;MACjCC,KAAK,EAAE,IAAIC,IAAI;KAChB;EAEH;EACMzC,WAAW;;MACd,IAAI,CAACO,OAAO,GAAG,MAAM,IAAI,CAACf,WAAW,CAAC0B,MAAM,CAAC;QAC5CC,QAAQ,EAAC,QAAQ;QACjBE,OAAO,EAAE,cAAc;QACvBqB,OAAO,EAAE;OACV,CAAC;MAEH,MAAM,IAAI,CAACnC,OAAO,CAACsB,OAAO,EAAE;IAC7B,CAAC;;EACKpB,YAAY,CAACkC,GAAW;;MAC5B,MAAMC,KAAK,GAAG,MAAM,IAAI,CAACnD,eAAe,CAACyB,MAAM,CAAC;QAC9CC,QAAQ,EAAC,QAAQ;QACjBE,OAAO,EAAEsB,GAAG;QACZE,QAAQ,EAAE,IAAI;QACdC,IAAI,EAAC,mBAAmB;QACxBC,KAAK,EAAC;OACP,CAAC;MAEF,MAAMH,KAAK,CAACf,OAAO,EAAE;IACvB,CAAC;;;;mBAvGUzC,oBAAoB;AAAA;;QAApBA,oBAAoB;EAAA4D;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDdjClE,kCAAY;MAGNA,iCACF;MAAAA,iBAAY;MACZA,sCAA0B;MACZA;QAAA,OAASmE,cAAU;MAAA,EAAC;MAC9BnE,8BAA0E;MAC5EA,iBAAa;MAInBA,mCAAa;MAEkBA;QAAA,OAASmE,WAAO;MAAA,EAAC;MAAcnE,sBAAK;MAAAA,iBAAa;MAE9EA,wEAwCM;MAERA,iCAAU;MAC8BA,kCAAiB;MAAAA,iBAAK;MACtDA,iFAUW;MACnBA,iBAAW;;;MAvDHA,gBAAuB;MAAvBA,4CAAuB;MA4COA,eAAU;MAAVA,qCAAU","names":["i0","ctx_r13","SetReportesComponent","constructor","menuController","firestoreService","loadingCtrl","toastController","alertController","ngOnInit","leertRepo","openMenu","toggle","guardarRepo","showLoading","createRepo","newReportes","path","id","then","res","loading","dismiss","presentToast","catch","error","getCollection","subscribe","reporte","deleteReporte","Reporte","alert","create","cssClass","header","message","buttons","text","role","handler","console","log","deletetRepo","present","nuevo","enablenewReportes","nombre","identificador","edad","peso","altura","medicamentos","condicion","getId","fecha","Date","spinner","msg","toast","duration","icon","color","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\omarr\\Documents\\GitHub\\Asistente-M-dico-MedMate\\MedMate\\src\\app\\backend\\set-reportes\\set-reportes.component.html","C:\\Users\\omarr\\Documents\\GitHub\\Asistente-M-dico-MedMate\\MedMate\\src\\app\\backend\\set-reportes\\set-reportes.component.ts"],"sourcesContent":["<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title class=\"subtitulo\">\r\n      Agregar Reporte\r\n    </ion-title>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button (click)=\"openMenu()\">\r\n        <ion-icon color=\"primary\" slot=\"icon-only\" name=\"menu-outline\"></ion-icon>      \r\n      </ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n<ion-content>\r\n  <div style=\"text-align: end; margin: 10px;\" >\r\n    <ion-button class=\"normal\" (click)=\"nuevo()\" color=\"dark\">Nuevo</ion-button>\r\n  </div>\r\n  <div *ngIf=\"enablenewReportes\">\r\n    <ion-item>\r\n      <ion-buttons slot=\"end\">\r\n          <ion-button (click)=\"enablenewReportes = false\">\r\n      <ion-icon slot=\"icon-only\" color=\"dark\" name=\"close\"></ion-icon>\r\n    </ion-button>\r\n    <ion-button color=\"color1\" (click)=\"guardarRepo( )\">\r\n      <ion-icon slot=\"icon-only\" name=\"save-outline\"></ion-icon>\r\n    </ion-button>\r\n    </ion-buttons>\r\n    </ion-item>\r\n    <H3  class=\"subtitulo p-3 encabezado\">Agregar informacion personal</H3>\r\n        <ion-item>\r\n          <ion-label class=\"normal\" position=\"floating\">Nombre Completo:</ion-label>\r\n          <ion-input [(ngModel)]=\"newReportes.nombre\" class=\"normal\" type=\"text\" inputmode=\"text\"></ion-input>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-label class=\"normal\" position=\"floating\">Identificador:</ion-label>\r\n          <ion-input [(ngModel)]=\"newReportes.identificador\" class=\"normal\" type=\"number\" inputmode=\"numeric\"></ion-input>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-label class=\"normal\" position=\"floating\">Edad:</ion-label>\r\n          <ion-input [(ngModel)]=\"newReportes.edad\" class=\"normal\" type=\"number\" inputmode=\"numeric\"></ion-input>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-label class=\"normal\" position=\"floating\">Peso:</ion-label>\r\n          <ion-input [(ngModel)]=\"newReportes.peso\" class=\"normal\" type=\"number\" inputmode=\"numeric\"></ion-input>\r\n        </ion-item>\r\n        <ion-item>\r\n          <ion-label class=\"normal\" position=\"floating\">Altura:</ion-label>\r\n          <ion-input [(ngModel)]=\"newReportes.altura\" class=\"normal\" type=\"number\" inputmode=\"numeric\"></ion-input>\r\n        </ion-item>\r\n        <ion-item counter=\"true\">\r\n          <ion-label class=\"normal\" position=\"floating\">Medicamentos que consume:</ion-label>\r\n          <ion-textarea [(ngModel)]=\"newReportes.medicamentos\" class=\"normal\" type=\"text\" inputmode=\"text\" maxlength=\"120\"></ion-textarea>\r\n        </ion-item>\r\n        <ion-item counter=\"true\">\r\n          <ion-label class=\"normal\"position=\"floating\">Condicion medica:</ion-label>\r\n          <ion-textarea [(ngModel)]=\"newReportes.condicion\" class=\"normal\" type=\"text\" inputmode=\"text\" maxlength=\"120\"></ion-textarea>\r\n        </ion-item>\r\n  </div>\r\n\r\n<ion-card>\r\n  <H3  class=\"subtitulo p-3 encabezado\">Lista de reportes</H3>\r\n        <ion-item *ngFor=\"let Reporte of reporte\">\r\n          <ion-label class=\"normal\">{{Reporte.nombre}}</ion-label>\r\n          <ion-buttons slot=\"end\">\r\n            <ion-button (click)=\"newReportes = Reporte ; enablenewReportes = true\">\r\n              <ion-icon slot=\"icon-only\" class=\"color1\" name=\"create-outline\"></ion-icon>\r\n            </ion-button>\r\n            <ion-button (click)=\"deleteReporte(Reporte)\">\r\n              <ion-icon slot=\"icon-only\" color=\"danger\" name=\"trash-outline\"></ion-icon>\r\n            </ion-button>\r\n          </ion-buttons>\r\n        </ion-item>\r\n</ion-card>\r\n\r\n</ion-content>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, LoadingController, MenuController, ToastController } from '@ionic/angular';\r\nimport { mainModule } from 'process';\r\nimport { FirestoreService } from 'src/app/services/firestore.services';\r\n\r\nimport { ɵNullViewportScroller } from '@angular/common';\r\nimport { error } from 'console';\r\nimport { Reporte } from 'src/app/models/interface';\r\n\r\n@Component({\r\n  selector: 'app-set-reportes',\r\n  templateUrl: './set-reportes.component.html',\r\n  styleUrls: ['./set-reportes.component.scss'],\r\n})\r\nexport class SetReportesComponent implements OnInit {\r\n\r\n  reporte: Reporte[] = [];\r\n  newReportes!: Reporte;\r\n\r\n  enablenewReportes = false;\r\n\r\n  private path = 'reportes/';\r\n  loading: any;\r\n\r\n  constructor(public menuController: MenuController,\r\n              public firestoreService: FirestoreService,\r\n              private loadingCtrl: LoadingController,\r\n              private toastController: ToastController,\r\n              private alertController: AlertController) { }\r\n\r\n  ngOnInit() {\r\n    this.leertRepo();\r\n  }\r\n  openMenu(){\r\n    this.menuController.toggle('main');\r\n  }\r\n\r\n  guardarRepo(){\r\n    this.showLoading();\r\n    this.firestoreService.createRepo(this.newReportes, this.path, this.newReportes.id).then( res =>{\r\n      this.loading.dismiss();\r\n      this.presentToast('Guardado con exito');\r\n    }).catch(error => {\r\n      this.presentToast('No se pudo guardar');\r\n    });\r\n  }\r\n  leertRepo(){0\r\n    this.firestoreService.getCollection<Reporte>(this.path).subscribe( res =>{\r\n          this.reporte = res;\r\n    });\r\n  }\r\n  async deleteReporte(Reporte:Reporte){\r\n    const alert = await this.alertController.create({\r\n      cssClass:'normal',\r\n      header: 'Advertencia',\r\n      message: '¿Seguro que deseas <strong>eliminar</strong> este reporte?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          role: 'cancel',\r\n          cssClass:'normal',\r\n          handler: () => {\r\n            console.log('Alert canceled');\r\n          },\r\n        },\r\n        {\r\n          text: 'OK',\r\n          role: 'confirm',\r\n          handler: () => {\r\n            console.log('Alert confirmed');\r\n            this.firestoreService.deletetRepo(this.path, Reporte.id).then( res =>{\r\n              this.alertController.dismiss();\r\n              this.presentToast('Eliminado con exito');\r\n            }).catch(error => {\r\n              this.presentToast('No se pudo eliminar');\r\n            });\r\n          },\r\n        },\r\n      ],\r\n    });\r\n      await alert.present();\r\n  }\r\n\r\n  nuevo(){\r\n    this.enablenewReportes = true;\r\n    this.newReportes = {\r\n      nombre: '',\r\n      identificador: 0,\r\n      edad: 0,\r\n      peso: 0,\r\n      altura: 0,\r\n      medicamentos: '',\r\n      condicion: '',\r\n      id: this.firestoreService.getId(),\r\n      fecha: new Date()\r\n    };\r\n\r\n  }\r\n  async showLoading() {\r\n     this.loading = await this.loadingCtrl.create({\r\n      cssClass:'normal',\r\n      message: 'Guardando...',\r\n      spinner: 'circles',\r\n    });\r\n\r\n   await this.loading.present();\r\n  }\r\n  async presentToast(msg: string) {\r\n    const toast = await this.toastController.create({\r\n      cssClass:'normal',\r\n      message: msg,\r\n      duration: 2000,\r\n      icon:'thumbs-up-outline',\r\n      color:'light'\r\n    });\r\n\r\n    await toast.present();\r\n  }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}